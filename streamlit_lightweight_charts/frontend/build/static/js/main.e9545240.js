/*! For license information please see main.e9545240.js.LICENSE.txt */
(()=>{"use strict";var t={43:(t,e,i)=>{t.exports=i(202)},123:t=>{var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(t,r){for(var s,o,l=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),a=1;a<arguments.length;a++){for(var h in s=Object(arguments[a]))i.call(s,h)&&(l[h]=s[h]);if(e){o=e(s);for(var u=0;u<o.length;u++)n.call(s,o[u])&&(l[o[u]]=s[o[u]])}}return l}},129:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=void 0;var n=i(43),r=i(416);e.useNullableRenderData=function(){var t=(0,n.useState)(),e=t[0],i=t[1];return(0,n.useEffect)(function(){var t=function(t){i(t.detail)};r.Streamlit.events.addEventListener(r.Streamlit.RENDER_EVENT,t),r.Streamlit.setComponentReady();return function(){r.Streamlit.events.removeEventListener(r.Streamlit.RENDER_EVENT,t)}},[]),e}},153:(t,e,i)=>{var n=i(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,i){var n,s={},h=null,u=null;for(n in void 0!==i&&(h=""+i),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,n)&&!a.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:h,ref:u,props:s,_owner:l.current}}e.Fragment=s,e.jsx=h,e.jsxs=h},202:(t,e)=>{var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(t,e,i){this.props=t,this.context=e,this.refs=y,this.updater=i||p}function b(){}function v(t,e,i){this.props=t,this.context=e,this.refs=y,this.updater=i||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=g.prototype;var w=v.prototype=new b;w.constructor=v,m(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,s={},o=null,l=null;if(null!=e)for(r in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(o=""+e.key),e)S.call(e,r)&&!M.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var h=Array(a),u=0;u<a;u++)h[u]=arguments[u+2];s.children=h}if(t&&t.defaultProps)for(r in a=t.defaultProps)void 0===s[r]&&(s[r]=a[r]);return{$$typeof:i,type:t,key:o,ref:l,props:s,_owner:x.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var I=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function P(t,e,r,s,o){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var a=!1;if(null===t)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case i:case n:a=!0}}if(a)return o=o(a=t),t=""===s?"."+T(a,0):s,_(o)?(r="",null!=t&&(r=t.replace(I,"$&/")+"/"),P(o,e,r,"",function(t){return t})):null!=o&&(C(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+t)),e.push(o)),1;if(a=0,s=""===s?".":s+":",_(t))for(var h=0;h<t.length;h++){var u=s+T(l=t[h],h);a+=P(l,e,r,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),h=0;!(l=t.next()).done;)a+=P(l=l.value,e,r,u=s+T(l,h++),o);else if("object"===l)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function E(t,e,i){if(null==t)return t;var n=[],r=0;return P(t,n,"","",function(t){return e.call(i,t,r++)}),n}function D(t){if(-1===t._status){var e=t._result;(e=e()).then(function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)},function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)}),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var N={current:null},B={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:B,ReactCurrentOwner:x};function F(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:E,forEach:function(t,e,i){E(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return E(t,function(){e++}),e},toArray:function(t){return E(t,function(t){return t})||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=r,e.Profiler=o,e.PureComponent=v,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=F,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=m({},t.props),s=t.key,o=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,l=x.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(h in e)S.call(e,h)&&!M.hasOwnProperty(h)&&(r[h]=void 0===e[h]&&void 0!==a?a[h]:e[h])}var h=arguments.length-2;if(1===h)r.children=n;else if(1<h){a=Array(h);for(var u=0;u<h;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:i,type:t.type,key:s,ref:o,props:r,_owner:l}},e.createContext=function(t){return(t={$$typeof:a,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=B.transition;B.transition={};try{t()}finally{B.transition=e}},e.unstable_act=F,e.useCallback=function(t,e){return N.current.useCallback(t,e)},e.useContext=function(t){return N.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return N.current.useDeferredValue(t)},e.useEffect=function(t,e){return N.current.useEffect(t,e)},e.useId=function(){return N.current.useId()},e.useImperativeHandle=function(t,e,i){return N.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return N.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return N.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return N.current.useMemo(t,e)},e.useReducer=function(t,e,i){return N.current.useReducer(t,e,i)},e.useRef=function(t){return N.current.useRef(t)},e.useState=function(t){return N.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return N.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return N.current.useTransition()},e.version="18.3.1"},219:(t,e,i)=>{var n=i(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function a(t){return n.isMemo(t)?o:l[t.$$typeof]||r}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=o;var h=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;t.exports=function t(e,i,n){if("string"!==typeof i){if(m){var r=f(i);r&&r!==m&&t(e,r,n)}var o=u(i);c&&(o=o.concat(c(i)));for(var l=a(e),y=a(i),g=0;g<o.length;++g){var b=o[g];if(!s[b]&&(!n||!n[b])&&(!y||!y[b])&&(!l||!l[b])){var v=d(i,b);try{h(e,b,v)}catch(p){}}}}return e}},234:(t,e)=>{function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var n=i-1>>>1,r=t[n];if(!(0<s(r,e)))break t;t[n]=e,t[i]=r,i=n}}function n(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var n=0,r=t.length,o=r>>>1;n<o;){var l=2*(n+1)-1,a=t[l],h=l+1,u=t[h];if(0>s(a,i))h<r&&0>s(u,a)?(t[n]=u,t[h]=i,n=h):(t[n]=a,t[l]=i,n=l);else{if(!(h<r&&0>s(u,i)))break t;t[n]=u,t[h]=i,n=h}}}return e}function s(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var h=[],u=[],c=1,d=null,f=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=n(u);null!==e;){if(null===e.callback)r(u);else{if(!(e.startTime<=t))break;r(u),e.sortIndex=e.expirationTime,i(h,e)}e=n(u)}}function _(t){if(y=!1,w(t),!m)if(null!==n(h))m=!0,B(S);else{var e=n(u);null!==e&&O(_,e.startTime-t)}}function S(t,i){m=!1,y&&(y=!1,b(C),C=-1),p=!0;var s=f;try{for(w(i),d=n(h);null!==d&&(!(d.expirationTime>i)||t&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var l=o(d.expirationTime<=i);i=e.unstable_now(),"function"===typeof l?d.callback=l:d===n(h)&&r(h),w(i)}else r(h);d=n(h)}if(null!==d)var a=!0;else{var c=n(u);null!==c&&O(_,c.startTime-i),a=!1}return a}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,M=!1,k=null,C=-1,I=5,T=-1;function P(){return!(e.unstable_now()-T<I)}function E(){if(null!==k){var t=e.unstable_now();T=t;var i=!0;try{i=k(!0,t)}finally{i?x():(M=!1,k=null)}}else M=!1}if("function"===typeof v)x=function(){v(E)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=E,x=function(){N.postMessage(null)}}else x=function(){g(E,0)};function B(t){k=t,M||(M=!0,x())}function O(t,i){C=g(function(){t(e.unstable_now())},i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,B(S))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var i=f;f=e;try{return t()}finally{f=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=f;f=t;try{return e()}finally{f=i}},e.unstable_scheduleCallback=function(t,r,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:c++,callback:r,priorityLevel:t,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>o?(t.sortIndex=s,i(u,t),null===n(h)&&t===n(u)&&(y?(b(C),C=-1):y=!0,O(_,s-o))):(t.sortIndex=l,i(h,t),m||p||(m=!0,B(S))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var i=f;f=e;try{return t.apply(this,arguments)}finally{f=i}}}},416:(t,e,i)=>{i.r(e),i.d(e,{ArrowTable:()=>no,Streamlit:()=>so,StreamlitComponentBase:()=>ao,withStreamlitConnection:()=>ho});var n,r,s,o,l,a,h,u,c,d=i(219),f=i.n(d),m=i(904);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(n||(n={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(r||(r={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(s||(s={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(o||(o={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(l||(l={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(h||(h={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(u||(u={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(c||(c={}));const[y,g]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[b,v]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[w,_]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),S=t=>"number"===typeof t,x=t=>"boolean"===typeof t,M=t=>"function"===typeof t,k=t=>null!=t&&Object(t)===t,C=t=>k(t)&&M(t.then),I=t=>k(t)&&M(t[Symbol.iterator]),T=t=>k(t)&&M(t[Symbol.asyncIterator]),P=t=>k(t)&&k(t.schema),E=t=>k(t)&&"done"in t&&"value"in t,D=t=>k(t)&&M(t.stat)&&S(t.fd),N=t=>k(t)&&O(t.body),B=t=>"_getDOMStream"in t&&"_getNodeStream"in t,O=t=>k(t)&&M(t.cancel)&&M(t.getReader)&&!B(t),F=t=>k(t)&&M(t.read)&&M(t.pipe)&&x(t.readable)&&!B(t);function L(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof b||t instanceof w?`[${[...t].map(t=>L(t))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(t,e)=>"bigint"===typeof e?`${e}`:e)}function z(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{a(n.next(t))}catch(p){s(p)}}function l(t){try{a(n.throw(t))}catch(p){s(p)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,l)}a((n=n.apply(t,e||[])).next())})}Object.create;function R(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(t){return this instanceof A?(this.v=t,this):new A(t)}function U(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(t,e||[]),s=[];return n=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(t){return function(e){return Promise.resolve(e).then(t,h)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(t,e){r[t]&&(n[t]=function(e){return new Promise(function(i,n){s.push([t,e,i,n])>1||l(t,e)})},e&&(n[t]=e(n[t])))}function l(t,e){try{!function(t){t.value instanceof A?Promise.resolve(t.value.v).then(a,h):u(s[0][2],t)}(r[t](e))}catch(p){u(s[0][3],p)}}function a(t){l("next",t)}function h(t){l("throw",t)}function u(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function V(t){var e,i;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:A(t[n](e)),done:!1}:r?r(e):e}:r}}function Y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=R(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise(function(n,r){(function(t,e,i,n){Promise.resolve(n).then(function(e){t({value:e,done:i})},e)})(n,r,(e=t[i](e)).done,e.value)})}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const j=new TextDecoder("utf-8"),W=t=>j.decode(t),$=new TextEncoder,Q=t=>$.encode(t),H="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function X(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const r=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,r),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,r));return s.set(o,i),t}function q(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,n,r,s;for(let o,l,a=0,h=0,u=t.length;++a<u;)o=e[h],l=t[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset?l&&(e[++h]=l):(({byteOffset:i,byteLength:r}=o),({byteOffset:n,byteLength:s}=l),i+r<n||n+s<i?l&&(e[++h]=l):e[h]=new Uint8Array(o.buffer,i,n-i+s));return e}(t),n=i.reduce((t,e)=>t+e.byteLength,0);let r,s,o,l=0,a=-1;const h=Math.min(e||Number.POSITIVE_INFINITY,n);for(const u=i.length;++a<u;){if(r=i[a],s=r.subarray(0,Math.min(r.length,h-l)),h<=l+s.length){s.length<r.length?i[a]=r.subarray(s.length):s.length===r.length&&a++,o?X(o,s,l):o=s;break}X(o||(o=new Uint8Array(h)),s,l),l+=s.length}return[o||new Uint8Array(0),i.slice(a),n-(o?o.byteLength:0)]}function K(t,e){let i=E(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=Q(i)),i instanceof ArrayBuffer||i instanceof H?new t(i):(t=>k(t)&&M(t.clear)&&M(t.bytes)&&M(t.position)&&M(t.setPosition)&&M(t.capacity)&&M(t.getBufferIdentifier)&&M(t.createLong))(i)?K(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const G=t=>K(Int32Array,t),Z=t=>K(Uint8Array,t),J=t=>(t.next(),t);function*tt(t,e){const i=function*(t){yield t},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):I(e)?e:i(e);return yield*J(function*(e){let i=null;do{i=e.next(yield K(t,i))}while(!i.done)}(n[Symbol.iterator]())),new t}function et(t,e){return U(this,arguments,function*(){if(C(e))return yield A(yield A(yield*V(Y(et(t,yield A(e))))));const i=function(t){return U(this,arguments,function*(){yield yield A(yield A(t))})},n="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof H?i(e):I(e)?function(t){return U(this,arguments,function*(){yield A(yield*V(Y(J(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))})}(e):T(e)?e:i(e);return yield A(yield*V(Y(J(function(e){return U(this,arguments,function*(){let i=null;do{i=yield A(e.next(yield yield A(K(t,i))))}while(!i.done)})}(n[Symbol.asyncIterator]()))))),yield A(new t)})}function it(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=t}return i}const nt=Symbol.for("isArrowBigNum");function rt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return 0===i.length?Object.setPrototypeOf(K(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function st(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function ot(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function lt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return rt.apply(this,e)}function at(t){const{buffer:e,byteOffset:i,length:n,signed:r}=t,s=new w(e,i,n),o=r&&s[s.length-1]&BigInt(1)<<BigInt(63);let l=o?BigInt(1):BigInt(0),a=BigInt(0);if(o){for(const t of s)l+=~t*(BigInt(1)<<BigInt(32)*a++);l*=BigInt(-1)}else for(const h of s)l+=h*(BigInt(1)<<BigInt(32)*a++);return l}let ht,ut;function ct(t){let e="";const i=new Uint32Array(2);let n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const r=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(i[0]=n[s=0];s<o;)n[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+n[s];n[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e=`${i[0]}${e}`}while(r[0]||r[1]||r[2]||r[3]);return null!==e&&void 0!==e?e:"0"}rt.prototype[nt]=!0,rt.prototype.toJSON=function(){return`"${ht(this)}"`},rt.prototype.valueOf=function(){return at(this)},rt.prototype.toString=function(){return ht(this)},rt.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return at(this);case"string":return ht(this);case"default":return ut(this)}return ht(this)},Object.setPrototypeOf(st.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(ot.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(lt.prototype,Object.create(Uint32Array.prototype)),Object.assign(st.prototype,rt.prototype,{constructor:st,signed:!0,TypedArray:Int32Array,BigIntArray:b}),Object.assign(ot.prototype,rt.prototype,{constructor:ot,signed:!1,TypedArray:Uint32Array,BigIntArray:w}),Object.assign(lt.prototype,rt.prototype,{constructor:lt,signed:!0,TypedArray:Uint32Array,BigIntArray:w}),g?(ut=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:ct(t),ht=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:ct(t)):(ht=ct,ut=ht);class dt{static new(t,e){switch(e){case!0:return new st(t);case!1:return new ot(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case b:return new st(t)}return 16===t.byteLength?new lt(t):new ot(t)}static signed(t){return new st(t)}static unsigned(t){return new ot(t)}static decimal(t){return new lt(t)}constructor(t,e){return dt.new(t,e)}}var ft,pt,mt,yt,gt,bt,vt,wt,_t,St,xt,Mt,kt,Ct,It,Tt,Pt,Et,Dt,Nt;class Bt{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===u.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===u.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===u.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===u.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===u.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===u.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===u.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===u.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===u.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===u.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===u.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===u.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===u.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===u.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===u.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===u.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===u.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===u.Dictionary}static isDenseUnion(t){return Bt.isUnion(t)&&t.mode===r.Dense}static isSparseUnion(t){return Bt.isUnion(t)&&t.mode===r.Sparse}get typeId(){return u.NONE}}ft=Symbol.toStringTag,Bt[ft]=((Nt=Bt.prototype).children=null,Nt.ArrayType=Array,Nt[Symbol.toStringTag]="DataType");class Ot extends Bt{toString(){return"Null"}get typeId(){return u.Null}}pt=Symbol.toStringTag,Ot[pt]=(t=>t[Symbol.toStringTag]="Null")(Ot.prototype);class Ft extends Bt{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return u.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?b:w}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}mt=Symbol.toStringTag,Ft[mt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Ft.prototype);class Lt extends Ft{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Ft{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Ft{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Lt.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Ft{constructor(){super(!0,64)}get ArrayType(){return b}}.prototype,"ArrayType",{value:b}),Object.defineProperty(class extends Ft{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Ft{constructor(){super(!1,64)}get ArrayType(){return w}}.prototype,"ArrayType",{value:w});class zt extends Bt{constructor(t){super(),this.precision=t}get typeId(){return u.Float}get ArrayType(){switch(this.precision){case s.HALF:return Uint16Array;case s.SINGLE:return Float32Array;case s.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}yt=Symbol.toStringTag,zt[yt]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(zt.prototype);Object.defineProperty(class extends zt{constructor(){super(s.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends zt{constructor(){super(s.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends zt{constructor(){super(s.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class Rt extends Bt{constructor(){super()}get typeId(){return u.Binary}toString(){return"Binary"}}gt=Symbol.toStringTag,Rt[gt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Rt.prototype);class At extends Bt{constructor(){super()}get typeId(){return u.Utf8}toString(){return"Utf8"}}bt=Symbol.toStringTag,At[bt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(At.prototype);class Ut extends Bt{constructor(){super()}get typeId(){return u.Bool}toString(){return"Bool"}}vt=Symbol.toStringTag,Ut[vt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Ut.prototype);class Vt extends Bt{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return u.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}wt=Symbol.toStringTag,Vt[wt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Vt.prototype);class Yt extends Bt{constructor(t){super(),this.unit=t}get typeId(){return u.Date}toString(){return`Date${32*(this.unit+1)}<${o[this.unit]}>`}}_t=Symbol.toStringTag,Yt[_t]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Yt.prototype);class jt extends Bt{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return u.Time}toString(){return`Time${this.bitWidth}<${l[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return b}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}St=Symbol.toStringTag,jt[St]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(jt.prototype);class Wt extends Bt{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return u.Timestamp}toString(){return`Timestamp<${l[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}xt=Symbol.toStringTag,Wt[xt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Wt.prototype);class $t extends Bt{constructor(t){super(),this.unit=t}get typeId(){return u.Interval}toString(){return`Interval<${a[this.unit]}>`}}Mt=Symbol.toStringTag,$t[Mt]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))($t.prototype);class Qt extends Bt{constructor(t){super(),this.children=[t]}get typeId(){return u.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}kt=Symbol.toStringTag,Qt[kt]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Qt.prototype);class Ht extends Bt{constructor(t){super(),this.children=t}get typeId(){return u.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Ct=Symbol.toStringTag,Ht[Ct]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Ht.prototype);class Xt extends Bt{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((t,e,i)=>(t[e]=i)&&t||t,Object.create(null))}get typeId(){return u.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}It=Symbol.toStringTag,Xt[It]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Xt.prototype);class qt extends Bt{constructor(t){super(),this.byteWidth=t}get typeId(){return u.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Tt=Symbol.toStringTag,qt[Tt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(qt.prototype);class Kt extends Bt{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return u.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Pt=Symbol.toStringTag,Kt[Pt]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Kt.prototype);class Gt extends Bt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return u.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}Et=Symbol.toStringTag,Gt[Et]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Gt.prototype);const Zt=(Jt=-1,()=>++Jt);var Jt;class te extends Bt{constructor(t,e,i,n){super(),this.indices=e,this.dictionary=t,this.isOrdered=n||!1,this.id=null==i?Zt():"number"===typeof i?i:i.low}get typeId(){return u.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function ee(t){const e=t;switch(t.typeId){case u.Decimal:return t.bitWidth/32;case u.Timestamp:return 2;case u.Date:case u.Interval:return 1+e.unit;case u.FixedSizeList:return e.listSize;case u.FixedSizeBinary:return e.byteWidth;default:return 1}}Dt=Symbol.toStringTag,te[Dt]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(te.prototype);class ie{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.map((t,e)=>this.visit(t,...i.map(t=>t[e])))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ne(t,e,i);if("string"===typeof e&&e in u)return ne(t,u[e],i);if(e&&e instanceof Bt)return ne(t,re(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Bt)return ne(t,re(e.type),i);return ne(t,u.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ne(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ne(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=null;switch(e){case u.Null:n=t.visitNull;break;case u.Bool:n=t.visitBool;break;case u.Int:n=t.visitInt;break;case u.Int8:n=t.visitInt8||t.visitInt;break;case u.Int16:n=t.visitInt16||t.visitInt;break;case u.Int32:n=t.visitInt32||t.visitInt;break;case u.Int64:n=t.visitInt64||t.visitInt;break;case u.Uint8:n=t.visitUint8||t.visitInt;break;case u.Uint16:n=t.visitUint16||t.visitInt;break;case u.Uint32:n=t.visitUint32||t.visitInt;break;case u.Uint64:n=t.visitUint64||t.visitInt;break;case u.Float:n=t.visitFloat;break;case u.Float16:n=t.visitFloat16||t.visitFloat;break;case u.Float32:n=t.visitFloat32||t.visitFloat;break;case u.Float64:n=t.visitFloat64||t.visitFloat;break;case u.Utf8:n=t.visitUtf8;break;case u.Binary:n=t.visitBinary;break;case u.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case u.Date:n=t.visitDate;break;case u.DateDay:n=t.visitDateDay||t.visitDate;break;case u.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case u.Timestamp:n=t.visitTimestamp;break;case u.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case u.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case u.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case u.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case u.Time:n=t.visitTime;break;case u.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case u.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case u.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case u.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case u.Decimal:n=t.visitDecimal;break;case u.List:n=t.visitList;break;case u.Struct:n=t.visitStruct;break;case u.Union:n=t.visitUnion;break;case u.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case u.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case u.Dictionary:n=t.visitDictionary;break;case u.Interval:n=t.visitInterval;break;case u.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case u.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case u.FixedSizeList:n=t.visitFixedSizeList;break;case u.Map:n=t.visitMap}if("function"===typeof n)return n;if(!i)return()=>null;throw new Error(`Unrecognized type '${u[e]}'`)}function re(t){switch(t.typeId){case u.Null:return u.Null;case u.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?u.Int8:u.Uint8;case 16:return i?u.Int16:u.Uint16;case 32:return i?u.Int32:u.Uint32;case 64:return i?u.Int64:u.Uint64}return u.Int}case u.Float:switch(t.precision){case s.HALF:return u.Float16;case s.SINGLE:return u.Float32;case s.DOUBLE:return u.Float64}return u.Float;case u.Binary:return u.Binary;case u.Utf8:return u.Utf8;case u.Bool:return u.Bool;case u.Decimal:return u.Decimal;case u.Time:switch(t.unit){case l.SECOND:return u.TimeSecond;case l.MILLISECOND:return u.TimeMillisecond;case l.MICROSECOND:return u.TimeMicrosecond;case l.NANOSECOND:return u.TimeNanosecond}return u.Time;case u.Timestamp:switch(t.unit){case l.SECOND:return u.TimestampSecond;case l.MILLISECOND:return u.TimestampMillisecond;case l.MICROSECOND:return u.TimestampMicrosecond;case l.NANOSECOND:return u.TimestampNanosecond}return u.Timestamp;case u.Date:switch(t.unit){case o.DAY:return u.DateDay;case o.MILLISECOND:return u.DateMillisecond}return u.Date;case u.Interval:switch(t.unit){case a.DAY_TIME:return u.IntervalDayTime;case a.YEAR_MONTH:return u.IntervalYearMonth}return u.Interval;case u.Map:return u.Map;case u.List:return u.List;case u.Struct:return u.Struct;case u.Union:switch(t.mode){case r.Dense:return u.DenseUnion;case r.Sparse:return u.SparseUnion}return u.Union;case u.FixedSizeBinary:return u.FixedSizeBinary;case u.FixedSizeList:return u.FixedSizeList;case u.Dictionary:return u.Dictionary}throw new Error(`Unrecognized type '${u[t.typeId]}'`)}ie.prototype.visitInt8=null,ie.prototype.visitInt16=null,ie.prototype.visitInt32=null,ie.prototype.visitInt64=null,ie.prototype.visitUint8=null,ie.prototype.visitUint16=null,ie.prototype.visitUint32=null,ie.prototype.visitUint64=null,ie.prototype.visitFloat16=null,ie.prototype.visitFloat32=null,ie.prototype.visitFloat64=null,ie.prototype.visitDateDay=null,ie.prototype.visitDateMillisecond=null,ie.prototype.visitTimestampSecond=null,ie.prototype.visitTimestampMillisecond=null,ie.prototype.visitTimestampMicrosecond=null,ie.prototype.visitTimestampNanosecond=null,ie.prototype.visitTimeSecond=null,ie.prototype.visitTimeMillisecond=null,ie.prototype.visitTimeMicrosecond=null,ie.prototype.visitTimeNanosecond=null,ie.prototype.visitDenseUnion=null,ie.prototype.visitSparseUnion=null,ie.prototype.visitIntervalDayTime=null,ie.prototype.visitIntervalYearMonth=null;const se=new Float64Array(1),oe=new Uint32Array(se.buffer);function le(t){const e=(31744&t)>>10,i=(1023&t)/1024,n=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}class ae extends ie{}function he(t){return(e,i,n)=>{if(e.setValid(i,null!=n))return t(e,i,n)}}const ue=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},ce=(t,e,i,n)=>{if(i+1<e.length){const{[i]:r,[i+1]:s}=e;t.set(n.subarray(0,s-r),r)}},de=(t,e,i)=>{let{values:n}=t;n[e]=i},fe=(t,e,i)=>{let{values:n}=t;n[e]=i},pe=(t,e,i)=>{let{values:n}=t;n[e]=function(t){if(t!==t)return 32256;se[0]=t;const e=(2147483648&oe[1])>>16&65535;let i=2146435072&oe[1],n=0;return i>=1089470464?oe[0]>0?i=31744:(i=(2080374784&i)>>16,n=(1048575&oe[1])>>10):i<=1056964608?(n=1048576+(1048575&oe[1]),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=512+(1048575&oe[1])>>10),e|i|65535&n}(i)},me=(t,e,i)=>{let{values:n}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(n,e,i.valueOf())},ye=(t,e,i)=>{let{values:n}=t;ue(n,2*e,i.valueOf())},ge=(t,e,i)=>{let{values:n}=t;return ue(n,2*e,i/1e3)},be=(t,e,i)=>{let{values:n}=t;return ue(n,2*e,i)},ve=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(n,2*e,i)},we=(t,e,i)=>{let{values:n}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(n,2*e,i)},_e=(t,e,i)=>{let{values:n}=t;n[e]=i},Se=(t,e,i)=>{let{values:n}=t;n[e]=i},xe=(t,e,i)=>{let{values:n}=t;n[e]=i},Me=(t,e,i)=>{let{values:n}=t;n[e]=i},ke=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Pe.visit(r,t.valueOffsets[e],i)},Ce=(t,e,i)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];Pe.visit(r,e,i)},Ie=(t,e,i)=>{let{values:n}=t;n.set(i.subarray(0,2),2*e)},Te=(t,e,i)=>{let{values:n}=t;n[e]=12*i[0]+i[1]%12};ae.prototype.visitBool=he((t,e,i)=>{let{offset:n,values:r}=t;const s=n+e;i?r[s>>3]|=1<<s%8:r[s>>3]&=~(1<<s%8)}),ae.prototype.visitInt=he(de),ae.prototype.visitInt8=he(de),ae.prototype.visitInt16=he(de),ae.prototype.visitInt32=he(de),ae.prototype.visitInt64=he(de),ae.prototype.visitUint8=he(de),ae.prototype.visitUint16=he(de),ae.prototype.visitUint32=he(de),ae.prototype.visitUint64=he(de),ae.prototype.visitFloat=he((t,e,i)=>{switch(t.type.precision){case s.HALF:return pe(t,e,i);case s.SINGLE:case s.DOUBLE:return fe(t,e,i)}}),ae.prototype.visitFloat16=he(pe),ae.prototype.visitFloat32=he(fe),ae.prototype.visitFloat64=he(fe),ae.prototype.visitUtf8=he((t,e,i)=>{let{values:n,valueOffsets:r}=t;ce(n,r,e,Q(i))}),ae.prototype.visitBinary=he((t,e,i)=>{let{values:n,valueOffsets:r}=t;return ce(n,r,e,i)}),ae.prototype.visitFixedSizeBinary=he((t,e,i)=>{let{stride:n,values:r}=t;r.set(i.subarray(0,n),n*e)}),ae.prototype.visitDate=he((t,e,i)=>{t.type.unit===o.DAY?me(t,e,i):ye(t,e,i)}),ae.prototype.visitDateDay=he(me),ae.prototype.visitDateMillisecond=he(ye),ae.prototype.visitTimestamp=he((t,e,i)=>{switch(t.type.unit){case l.SECOND:return ge(t,e,i);case l.MILLISECOND:return be(t,e,i);case l.MICROSECOND:return ve(t,e,i);case l.NANOSECOND:return we(t,e,i)}}),ae.prototype.visitTimestampSecond=he(ge),ae.prototype.visitTimestampMillisecond=he(be),ae.prototype.visitTimestampMicrosecond=he(ve),ae.prototype.visitTimestampNanosecond=he(we),ae.prototype.visitTime=he((t,e,i)=>{switch(t.type.unit){case l.SECOND:return _e(t,e,i);case l.MILLISECOND:return Se(t,e,i);case l.MICROSECOND:return xe(t,e,i);case l.NANOSECOND:return Me(t,e,i)}}),ae.prototype.visitTimeSecond=he(_e),ae.prototype.visitTimeMillisecond=he(Se),ae.prototype.visitTimeMicrosecond=he(xe),ae.prototype.visitTimeNanosecond=he(Me),ae.prototype.visitDecimal=he((t,e,i)=>{let{values:n,stride:r}=t;n.set(i.subarray(0,r),r*e)}),ae.prototype.visitList=he((t,e,i)=>{const n=t.children[0],r=t.valueOffsets,s=Pe.getVisitFn(n);if(Array.isArray(i))for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i[++o]);else for(let o=-1,l=r[e],a=r[e+1];l<a;)s(n,l++,i.get(++o))}),ae.prototype.visitStruct=he((t,e,i)=>{const n=t.type.children.map(t=>Pe.getVisitFn(t.type)),r=i instanceof Map?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(r.name)))(e,i):i instanceof Qi?((t,e)=>(i,n,r,s)=>n&&i(n,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,n,r,s)=>n&&i(n,t,e[s]))(e,i):((t,e)=>(i,n,r,s)=>n&&i(n,t,e[r.name]))(e,i);t.type.children.forEach((e,i)=>r(n[i],t.children[i],e,i))}),ae.prototype.visitUnion=he((t,e,i)=>{t.type.mode===r.Dense?ke(t,e,i):Ce(t,e,i)}),ae.prototype.visitDenseUnion=he(ke),ae.prototype.visitSparseUnion=he(Ce),ae.prototype.visitDictionary=he((t,e,i)=>{var n;null===(n=t.dictionary)||void 0===n||n.set(t.values[e],i)}),ae.prototype.visitInterval=he((t,e,i)=>{t.type.unit===a.DAY_TIME?Ie(t,e,i):Te(t,e,i)}),ae.prototype.visitIntervalDayTime=he(Ie),ae.prototype.visitIntervalYearMonth=he(Te),ae.prototype.visitFixedSizeList=he((t,e,i)=>{const{stride:n}=t,r=t.children[0],s=Pe.getVisitFn(r);if(Array.isArray(i))for(let o=-1,l=e*n;++o<n;)s(r,l+o,i[o]);else for(let o=-1,l=e*n;++o<n;)s(r,l+o,i.get(o))}),ae.prototype.visitMap=he((t,e,i)=>{const n=t.children[0],{valueOffsets:r}=t,s=Pe.getVisitFn(n);let{[e]:o,[e+1]:l}=r;const a=i instanceof Map?i.entries():Object.entries(i);for(const h of a)if(s(n,o,h),++o>=l)break});const Pe=new ae,Ee=Symbol.for("parent"),De=Symbol.for("rowIndex");class Ne{constructor(t,e){return this[Ee]=t,this[De]=e,new Proxy(this,new Oe)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[De],e=this[Ee],i=e.type.children,n={};for(let r=-1,s=i.length;++r<s;)n[i[r].name]=ii.visit(e.children[r],t);return n}toString(){return`{${[...this].map(t=>{let[e,i]=t;return`${L(e)}: ${L(i)}`}).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Be(this[Ee],this[De])}}class Be{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ii.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Ne.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ee]:{writable:!0,enumerable:!1,configurable:!1,value:null},[De]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Oe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Ee].type.children.map(t=>t.name)}has(t,e){return-1!==t[Ee].type.children.findIndex(t=>t.name===e)}getOwnPropertyDescriptor(t,e){if(-1!==t[Ee].type.children.findIndex(t=>t.name===e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[Ee].type.children.findIndex(t=>t.name===e);if(-1!==i){const n=ii.visit(t[Ee].children[i],t[De]);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[Ee].type.children.findIndex(t=>t.name===e);return-1!==n?(Pe.visit(t[Ee].children[n],t[De],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class Fe extends ie{}function Le(t){return(e,i)=>e.getValid(i)?t(e,i):null}const ze=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),Re=t=>new Date(t),Ae=(t,e,i)=>{if(i+1>=e.length)return null;const n=e[i],r=e[i+1];return t.subarray(n,r)},Ue=(t,e)=>{let{values:i}=t;return((t,e)=>Re(((t,e)=>864e5*t[e])(t,e)))(i,e)},Ve=(t,e)=>{let{values:i}=t;return((t,e)=>Re(ze(t,e)))(i,2*e)},Ye=(t,e)=>{let{stride:i,values:n}=t;return n[i*e]},je=(t,e)=>{let{values:i}=t;return i[e]},We=(t,e)=>{let{values:i}=t;return 1e3*ze(i,2*e)},$e=(t,e)=>{let{values:i}=t;return ze(i,2*e)},Qe=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},He=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},Xe=(t,e)=>{let{values:i}=t;return i[e]},qe=(t,e)=>{let{values:i}=t;return i[e]},Ke=(t,e)=>{let{values:i}=t;return i[e]},Ge=(t,e)=>{let{values:i}=t;return i[e]},Ze=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,t.valueOffsets[e])},Je=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return ii.visit(n,e)},ti=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},ei=(t,e)=>{let{values:i}=t;const n=i[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};Fe.prototype.visitNull=Le((t,e)=>null),Fe.prototype.visitBool=Le((t,e)=>{let{offset:i,values:n}=t;const r=i+e;return 0!==(n[r>>3]&1<<r%8)}),Fe.prototype.visitInt=Le((t,e)=>{let{values:i}=t;return i[e]}),Fe.prototype.visitInt8=Le(Ye),Fe.prototype.visitInt16=Le(Ye),Fe.prototype.visitInt32=Le(Ye),Fe.prototype.visitInt64=Le(je),Fe.prototype.visitUint8=Le(Ye),Fe.prototype.visitUint16=Le(Ye),Fe.prototype.visitUint32=Le(Ye),Fe.prototype.visitUint64=Le(je),Fe.prototype.visitFloat=Le((t,e)=>{let{type:i,values:n}=t;return i.precision!==s.HALF?n[e]:le(n[e])}),Fe.prototype.visitFloat16=Le((t,e)=>{let{stride:i,values:n}=t;return le(n[i*e])}),Fe.prototype.visitFloat32=Le(Ye),Fe.prototype.visitFloat64=Le(Ye),Fe.prototype.visitUtf8=Le((t,e)=>{let{values:i,valueOffsets:n}=t;const r=Ae(i,n,e);return null!==r?W(r):null}),Fe.prototype.visitBinary=Le((t,e)=>{let{values:i,valueOffsets:n}=t;return Ae(i,n,e)}),Fe.prototype.visitFixedSizeBinary=Le((t,e)=>{let{stride:i,values:n}=t;return n.subarray(i*e,i*(e+1))}),Fe.prototype.visitDate=Le((t,e)=>t.type.unit===o.DAY?Ue(t,e):Ve(t,e)),Fe.prototype.visitDateDay=Le(Ue),Fe.prototype.visitDateMillisecond=Le(Ve),Fe.prototype.visitTimestamp=Le((t,e)=>{switch(t.type.unit){case l.SECOND:return We(t,e);case l.MILLISECOND:return $e(t,e);case l.MICROSECOND:return Qe(t,e);case l.NANOSECOND:return He(t,e)}}),Fe.prototype.visitTimestampSecond=Le(We),Fe.prototype.visitTimestampMillisecond=Le($e),Fe.prototype.visitTimestampMicrosecond=Le(Qe),Fe.prototype.visitTimestampNanosecond=Le(He),Fe.prototype.visitTime=Le((t,e)=>{switch(t.type.unit){case l.SECOND:return Xe(t,e);case l.MILLISECOND:return qe(t,e);case l.MICROSECOND:return Ke(t,e);case l.NANOSECOND:return Ge(t,e)}}),Fe.prototype.visitTimeSecond=Le(Xe),Fe.prototype.visitTimeMillisecond=Le(qe),Fe.prototype.visitTimeMicrosecond=Le(Ke),Fe.prototype.visitTimeNanosecond=Le(Ge),Fe.prototype.visitDecimal=Le((t,e)=>{let{values:i,stride:n}=t;return dt.decimal(i.subarray(n*e,n*(e+1)))}),Fe.prototype.visitList=Le((t,e)=>{const{valueOffsets:i,stride:n,children:r}=t,{[e*n]:s,[e*n+1]:o}=i,l=r[0].slice(s,o-s);return new Qi([l])}),Fe.prototype.visitStruct=Le((t,e)=>new Ne(t,e)),Fe.prototype.visitUnion=Le((t,e)=>t.type.mode===r.Dense?Ze(t,e):Je(t,e)),Fe.prototype.visitDenseUnion=Le(Ze),Fe.prototype.visitSparseUnion=Le(Je),Fe.prototype.visitDictionary=Le((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])}),Fe.prototype.visitInterval=Le((t,e)=>t.type.unit===a.DAY_TIME?ti(t,e):ei(t,e)),Fe.prototype.visitIntervalDayTime=Le(ti),Fe.prototype.visitIntervalYearMonth=Le(ei),Fe.prototype.visitFixedSizeList=Le((t,e)=>{const{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new Qi([r])}),Fe.prototype.visitMap=Le((t,e)=>{const{valueOffsets:i,children:n}=t,{[e]:r,[e+1]:s}=i,o=n[0];return new si(o.slice(r,s-r))});const ii=new Fe,ni=Symbol.for("keys"),ri=Symbol.for("vals");class si{constructor(t){return this[ni]=new Qi([t.children[0]]).memoize(),this[ri]=t.children[1],new Proxy(this,new li)}[Symbol.iterator](){return new oi(this[ni],this[ri])}get size(){return this[ni].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ni],e=this[ri],i={};for(let n=-1,r=t.length;++n<r;)i[t.get(n)]=ii.visit(e,n);return i}toString(){return`{${[...this].map(t=>{let[e,i]=t;return`${L(e)}: ${L(i)}`}).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class oi{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ii.visit(this.vals,t)]})}}class li{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ni].toArray().map(String)}has(t,e){return t[ni].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[ni].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[ni].indexOf(e);if(-1!==i){const n=ii.visit(Reflect.get(t,ri),i);return Reflect.set(t,e,n),n}}set(t,e,i){const n=t[ni].indexOf(e);return-1!==n?(Pe.visit(Reflect.get(t,ri),n,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let ai;function hi(t,e,i,n){const{length:r=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?r:i;return s<0&&(s=(s%r+r)%r),o<0&&(o=(o%r+r)%r),o<s&&(ai=s,s=o,o=ai),o>r&&(o=r),n?n(t,s,o):[s,o]}Object.defineProperties(si.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ni]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ri]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const ui=t=>t!==t;function ci(t){if("object"!==typeof t||null===t)return ui(t)?ui:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const n=t.length;if(n!==e.length)return!1;if(n>0)do{if(t[i]!==e[i])return!1}while(++i<n);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const n of t.values())i[++e]=ci(n);return di(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ci(t[i]);return di(e)}(t):t instanceof Qi?function(t){const e=[];for(let i=-1,n=t.length;++i<n;)e[i]=ci(t.get(i));return di(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const n=[];for(let r=-1,s=i.length;++r<s;)n[r]=ci(t[i[r]]);return di(n,i)}(t,!0)}function di(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}(t,i);case Map:return fi(t,i,i.keys());case si:case Ne:case Object:case void 0:return fi(t,i,e||Object.keys(i))}return i instanceof Qi&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}(t,i)}}function fi(t,e,i){const n=i[Symbol.iterator](),r=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const l=t.length;let a=s.next(),h=n.next(),u=r.next();for(;o<l&&!h.done&&!u.done&&!a.done&&(h.value===u.value&&t[o](a.value));++o,h=n.next(),u=r.next(),a=s.next());return!!(o===l&&h.done&&u.done&&a.done)||(n.return&&n.return(),r.return&&r.return(),s.return&&s.return(),!1)}class pi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function mi(t){return t.reduce((t,e)=>t+e.nullCount,0)}function yi(t){return t.reduce((t,e,i)=>(t[i+1]=t[i]+e.length,t),new Uint32Array(t.length+1))}function gi(t,e,i,n){const r=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],l=e[s],{length:a}=o;if(l>=n)break;if(i>=l+a)continue;if(l>=i&&l+a<=n){r.push(o);continue}const h=Math.max(0,i-l),u=Math.min(n-l,a);r.push(o.slice(h,u-h))}return 0===r.length&&r.push(t[0].slice(0,0)),r}function bi(t,e,i,n){let r=0,s=0,o=e.length-1;do{if(r>=o-1)return i<e[o]?n(t,r,i-e[r]):null;s=r+Math.trunc(.5*(o-r)),i<e[s]?o=s:r=s}while(r<o)}function vi(t,e){return t.getValid(e)}function wi(t){function e(e,i,n){return t(e[i],n)}return function(t){return bi(this.data,this._offsets,t,e)}}function _i(t){let e;function i(i,n,r){return t(i[n],r,e)}return function(t,n){const r=this.data;e=n;const s=bi(r,this._offsets,t,i);return e=void 0,s}}function Si(t){let e;function i(i,n,r){let s=r,o=0,l=0;for(let a=n-1,h=i.length;++a<h;){const n=i[a];if(~(o=t(n,e,s)))return l+o;s=0,l+=n.length}return-1}return function(t,n){e=t;const r=this.data,s="number"!==typeof n?i(r,0,0):bi(r,this._offsets,n,i);return e=void 0,s}}function xi(t,e,i,n){return 0!==(i&1<<n)}function Mi(t,e,i,n){return(i&1<<n)>>n}function ki(t,e,i){const n=i.byteLength+7&-8;if(t>0||i.byteLength<n){const r=new Uint8Array(n);return r.set(t%8===0?i.subarray(t>>3):Ci(new Ii(i,t,e,null,xi)).subarray(0,n)),r}return i}function Ci(t){const e=[];let i=0,n=0,r=0;for(const o of t)o&&(r|=1<<n),8===++n&&(e[i++]=r,r=n=0);(0===i||n>0)&&(e[i++]=r);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Ii{constructor(t,e,i,n,r){this.bytes=t,this.length=i,this.context=n,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ti(t,e,i){if(i-e<=0)return 0;if(i-e<8){let n=0;for(const r of new Ii(t,e,i-e,t,Mi))n+=r;return n}const n=i>>3<<3,r=e+(e%8===0?0:8-e%8);return Ti(t,e,r)+Ti(t,n,i)+function(t,e,i){let n=0,r=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:r+i;for(;o-r>=4;)n+=Pi(s.getUint32(r)),r+=4;for(;o-r>=2;)n+=Pi(s.getUint16(r)),r+=2;for(;o-r>=1;)n+=Pi(s.getUint8(r)),r+=1;return n}(t,r>>3,n-r>>3)}function Pi(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class Ei extends ie{}function Di(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(const r of new Ii(i,t.offset+(e||0),t.length,i,xi)){if(!r)return n;++n}return-1}(t,i);const n=ii.getVisitFn(t),r=ci(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}function Ni(t,e,i){const n=ii.getVisitFn(t),r=ci(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(r(n(t,s)))return s;return-1}Ei.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},Ei.prototype.visitBool=Di,Ei.prototype.visitInt=Di,Ei.prototype.visitInt8=Di,Ei.prototype.visitInt16=Di,Ei.prototype.visitInt32=Di,Ei.prototype.visitInt64=Di,Ei.prototype.visitUint8=Di,Ei.prototype.visitUint16=Di,Ei.prototype.visitUint32=Di,Ei.prototype.visitUint64=Di,Ei.prototype.visitFloat=Di,Ei.prototype.visitFloat16=Di,Ei.prototype.visitFloat32=Di,Ei.prototype.visitFloat64=Di,Ei.prototype.visitUtf8=Di,Ei.prototype.visitBinary=Di,Ei.prototype.visitFixedSizeBinary=Di,Ei.prototype.visitDate=Di,Ei.prototype.visitDateDay=Di,Ei.prototype.visitDateMillisecond=Di,Ei.prototype.visitTimestamp=Di,Ei.prototype.visitTimestampSecond=Di,Ei.prototype.visitTimestampMillisecond=Di,Ei.prototype.visitTimestampMicrosecond=Di,Ei.prototype.visitTimestampNanosecond=Di,Ei.prototype.visitTime=Di,Ei.prototype.visitTimeSecond=Di,Ei.prototype.visitTimeMillisecond=Di,Ei.prototype.visitTimeMicrosecond=Di,Ei.prototype.visitTimeNanosecond=Di,Ei.prototype.visitDecimal=Di,Ei.prototype.visitList=Di,Ei.prototype.visitStruct=Di,Ei.prototype.visitUnion=Di,Ei.prototype.visitDenseUnion=Ni,Ei.prototype.visitSparseUnion=Ni,Ei.prototype.visitDictionary=Di,Ei.prototype.visitInterval=Di,Ei.prototype.visitIntervalDayTime=Di,Ei.prototype.visitIntervalYearMonth=Di,Ei.prototype.visitFixedSizeList=Di,Ei.prototype.visitMap=Di;const Bi=new Ei;class Oi extends ie{}function Fi(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===u.Timestamp||e instanceof Ft&&64!==e.bitWidth||e instanceof jt&&64!==e.bitWidth||e instanceof zt&&e.precision!==s.HALF))return new pi(t.data.length,e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()});let i=0;return new pi(t.data.length,e=>{const n=t.data[e].length,r=t.slice(i,i+n);return i+=n,new Li(r)})}class Li{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Oi.prototype.visitNull=Fi,Oi.prototype.visitBool=Fi,Oi.prototype.visitInt=Fi,Oi.prototype.visitInt8=Fi,Oi.prototype.visitInt16=Fi,Oi.prototype.visitInt32=Fi,Oi.prototype.visitInt64=Fi,Oi.prototype.visitUint8=Fi,Oi.prototype.visitUint16=Fi,Oi.prototype.visitUint32=Fi,Oi.prototype.visitUint64=Fi,Oi.prototype.visitFloat=Fi,Oi.prototype.visitFloat16=Fi,Oi.prototype.visitFloat32=Fi,Oi.prototype.visitFloat64=Fi,Oi.prototype.visitUtf8=Fi,Oi.prototype.visitBinary=Fi,Oi.prototype.visitFixedSizeBinary=Fi,Oi.prototype.visitDate=Fi,Oi.prototype.visitDateDay=Fi,Oi.prototype.visitDateMillisecond=Fi,Oi.prototype.visitTimestamp=Fi,Oi.prototype.visitTimestampSecond=Fi,Oi.prototype.visitTimestampMillisecond=Fi,Oi.prototype.visitTimestampMicrosecond=Fi,Oi.prototype.visitTimestampNanosecond=Fi,Oi.prototype.visitTime=Fi,Oi.prototype.visitTimeSecond=Fi,Oi.prototype.visitTimeMillisecond=Fi,Oi.prototype.visitTimeMicrosecond=Fi,Oi.prototype.visitTimeNanosecond=Fi,Oi.prototype.visitDecimal=Fi,Oi.prototype.visitList=Fi,Oi.prototype.visitStruct=Fi,Oi.prototype.visitUnion=Fi,Oi.prototype.visitDenseUnion=Fi,Oi.prototype.visitSparseUnion=Fi,Oi.prototype.visitDictionary=Fi,Oi.prototype.visitInterval=Fi,Oi.prototype.visitIntervalDayTime=Fi,Oi.prototype.visitIntervalYearMonth=Fi,Oi.prototype.visitFixedSizeList=Fi,Oi.prototype.visitMap=Fi;const zi=new Oi,Ri=(t,e)=>t+e;class Ai extends ie{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===l.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce((t,i)=>t+Yi.visit(i,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((t,i)=>t+Yi.visit(i,e),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Ui=(t,e)=>{let{type:i,children:n,typeIds:r,valueOffsets:s}=t;const o=i.typeIdToChildIndex[r[e]];return 8+Yi.visit(n[o],s[e])},Vi=(t,e)=>{let{children:i}=t;return 4+Yi.visitMany(i,i.map(()=>e)).reduce(Ri,0)};Ai.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Ai.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Ai.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:n,children:r}=t;const s=r[0],{[e*n]:o}=i,{[e*n+1]:l}=i,a=Yi.getVisitFn(s.type),h=s.slice(o,l-o);let u=8;for(let c=-1,d=l-o;++c<d;)u+=a(h,c);return u},Ai.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:n}=t;const r=n[0],s=r.slice(e*i,i),o=Yi.getVisitFn(r.type);let l=0;for(let a=-1,h=s.length;++a<h;)l+=o(s,a);return l},Ai.prototype.visitUnion=(t,e)=>t.type.mode===r.Dense?Ui(t,e):Vi(t,e),Ai.prototype.visitDenseUnion=Ui,Ai.prototype.visitSparseUnion=Vi;const Yi=new Ai;var ji;const Wi={},$i={};class Qi{constructor(t){var e,i,n;const r=t[0]instanceof Qi?t.flatMap(t=>t.data):t;if(0===r.length||r.some(t=>!(t instanceof Xi)))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=r[0])||void 0===e?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:n}=Wi[s.typeId],o=r[0];this.isValid=t=>vi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>n(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,$i[s.typeId]),this._offsets=yi(r)}this.data=r,this.type=s,this.stride=ee(s),this.numChildren=null!==(n=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==n?n:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${u[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return zi.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Qi(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Qi(hi(this,t,e,(t,e,i)=>{let{data:n,_offsets:r}=t;return gi(n,r,e,i)}))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:n,ArrayType:r}=this;switch(t.typeId){case u.Int:case u.Float:case u.Decimal:case u.Time:case u.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,i*n);default:return e.reduce((t,e)=>{let{values:i,length:r}=e;return t.array.set(i.subarray(0,r*n),t.offset),t.offset+=r*n,t},{array:new r(i*n),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new Qi(this.data.map(e=>{let{children:i}=e;return i[t]})):null}get isMemoized(){return!!Bt.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Bt.isDictionary(this.type)){const t=new Hi(this.data[0].dictionary),e=this.data.map(e=>{const i=e.clone();return i.dictionary=t,i});return new Qi(e)}return new Hi(this)}unmemoize(){if(Bt.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(e=>{const i=e.clone();return i.dictionary=t,i});return new Qi(e)}return this}}ji=Symbol.toStringTag,Qi[ji]=(t=>{t.type=Bt.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(u).map(t=>u[t]).filter(t=>"number"===typeof t&&t!==u.NONE);for(const i of e){const e=ii.getVisitFnByTypeId(i),n=Pe.getVisitFnByTypeId(i),r=Bi.getVisitFnByTypeId(i),s=Yi.getVisitFnByTypeId(i);Wi[i]={get:e,set:n,indexOf:r,byteLength:s},$i[i]=Object.create(t,{isValid:{value:wi(vi)},get:{value:wi(ii.getVisitFnByTypeId(i))},set:{value:_i(Pe.getVisitFnByTypeId(i))},indexOf:{value:Si(Bi.getVisitFnByTypeId(i))},getByteLength:{value:wi(Yi.getVisitFnByTypeId(i))}})}return"Vector"})(Qi.prototype);class Hi extends Qi{constructor(t){super(t.data);const e=this.get,i=this.set,n=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=r[t];if(void 0!==i)return i;const n=e.call(this,t);return r[t]=n,n}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),r[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Hi(n.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Qi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Xi{constructor(t,e,i,n,r){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],l=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),r instanceof Xi?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ee(t),r&&((s=r[0])&&(this.valueOffsets=s),(s=r[1])&&(this.values=s),(s=r[2])&&(this.nullBitmap=s),(s=r[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:n,typeIds:r}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),n&&(t+=n.byteLength),r&&(t+=r.byteLength),this.children.reduce((t,e)=>t+e.byteLength,t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Ti(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:n}=this,r=n+t>>3,s=(n+t)%8,o=i[r]>>s&1;return e?0===o&&(i[r]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[r]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Xi(t,e,i,n,r,s,this.dictionary)}slice(t,e){const{stride:i,typeId:n,children:r}=this,s=+(0===this._nullCount)-1,o=16===n?i:1,l=this._sliceBuffers(t,e,i,n);return this.clone(this.type,this.offset+t,e,s,l,0===r.length||this.valueOffsets?r:this._sliceChildren(r,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===u.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,n=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);n[e>>3]=(1<<e-(-8&e))-1,i>0&&n.set(ki(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[c.VALIDITY]=n,this.clone(this.type,0,t,i+(t-e),r)}_sliceBuffers(t,e,i,n){let r;const{buffers:s}=this;return(r=s[c.TYPE])&&(s[c.TYPE]=r.subarray(t,t+e)),(r=s[c.OFFSET])&&(s[c.OFFSET]=r.subarray(t,t+e+1))||(r=s[c.DATA])&&(s[c.DATA]=6===n?r:r.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map(t=>t.slice(e,i))}}Xi.prototype.children=Object.freeze([]);class qi extends ie{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:n=0}=t;return new Xi(e,i,n,0)}visitBool(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitInt(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitFloat(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitUtf8(t){const{type:e,offset:i=0}=t,n=Z(t.data),r=Z(t.nullBitmap),s=G(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,o,l,[s,n,r])}visitBinary(t){const{type:e,offset:i=0}=t,n=Z(t.data),r=Z(t.nullBitmap),s=G(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,o,l,[s,n,r])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitDate(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitTimestamp(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitTime(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitDecimal(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitList(t){const{type:e,offset:i=0,child:n}=t,r=Z(t.nullBitmap),s=G(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,o,l,[s,void 0,r],[n])}visitStruct(t){const{type:e,offset:i=0,children:n=[]}=t,r=Z(t.nullBitmap),{length:s=n.reduce((t,e)=>{let{length:i}=e;return Math.max(t,i)},0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,void 0,r],n)}visitUnion(t){const{type:e,offset:i=0,children:n=[]}=t,r=Z(t.nullBitmap),s=K(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:l=(t.nullBitmap?-1:0)}=t;if(Bt.isSparseUnion(e))return new Xi(e,i,o,l,[void 0,void 0,r,s],n);const a=G(t.valueOffsets);return new Xi(e,i,o,l,[a,void 0,r,s],n)}visitDictionary(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.indices.ArrayType,t.data),{dictionary:s=new Qi([(new qi).visit({type:e.dictionary})])}=t,{length:o=r.length,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,o,l,[void 0,r,n],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,n=Z(t.nullBitmap),r=K(e.ArrayType,t.data),{length:s=r.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,r,n])}visitFixedSizeList(t){const{type:e,offset:i=0,child:n=(new qi).visit({type:e.valueType})}=t,r=Z(t.nullBitmap),{length:s=n.length/ee(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,s,o,[void 0,void 0,r],[n])}visitMap(t){const{type:e,offset:i=0,child:n=(new qi).visit({type:e.childType})}=t,r=Z(t.nullBitmap),s=G(t.valueOffsets),{length:o=s.length-1,nullCount:l=(t.nullBitmap?-1:0)}=t;return new Xi(e,i,o,l,[s,void 0,r],[n])}}function Ki(t){return(new qi).visit(t)}class Gi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=tn(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),i=this.fields.filter(t=>e.has(t.name));return new Gi(i,this.metadata)}selectAt(t){const e=t.map(t=>this.fields[t]).filter(Boolean);return new Gi(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const n=e[0]instanceof Gi?e[0]:Array.isArray(e[0])?new Gi(e[0]):new Gi(e),r=[...this.fields],s=Ji(Ji(new Map,this.metadata),n.metadata),o=n.fields.filter(t=>{const e=r.findIndex(e=>e.name===t.name);return!~e||(r[e]=t.clone({metadata:Ji(Ji(new Map,r[e].metadata),t.metadata)}))&&!1}),l=tn(o,new Map);return new Gi([...r,...o],s,new Map([...this.dictionaries,...l]))}}Gi.prototype.fields=null,Gi.prototype.metadata=null,Gi.prototype.dictionaries=null;class Zi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=n||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:n}=e[0]),void 0===r&&(r=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new Zi(`${n}`,r,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,r,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:n=this.name,type:r=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[n=this.name,r=this.type,s=this.nullable,o=this.metadata]=e,Zi.new(n,r,s,o)}}function Ji(t,e){return new Map([...t||new Map,...e||new Map])}function tn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,n=t.length;++i<n;){const n=t[i].type;if(Bt.isDictionary(n))if(e.has(n.id)){if(e.get(n.id)!==n.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(n.id,n.dictionary);n.children&&n.children.length>0&&tn(n.children,e)}return e}Zi.prototype.type=null,Zi.prototype.name=null,Zi.prototype.nullable=null,Zi.prototype.metadata=null;class en extends ie{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,i)=>this.compareFields(t,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function nn(t,e){return e instanceof t.constructor}function rn(t,e){return t===e||nn(t,e)}function sn(t,e){return t===e||nn(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function on(t,e){return t===e||nn(t,e)&&t.precision===e.precision}function ln(t,e){return t===e||nn(t,e)&&t.unit===e.unit}function an(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function hn(t,e){return t===e||nn(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function un(t,e){return t===e||nn(t,e)&&t.mode===e.mode&&t.typeIds.every((t,i)=>t===e.typeIds[i])&&dn.compareManyFields(t.children,e.children)}function cn(t,e){return t===e||nn(t,e)&&t.unit===e.unit}en.prototype.visitNull=rn,en.prototype.visitBool=rn,en.prototype.visitInt=sn,en.prototype.visitInt8=sn,en.prototype.visitInt16=sn,en.prototype.visitInt32=sn,en.prototype.visitInt64=sn,en.prototype.visitUint8=sn,en.prototype.visitUint16=sn,en.prototype.visitUint32=sn,en.prototype.visitUint64=sn,en.prototype.visitFloat=on,en.prototype.visitFloat16=on,en.prototype.visitFloat32=on,en.prototype.visitFloat64=on,en.prototype.visitUtf8=rn,en.prototype.visitBinary=rn,en.prototype.visitFixedSizeBinary=function(t,e){return t===e||nn(t,e)&&t.byteWidth===e.byteWidth},en.prototype.visitDate=ln,en.prototype.visitDateDay=ln,en.prototype.visitDateMillisecond=ln,en.prototype.visitTimestamp=an,en.prototype.visitTimestampSecond=an,en.prototype.visitTimestampMillisecond=an,en.prototype.visitTimestampMicrosecond=an,en.prototype.visitTimestampNanosecond=an,en.prototype.visitTime=hn,en.prototype.visitTimeSecond=hn,en.prototype.visitTimeMillisecond=hn,en.prototype.visitTimeMicrosecond=hn,en.prototype.visitTimeNanosecond=hn,en.prototype.visitDecimal=rn,en.prototype.visitList=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitStruct=function(t,e){return t===e||nn(t,e)&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitUnion=un,en.prototype.visitDenseUnion=un,en.prototype.visitSparseUnion=un,en.prototype.visitDictionary=function(t,e){return t===e||nn(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&dn.visit(t.indices,e.indices)&&dn.visit(t.dictionary,e.dictionary)},en.prototype.visitInterval=cn,en.prototype.visitIntervalDayTime=cn,en.prototype.visitIntervalYearMonth=cn,en.prototype.visitFixedSizeList=function(t,e){return t===e||nn(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)},en.prototype.visitMap=function(t,e){return t===e||nn(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&dn.compareManyFields(t.children,e.children)};const dn=new en;function fn(t,e){return dn.compareSchemas(t,e)}var pn,mn;class yn{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Gi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ki({nullCount:0,type:new Ht(this.schema.fields),children:this.schema.fields.map(t=>Ki({type:t.type,nullCount:0}))})]=e,!(this.data instanceof Xi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=gn(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:n,length:r}=Object.keys(t).reduce((e,i,n)=>(e.children[n]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[n]=Zi.new({name:i,type:t[i].type,nullable:!0}),e),{length:0,fields:new Array,children:new Array}),s=new Gi(i),o=Ki({type:new Ht(i),length:r,children:n,nullCount:0});[this.schema,this.data]=gn(s,o.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=bn(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ii.visit(this.data,t)}set(t,e){return Pe.visit(this.data,t,e)}indexOf(t,e){return Bi.visit(this.data,t,e)}getByteLength(t){return Yi.visit(this.data,t)}[Symbol.iterator](){return zi.visit(new Qi([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Sn(this.schema,[this,...e])}slice(t,e){const[i]=new Qi([this.data]).slice(t,e).data;return new yn(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex(e=>e.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Qi([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,n=this.data;if(t>-1&&t<this.numCols){e||(e=new Qi([Ki({type:new Ot,length:this.numRows})]));const r=i.fields.slice(),s=n.children.slice(),o=r[t].clone({type:e.type});[r[t],s[t]]=[o,e.data[0]],i=new Gi(r,new Map(this.schema.metadata)),n=Ki({type:new Ht(r),children:s})}return new yn(i,n)}select(t){const e=this.schema.select(t),i=new Ht(e.fields),n=[];for(const r of t){const t=this.schema.fields.findIndex(t=>t.name===r);~t&&(n[t]=this.data.children[t])}return new yn(e,Ki({type:i,length:this.numRows,children:n}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map(t=>this.data.children[t]).filter(Boolean),n=Ki({type:new Ht(e.fields),length:this.numRows,children:i});return new yn(e,n)}}function gn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce((t,e)=>Math.max(t,e.length),0);var n;const r=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[l,a]of t.fields.entries()){const t=e[l];t&&t.length===i||(r[l]=a.clone({nullable:!0}),s[l]=null!==(n=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:Ki({type:a.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(r),Ki({type:new Ht(r),length:i,children:s})]}function bn(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let n=-1,r=t.length;++n<r;){const r=t[n].type,s=e[n];if(Bt.isDictionary(r))if(i.has(r.id)){if(i.get(r.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(r.id,s.dictionary);r.children&&r.children.length>0&&bn(r.children,s.children,i)}return i}pn=Symbol.toStringTag,yn[pn]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(yn.prototype);class vn extends yn{constructor(t){const e=t.fields.map(t=>Ki({type:t.type}));super(t,Ki({type:new Ht(t.fields),nullCount:0,children:e}))}}function wn(t,e){return function(t,e){const i=[...t.fields],n=[],r={numBatches:e.reduce((t,e)=>Math.max(t,e.length),0)};let s=0,o=0,l=-1;const a=e.length;let h,u=[];for(;r.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)u[l]=h=e[l].shift(),o=Math.min(o,h?h.length:o);Number.isFinite(o)&&(u=_n(i,o,u,e,r),o>0&&(n[s++]=Ki({type:new Ht(i),length:o,nullCount:0,children:u.slice()})))}return[t=t.assign(i),n.map(e=>new yn(t,e))]}(t,e.map(t=>t.data.concat()))}function _n(t,e,i,n,r){var s;const o=(e+63&-64)>>3;for(let l=-1,a=n.length;++l<a;){const a=i[l],h=null===a||void 0===a?void 0:a.length;if(h>=e)h===e?i[l]=a:(i[l]=a.slice(0,e),r.numBatches=Math.max(r.numBatches,n[l].unshift(a.slice(e,h-e))));else{const n=t[l];t[l]=n.clone({nullable:!0}),i[l]=null!==(s=null===a||void 0===a?void 0:a._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Ki({type:n.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class Sn{constructor(){for(var t,e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];if(0===n.length)return this.batches=[],this.schema=new Gi([]),this._offsets=[0],this;let s,o;n[0]instanceof Gi&&(s=n.shift()),n[n.length-1]instanceof Uint32Array&&(o=n.pop());const l=t=>{if(t){if(t instanceof yn)return[t];if(t instanceof Sn)return t.batches;if(t instanceof Xi){if(t.type instanceof Ht)return[new yn(new Gi(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap(t=>l(t));if("function"===typeof t[Symbol.iterator])return[...t].flatMap(t=>l(t));if("object"===typeof t){const e=Object.keys(t),i=e.map(e=>new Qi([t[e]])),n=new Gi(e.map((t,e)=>new Zi(String(t),i[e].type))),[,r]=wn(n,i);return 0===r.length?[new yn(t)]:r}}}return[]},a=n.flatMap(t=>l(t));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=a[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Gi([]),!(s instanceof Gi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const h of a){if(!(h instanceof yn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!fn(s,h.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=a,this._offsets=null!==o&&void 0!==o?o:yi(this.data)}get data(){return this.batches.map(t=>{let{data:e}=t;return e})}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=mi(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?zi.visit(new Qi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=this.data.concat(i.flatMap(t=>{let{data:e}=t;return e}));return new Sn(t,r.map(e=>new yn(t,e)))}slice(t,e){const i=this.schema;[t,e]=hi({length:this.numRows},t,e);const n=gi(this.data,this._offsets,t,e);return new Sn(i,n.map(t=>new yn(i,t)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(e=>e.children[t]);if(0===e.length){const{type:i}=this.schema.fields[t],n=Ki({type:i,length:0,nullCount:0});e.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Qi(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex(e=>e.name===t),e)}setChildAt(t,e){let i=this.schema,n=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Qi([Ki({type:new Ot,length:this.numRows})]));const r=i.fields.slice(),s=r[t].clone({type:e.type}),o=this.schema.fields.map((t,e)=>this.getChildAt(e));[r[t],o[t]]=[s,e],[i,n]=wn(i,o)}return new Sn(i,n)}select(t){const e=this.schema.fields.reduce((t,e,i)=>t.set(e.name,i),new Map);return this.selectAt(t.map(t=>e.get(t)).filter(t=>t>-1))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map(e=>e.selectAt(t));return new Sn(e,i)}assign(t){const e=this.schema.fields,[i,n]=t.schema.fields.reduce((t,i,n)=>{const[r,s]=t,o=e.findIndex(t=>t.name===i.name);return~o?s[o]=n:r.push(n),t},[[],[]]),r=this.schema.assign(t.schema),s=[...e.map((t,e)=>[e,n[e]]).map(e=>{let[i,n]=e;return void 0===n?this.getChildAt(i):t.getChildAt(n)}),...i.map(e=>t.getChildAt(e))].filter(Boolean);return new Sn(...wn(r,s))}}mn=Symbol.toStringTag,Sn[mn]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=wi(vi),t.get=wi(ii.getVisitFn(u.Struct)),t.set=_i(Pe.getVisitFn(u.Struct)),t.indexOf=Si(Bi.getVisitFn(u.Struct)),t.getByteLength=wi(Yi.getVisitFn(u.Struct)),"Table"))(Sn.prototype);class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,n){return t.prep(8,24),t.writeInt64(n),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const Mn=new Int32Array(2),kn=new Float32Array(Mn.buffer),Cn=new Float64Array(Mn.buffer),In=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Tn{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Tn.ZERO:new Tn(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var Pn,En,Dn,Nn,Bn;Tn.ZERO=new Tn(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(Pn||(Pn={}));class On{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new On(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Tn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Tn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Mn[0]=this.readInt32(t),kn[0]}readFloat64(t){return Mn[In?0:1]=this.readInt32(t),Mn[In?1:0]=this.readInt32(t+4),Cn[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){kn[0]=e,this.writeInt32(t,Mn[0])}writeFloat64(t,e){Cn[0]=e,this.writeInt32(t,Mn[In?0:1]),this.writeInt32(t+4,Mn[In?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let n="",r=0;if(t+=4,e===Pn.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;r<i;){let e;const i=this.readUint8(t+r++);if(i<192)e=i;else{const n=this.readUint8(t+r++);if(i<224)e=(31&i)<<6|63&n;else{const s=this.readUint8(t+r++);if(i<240)e=(15&i)<<12|(63&n)<<6|63&s;else{e=(7&i)<<18|(63&n)<<12|(63&s)<<6|63&this.readUint8(t+r++)}}}e<65536?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return n}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Tn.create(t,e)}createScalarList(t,e){const i=[];for(let n=0;n<e;++n)null!==t(n)&&i.push(t(n));return i}createObjList(t,e){const i=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&i.push(e.unpack())}return i}}class Fn{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=On.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=Fn.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,n=On.allocate(i);return n.setPosition(i-e),n.bytes().set(t.bytes(),i-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const n=2*(i+2);this.addInt16(n);let r=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(n==this.bb.readInt16(t)){for(let e=2;e<n;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const n=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let n;const r=t.charCodeAt(i++);if(r<55296||r>=56320)n=r;else{n=(r<<10)+t.charCodeAt(i++)+-56613888}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,n=this.space,r=this.bb.bytes();i<e.length;i++)r[n++]=e[i];return this.endVector()}createLong(t,e){return Tn.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const n=t[i];if(null===n)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Ln.startKeyValue(t),Ln.addKey(t,e),Ln.addValue(t,i),Ln.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(En||(En={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(Dn||(Dn={})),function(t){t[t.DenseArray=0]="DenseArray"}(Nn||(Nn={}));class zn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return zn.startInt(t),zn.addBitWidth(t,e),zn.addIsSigned(t,i),zn.endInt(t)}}class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new zn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Nn.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Nn.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Bn||(Bn={}));class An{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new An).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new An).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Bn.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Rn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new An).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Bn.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Dn.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new An).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Dn.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,n,r){return Un.startSchema(t),Un.addEndianness(t,e),Un.addFields(t,i),Un.addCustomMetadata(t,n),Un.addFeatures(t,r),Un.endSchema(t)}}class Vn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):En.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Un).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new xn).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,En.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var Yn=Tn,jn=Fn,Wn=On;class $n{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),r&&(this._dictionaryBatches=r)}static decode(t){t=new Wn(Z(t));const e=Vn.getRootAsFooter(t),i=Gi.decode(e.schema());return new Qn(i,e)}static encode(t){const e=new jn,i=Gi.encode(e,t.schema);Vn.startRecordBatchesVector(e,t.numRecordBatches);for(const n of[...t.recordBatches()].slice().reverse())Hn.encode(e,n);const r=e.endVector();Vn.startDictionariesVector(e,t.numDictionaries);for(const n of[...t.dictionaryBatches()].slice().reverse())Hn.encode(e,n);const s=e.endVector();return Vn.startFooter(e),Vn.addSchema(e,i),Vn.addVersion(e,n.V4),Vn.addRecordBatches(e,r),Vn.addDictionaries(e,s),Vn.finishFooterBuffer(e,Vn.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class Qn extends $n{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Hn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Hn.decode(e)}return null}}class Hn{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Hn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,n=new Yn(e.offset,0),r=new Yn(e.bodyLength,0);return xn.createBlock(t,n,i,r)}}const Xn={fromIterable:t=>qn(function*(t){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?q(o,r)[0]:([i,o,l]=q(o,r),i)}({cmd:n,size:r}=yield null);const h=(u=t,tt(Uint8Array,u))[Symbol.iterator]();var u;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?h.next():h.next(r-l)),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield a())}while(r<l)}while(!e)}catch(p){(s=!0)&&"function"===typeof h.throw&&h.throw(p)}finally{!1===s&&"function"===typeof h.return&&h.return(null)}return null}(t)),fromAsyncIterable:t=>qn(function(t){return U(this,arguments,function*(){let e,i,n,r,s=!1,o=[],l=0;function a(){return"peek"===n?q(o,r)[0]:([i,o,l]=q(o,r),i)}({cmd:n,size:r}=yield yield A(null));const h=(u=t,et(Uint8Array,u))[Symbol.asyncIterator]();var u;try{do{if(({done:e,value:i}=Number.isNaN(r-l)?yield A(h.next()):yield A(h.next(r-l))),!e&&i.byteLength>0&&(o.push(i),l+=i.byteLength),e||r<=l)do{({cmd:n,size:r}=yield yield A(a()))}while(r<l)}while(!e)}catch(p){(s=!0)&&"function"===typeof h.throw&&(yield A(h.throw(p)))}finally{!1===s&&"function"===typeof h.return&&(yield A(h.return(new Uint8Array(0))))}return yield A(null)})}(t)),fromDOMStream:t=>qn(function(t){return U(this,arguments,function*(){let e,i,n,r=!1,s=!1,o=[],l=0;function a(){return"peek"===i?q(o,n)[0]:([e,o,l]=q(o,n),e)}({cmd:i,size:n}=yield yield A(null));const h=new Kn(t);try{do{if(({done:r,value:e}=Number.isNaN(n-l)?yield A(h.read()):yield A(h.read(n-l))),!r&&e.byteLength>0&&(o.push(Z(e)),l+=e.byteLength),r||n<=l)do{({cmd:i,size:n}=yield yield A(a()))}while(n<l)}while(!r)}catch(p){(s=!0)&&(yield A(h.cancel(p)))}finally{!1===s?yield A(h.cancel()):t.locked&&h.releaseLock()}return yield A(null)})}(t)),fromNodeStream:t=>qn(function(t){return U(this,arguments,function*(){const e=[];let i,n,r,s="error",o=!1,l=null,a=0,h=[];function u(){return"peek"===i?q(h,n)[0]:([r,h,a]=q(h,n),r)}if(({cmd:i,size:n}=yield yield A(null)),t.isTTY)return yield yield A(new Uint8Array(0)),yield A(null);try{e[0]=Gn(t,"end"),e[1]=Gn(t,"error");do{if(e[2]=Gn(t,"readable"),[s,l]=yield A(Promise.race(e.map(t=>t[2]))),"error"===s)break;if((o="end"===s)||(Number.isFinite(n-a)?(r=Z(t.read(n-a)),r.byteLength<n-a&&(r=Z(t.read()))):r=Z(t.read()),r.byteLength>0&&(h.push(r),a+=r.byteLength)),o||n<=a)do{({cmd:i,size:n}=yield yield A(u()))}while(n<a)}while(!o)}finally{yield A(c(e,"error"===s?l:null))}return yield A(null);function c(e,i){return r=h=null,new Promise((n,r)=>{for(const[i,s]of e)t.off(i,s);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(p){i=p||i}finally{null!=i?r(i):n()}})}})}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},qn=t=>(t.next(),t);class Kn{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return z(this,void 0,void 0,function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch(()=>{})),i&&i.locked&&this.releaseLock()})}read(t){return z(this,void 0,void 0,function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=Z(e)),e})}}const Gn=(t,e)=>{const i=t=>n([e,t]);let n;return[e,i,new Promise(r=>(n=r)&&t.once(e,i))]};const Zn=Object.freeze({done:!0,value:void 0});class Jn{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class tr{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class er extends tr{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return z(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Zn);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Xn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Xn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return z(this,void 0,void 0,function*(){return yield this.abort(t),Zn})}return(t){return z(this,void 0,void 0,function*(){return yield this.close(),Zn})}read(t){return z(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return z(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,e)=>{this.resolvers.push({resolve:t,reject:e})}):Promise.resolve(Zn)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ir extends er{write(t){if((t=Z(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?W(this.toUint8Array(!0)):this.toUint8Array(!1).then(W)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?q(this._values)[0]:(()=>z(this,void 0,void 0,function*(){var t,e;const i=[];let n=0;try{for(var r,s=Y(this);!(r=yield s.next()).done;){const t=r.value;i.push(t),n+=t.byteLength}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return q(i,n)[0]}))()}}class nr{constructor(t){t&&(this.source=new sr(Xn.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rr{constructor(t){t instanceof rr?this.source=t.source:t instanceof ir?this.source=new or(Xn.fromAsyncIterable(t)):F(t)?this.source=new or(Xn.fromNodeStream(t)):O(t)?this.source=new or(Xn.fromDOMStream(t)):N(t)?this.source=new or(Xn.fromDOMStream(t.body)):I(t)?this.source=new or(Xn.fromIterable(t)):(C(t)||T(t))&&(this.source=new or(Xn.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class sr{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Zn)}return(t){return Object.create(this.source.return&&this.source.return(t)||Zn)}}class or{constructor(t){this.source=t,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(t){return z(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return z(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return z(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return z(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return z(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||Zn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return z(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||Zn;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class lr extends nr{constructor(t,e){super(),this.position=0,this.buffer=Z(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:n}=this;return e&&n<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,n+Math.min(i-n,t)),e.subarray(n,this.position)):null}readAt(t,e){const i=this.buffer,n=Math.min(this.size,t+e);return i?i.subarray(t,n):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class ar extends rr{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>z(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending}))()}readInt32(t){return z(this,void 0,void 0,function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)})}seek(t){return z(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return z(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:n}=this;if(e&&n<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let r=n,s=0,o=0;const l=Math.min(i,r+Math.min(i-r,t)),a=new Uint8Array(Math.max(0,(this.position=l)-r));for(;(r+=o)<l&&(s+=o)<a.byteLength;)({bytesRead:o}=yield e.read(a,s,a.byteLength-s,r));return a}return null})}readAt(t,e){return z(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:i,size:n}=this;if(i&&t+e<n){const r=Math.min(n,t+e),s=new Uint8Array(r-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)})}close(){return z(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return z(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return z(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}function hr(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const ur=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class cr{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let n=e[3]*i[3];this.buffer[0]=65535&n;let r=n>>>16;return n=e[2]*i[3],r+=n,n=e[3]*i[2]>>>0,r+=n,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<n?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${hr(this.buffer[1])} ${hr(this.buffer[0])}`}}class dr extends cr{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return dr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,n=new dr(e);for(let r=0;r<i;){const e=8<i-r?8:i-r,s=new dr(new Uint32Array([Number.parseInt(t.slice(r,r+e),10),0])),o=new dr(new Uint32Array([ur[e],0]));n.times(o),n.plus(s),r+=e}return n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)dr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new dr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dr(new Uint32Array(t.buffer)).plus(e)}}class fr extends cr{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return fr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),n=t.length,r=new fr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new fr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new fr(new Uint32Array([ur[e],0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,n=t.length;++i<n;)fr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new fr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new fr(new Uint32Array(t.buffer)).plus(e)}}class pr{constructor(t){this.buffer=t}high(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new fr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new dr(new Uint32Array([this.buffer[3],0])),i=new dr(new Uint32Array([this.buffer[2],0])),n=new dr(new Uint32Array([this.buffer[1],0])),r=new dr(new Uint32Array([this.buffer[0],0])),s=new dr(new Uint32Array([t.buffer[3],0])),o=new dr(new Uint32Array([t.buffer[2],0])),l=new dr(new Uint32Array([t.buffer[1],0])),a=new dr(new Uint32Array([t.buffer[0],0]));let h=dr.multiply(r,a);this.buffer[0]=h.low();const u=new dr(new Uint32Array([h.high(),0]));h=dr.multiply(n,a),u.plus(h),h=dr.multiply(r,l),u.plus(h),this.buffer[1]=u.low(),this.buffer[3]=u.lessThan(h)?1:0,this.buffer[2]=u.high();return new dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(dr.multiply(i,a)).plus(dr.multiply(n,l)).plus(dr.multiply(r,o)),this.buffer[3]+=dr.multiply(e,a).plus(dr.multiply(i,l)).plus(dr.multiply(n,o)).plus(dr.multiply(r,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${hr(this.buffer[3])} ${hr(this.buffer[2])} ${hr(this.buffer[1])} ${hr(this.buffer[0])}`}static multiply(t,e){return new pr(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new pr(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return pr.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),n=t.length,r=new pr(e);for(let s=i?1:0;s<n;){const e=8<n-s?8:n-s,i=new pr(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new pr(new Uint32Array([ur[e],0,0,0]));r.times(o),r.plus(i),s+=e}return i?r.negate():r}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,n=t.length;++i<n;)pr.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class mr extends ie{constructor(t,e,i,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=n}visit(t){return super.visit(t instanceof Zi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===r.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ki({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class yr extends mr{constructor(t,e,i,n){super(new Uint8Array(0),e,i,n),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Ci(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return K(Uint8Array,K(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Bt.isTimestamp(t)||(Bt.isInt(t)||Bt.isTime(t))&&64===t.bitWidth||Bt.isDate(t)&&t.unit===o.MILLISECOND?K(Uint8Array,fr.convertArray(i[e])):Bt.isDecimal(t)?K(Uint8Array,pr.convertArray(i[e])):Bt.isBinary(t)||Bt.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}(i[e]):Bt.isBool(t)?Ci(i[e]):Bt.isUtf8(t)?Q(i[e].join("")):K(Uint8Array,K(t.ArrayType,i[e].map(t=>+t)))}}var gr,br,vr,wr,_r,Sr,xr,Mr;!function(t){t[t.BUFFER=0]="BUFFER"}(gr||(gr={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(br||(br={}));class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):br.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):gr.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,br.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,gr.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return kr.startBodyCompression(t),kr.addCodec(t,e),kr.addMethod(t,i),kr.endBodyCompression(t)}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Ir{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Tr).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new Ir).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Cr).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new kr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new Pr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Tr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(vr||(vr={}));class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vr.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,vr.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Er.startFloatingPoint(t),Er.addPrecision(t,e),Er.endFloatingPoint(t)}}class Dr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Dr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,n){return Dr.startDecimal(t),Dr.addPrecision(t,e),Dr.addScale(t,i),Dr.addBitWidth(t,n),Dr.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(wr||(wr={}));class Nr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Nr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wr.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wr.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Nr.startDate(t),Nr.addUnit(t,e),Nr.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(_r||(_r={}));class Br{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Br).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return Br.startTime(t),Br.addUnit(t,e),Br.addBitWidth(t,i),Br.endTime(t)}}class Or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Or).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_r.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_r.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Or.startTimestamp(t),Or.addUnit(t,e),Or.addTimezone(t,i),Or.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(Sr||(Sr={}));class Fr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Fr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sr.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,Sr.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Fr.startInterval(t),Fr.addUnit(t,e),Fr.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(xr||(xr={}));class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,xr.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Lr.startUnion(t),Lr.addMode(t,e),Lr.addTypeIds(t,i),Lr.endUnion(t)}}class zr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new zr).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return zr.startFixedSizeBinary(t),zr.addByteWidth(t,e),zr.endFixedSizeBinary(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return Rr.startFixedSizeList(t),Rr.addListSize(t,e),Rr.endFixedSizeList(t)}}class Ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new Ar).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return Ar.startMap(t),Ar.addKeysSorted(t,e),Ar.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Mr||(Mr={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):En.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Mr.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Ln).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,En.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Mr.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,n,r,s){return Ur.startMessage(t),Ur.addVersion(t,e),Ur.addHeaderType(t,i),Ur.addHeader(t,n),Ur.addBodyLength(t,r),Ur.addCustomMetadata(t,s),Ur.endMessage(t)}}class Vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new Vr).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Vr.startNull(t),Vr.endNull(t)}}class Yr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Yr).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Yr.startBinary(t),Yr.endBinary(t)}}class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return jr.startBool(t),jr.endBool(t)}}class Wr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new Wr).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Wr.startUtf8(t),Wr.endUtf8(t)}}class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return $r.startList(t),$r.endList(t)}}class Qr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Qr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Qr).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Qr.startStruct_(t),Qr.endStruct_(t)}}var Hr=Tn;const Xr=new class extends ie{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return Vr.startNull(e),Vr.endNull(e)}visitInt(t,e){return zn.startInt(e),zn.addBitWidth(e,t.bitWidth),zn.addIsSigned(e,t.isSigned),zn.endInt(e)}visitFloat(t,e){return Er.startFloatingPoint(e),Er.addPrecision(e,t.precision),Er.endFloatingPoint(e)}visitBinary(t,e){return Yr.startBinary(e),Yr.endBinary(e)}visitBool(t,e){return jr.startBool(e),jr.endBool(e)}visitUtf8(t,e){return Wr.startUtf8(e),Wr.endUtf8(e)}visitDecimal(t,e){return Dr.startDecimal(e),Dr.addScale(e,t.scale),Dr.addPrecision(e,t.precision),Dr.addBitWidth(e,t.bitWidth),Dr.endDecimal(e)}visitDate(t,e){return Nr.startDate(e),Nr.addUnit(e,t.unit),Nr.endDate(e)}visitTime(t,e){return Br.startTime(e),Br.addUnit(e,t.unit),Br.addBitWidth(e,t.bitWidth),Br.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Or.startTimestamp(e),Or.addUnit(e,t.unit),void 0!==i&&Or.addTimezone(e,i),Or.endTimestamp(e)}visitInterval(t,e){return Fr.startInterval(e),Fr.addUnit(e,t.unit),Fr.endInterval(e)}visitList(t,e){return $r.startList(e),$r.endList(e)}visitStruct(t,e){return Qr.startStruct_(e),Qr.endStruct_(e)}visitUnion(t,e){Lr.startTypeIdsVector(e,t.typeIds.length);const i=Lr.createTypeIdsVector(e,t.typeIds);return Lr.startUnion(e),Lr.addMode(e,t.mode),Lr.addTypeIds(e,i),Lr.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Rn.startDictionaryEncoding(e),Rn.addId(e,new Hr(t.id,0)),Rn.addIsOrdered(e,t.isOrdered),void 0!==i&&Rn.addIndexType(e,i),Rn.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return zr.startFixedSizeBinary(e),zr.addByteWidth(e,t.byteWidth),zr.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return Rr.startFixedSizeList(e),Rr.addListSize(e,t.listSize),Rr.endFixedSizeList(e)}visitMap(t,e){return Ar.startMap(e),Ar.addKeysSorted(e,t.keysSorted),Ar.endMap(e)}};function qr(t){return new os(t.count,Gr(t.columns),Zr(t.columns))}function Kr(t,e){return(t.children||[]).filter(Boolean).map(t=>Zi.fromJSON(t,e))}function Gr(t){return(t||[]).reduce((t,e)=>{return[...t,new hs(e.count,(i=e.VALIDITY,(i||[]).reduce((t,e)=>t+ +(0===e),0))),...Gr(e.children)];var i},[])}function Zr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,n=(t||[]).length;++i<n;){const n=t[i];n.VALIDITY&&e.push(new as(e.length,n.VALIDITY.length)),n.TYPE&&e.push(new as(e.length,n.TYPE.length)),n.OFFSET&&e.push(new as(e.length,n.OFFSET.length)),n.DATA&&e.push(new as(e.length,n.DATA.length)),e=Zr(n.children,e)}return e}function Jr(t){return new Map(Object.entries(t||{}))}function ts(t){return new Ft(t.isSigned,t.bitWidth)}function es(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new Ot;case"binary":return new Rt;case"utf8":return new At;case"bool":return new Ut;case"list":return new Qt((e||[])[0]);case"struct":case"struct_":return new Ht(e||[])}switch(i){case"int":{const e=t.type;return new Ft(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new zt(s[e.precision])}case"decimal":{const e=t.type;return new Vt(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Yt(o[e.unit])}case"time":{const e=t.type;return new jt(l[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new Wt(l[e.unit],e.timezone)}case"interval":{const e=t.type;return new $t(a[e.unit])}case"union":{const i=t.type;return new Xt(r[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new qt(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Kt(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new Gt((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}var is=Tn,ns=Fn,rs=On;class ss{constructor(t,e,i,n){this._version=e,this._headerType=i,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new ss(0,n.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case h.Schema:return Gi.fromJSON(t);case h.RecordBatch:return os.fromJSON(t);case h.DictionaryBatch:return ls.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${h[e]}, type: ${e} }`)}}(t,e),i}static decode(t){t=new rs(Z(t));const e=Ur.getRootAsMessage(t),i=e.bodyLength(),n=e.version(),r=e.headerType(),s=new ss(i,n,r);return s._createHeader=function(t,e){return()=>{switch(e){case h.Schema:return Gi.decode(t.header(new Un));case h.RecordBatch:return os.decode(t.header(new Tr),t.version());case h.DictionaryBatch:return ls.decode(t.header(new Pr),t.version())}throw new Error(`Unrecognized Message type: { name: ${h[e]}, type: ${e} }`)}}(e,r),s}static encode(t){const e=new ns;let i=-1;return t.isSchema()?i=Gi.encode(e,t.header()):t.isRecordBatch()?i=os.encode(e,t.header()):t.isDictionaryBatch()&&(i=ls.encode(e,t.header())),Ur.startMessage(e),Ur.addVersion(e,n.V4),Ur.addHeader(e,i),Ur.addHeaderType(e,t.headerType),Ur.addBodyLength(e,new is(t.bodyLength,0)),Ur.finishMessageBuffer(e,Ur.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Gi)return new ss(0,n.V4,h.Schema,t);if(t instanceof os)return new ss(e,n.V4,h.RecordBatch,t);if(t instanceof ls)return new ss(e,n.V4,h.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===h.Schema}isRecordBatch(){return this.headerType===h.RecordBatch}isDictionaryBatch(){return this.headerType===h.DictionaryBatch}}class os{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ls{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class as{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class hs{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function us(t,e){const i=[];for(let n,r=-1,s=-1,o=t.childrenLength();++r<o;)(n=t.children(r))&&(i[++s]=Zi.decode(n,e));return i}function cs(t){const e=new Map;if(t)for(let i,n,r=-1,s=Math.trunc(t.customMetadataLength());++r<s;)(i=t.customMetadata(r))&&null!=(n=i.key())&&e.set(n,i.value());return e}function ds(t){return new Ft(t.isSigned(),t.bitWidth())}function fs(t,e){const i=t.typeType();switch(i){case Bn.NONE:case Bn.Null:return new Ot;case Bn.Binary:return new Rt;case Bn.Utf8:return new At;case Bn.Bool:return new Ut;case Bn.List:return new Qt((e||[])[0]);case Bn.Struct_:return new Ht(e||[])}switch(i){case Bn.Int:{const e=t.type(new zn);return new Ft(e.isSigned(),e.bitWidth())}case Bn.FloatingPoint:{const e=t.type(new Er);return new zt(e.precision())}case Bn.Decimal:{const e=t.type(new Dr);return new Vt(e.scale(),e.precision(),e.bitWidth())}case Bn.Date:{const e=t.type(new Nr);return new Yt(e.unit())}case Bn.Time:{const e=t.type(new Br);return new jt(e.unit(),e.bitWidth())}case Bn.Timestamp:{const e=t.type(new Or);return new Wt(e.unit(),e.timezone())}case Bn.Interval:{const e=t.type(new Fr);return new $t(e.unit())}case Bn.Union:{const i=t.type(new Lr);return new Xt(i.mode(),i.typeIdsArray()||[],e||[])}case Bn.FixedSizeBinary:{const e=t.type(new zr);return new qt(e.byteWidth())}case Bn.FixedSizeList:{const i=t.type(new Rr);return new Kt(i.listSize(),(e||[])[0])}case Bn.Map:{const i=t.type(new Ar);return new Gt((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${Bn[i]}" (${i})`)}Zi.encode=function(t,e){let i=-1,n=-1,r=-1;const s=e.type;let o=e.typeId;Bt.isDictionary(s)?(o=s.dictionary.typeId,r=Xr.visit(s,t),n=Xr.visit(s.dictionary,t)):n=Xr.visit(s,t);const l=(s.children||[]).map(e=>Zi.encode(t,e)),a=An.createChildrenVector(t,l),h=e.metadata&&e.metadata.size>0?An.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString(`${i}`),s=t.createString(`${n}`);return Ln.startKeyValue(t),Ln.addKey(t,r),Ln.addValue(t,s),Ln.endKeyValue(t)})):-1;e.name&&(i=t.createString(e.name));An.startField(t),An.addType(t,n),An.addTypeType(t,o),An.addChildren(t,a),An.addNullable(t,!!e.nullable),-1!==i&&An.addName(t,i);-1!==r&&An.addDictionary(t,r);-1!==h&&An.addCustomMetadata(t,h);return An.endField(t)},Zi.decode=function(t,e){let i,n,r,s,o,l;e&&(l=t.dictionary())?e.has(i=l.id().low)?(s=(s=l.indexType())?ds(s):new Lt,o=new te(e.get(i),s,i,l.isOrdered()),n=new Zi(t.name(),o,t.nullable(),cs(t))):(s=(s=l.indexType())?ds(s):new Lt,e.set(i,r=fs(t,us(t,e))),o=new te(r,s,i,l.isOrdered()),n=new Zi(t.name(),o,t.nullable(),cs(t))):(r=fs(t,us(t,e)),n=new Zi(t.name(),r,t.nullable(),cs(t)));return n||null},Zi.fromJSON=function(t,e){let i,n,r,s,o,l;return e&&(s=t.dictionary)?e.has(i=s.id)?(n=(n=s.indexType)?ts(n):new Lt,l=new te(e.get(i),n,i,s.isOrdered),r=new Zi(t.name,l,t.nullable,Jr(t.customMetadata))):(n=(n=s.indexType)?ts(n):new Lt,e.set(i,o=es(t,Kr(t,e))),l=new te(o,n,i,s.isOrdered),r=new Zi(t.name,l,t.nullable,Jr(t.customMetadata))):(o=es(t,Kr(t,e)),r=new Zi(t.name,o,t.nullable,Jr(t.customMetadata))),r||null},Gi.encode=function(t,e){const i=e.fields.map(e=>Zi.encode(t,e));Un.startFieldsVector(t,i.length);const n=Un.createFieldsVector(t,i),r=e.metadata&&e.metadata.size>0?Un.createCustomMetadataVector(t,[...e.metadata].map(e=>{let[i,n]=e;const r=t.createString(`${i}`),s=t.createString(`${n}`);return Ln.startKeyValue(t),Ln.addKey(t,r),Ln.addValue(t,s),Ln.endKeyValue(t)})):-1;Un.startSchema(t),Un.addFields(t,n),Un.addEndianness(t,ps?Dn.Little:Dn.Big),-1!==r&&Un.addCustomMetadata(t,r);return Un.endSchema(t)},Gi.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let n,r=-1,s=-1,o=t.fieldsLength();++r<o;)(n=t.fields(r))&&(i[++s]=Zi.decode(n,e));return i}(t,e);return new Gi(i,cs(t),e)},Gi.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Gi(function(t,e){return(t.fields||[]).filter(Boolean).map(t=>Zi.fromJSON(t,e))}(t,e),Jr(t.customMetadata),e)},os.encode=function(t,e){const i=e.nodes||[],n=e.buffers||[];Tr.startNodesVector(t,i.length);for(const o of i.slice().reverse())hs.encode(t,o);const r=t.endVector();Tr.startBuffersVector(t,n.length);for(const o of n.slice().reverse())as.encode(t,o);const s=t.endVector();return Tr.startRecordBatch(t),Tr.addLength(t,new is(e.length,0)),Tr.addNodes(t,r),Tr.addBuffers(t,s),Tr.endRecordBatch(t)},os.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;if(null!==t.compression())throw new Error("Record batch compression not implemented");return new os(t.length(),function(t){const e=[];for(let i,n=-1,r=-1,s=t.nodesLength();++n<s;)(i=t.nodes(n))&&(e[++r]=hs.decode(i));return e}(t),function(t,e){const i=[];for(let r,s=-1,o=-1,l=t.buffersLength();++s<l;)(r=t.buffers(s))&&(e<n.V4&&(r.bb_pos+=8*(s+1)),i[++o]=as.decode(r));return i}(t,e))},os.fromJSON=qr,ls.encode=function(t,e){const i=os.encode(t,e.data);return Pr.startDictionaryBatch(t),Pr.addId(t,new is(e.id,0)),Pr.addIsDelta(t,e.isDelta),Pr.addData(t,i),Pr.endDictionaryBatch(t)},ls.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.V4;return new ls(os.decode(t.data(),e),t.id(),t.isDelta())},ls.fromJSON=function(t){return new ls(qr(t.data),t.id,t.isDelta)},hs.encode=function(t,e){return Ir.createFieldNode(t,new is(e.length,0),new is(e.nullCount,0))},hs.decode=function(t){return new hs(t.length(),t.nullCount())},as.encode=function(t,e){return Cr.createBuffer(t,new is(e.offset,0),new is(e.length,0))},as.decode=function(t){return new as(t.offset(),t.length())};const ps=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),ms=t=>`Expected ${h[t]} Message in stream, but was null or length 0.`,ys=t=>`Header pointer of flatbuffer-encoded ${h[t]} Message is null or length 0.`,gs=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,bs=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class vs{constructor(t){this.source=t instanceof nr?t:new nr(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Zn:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=Z(this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=h.Schema,i=this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ys(e));return n}readMetadataLength(){const t=this.source.read(Ss),e=t&&new On(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Zn;if(e.byteLength<t)throw new Error(gs(t,e.byteLength));return{done:!1,value:ss.decode(e)}}}class ws{constructor(t,e){this.source=t instanceof rr?t:D(t)?new ar(t,e):new rr(t)}[Symbol.asyncIterator](){return this}next(){return z(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Zn:t})}throw(t){return z(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return z(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return z(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value})}readMessageBody(t){return z(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=Z(yield this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return z(this,void 0,void 0,function*(){const e=h.Schema,i=yield this.readMessage(e),n=null===i||void 0===i?void 0:i.header();if(t&&!n)throw new Error(ys(e));return n})}readMetadataLength(){return z(this,void 0,void 0,function*(){const t=yield this.source.read(Ss),e=t&&new On(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}})}readMetadata(t){return z(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return Zn;if(e.byteLength<t)throw new Error(gs(t,e.byteLength));return{done:!1,value:ss.decode(e)}})}}class _s extends vs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Jn?t:new Jn(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:ss.fromJSON(t.schema,h.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:ss.fromJSON(e,h.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:ss.fromJSON(e,h.RecordBatch)}}return this._body=[],Zn}readMessageBody(t){return function t(e){return(e||[]).reduce((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)],[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ms(t));return e.value}readSchema(){const t=h.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(ys(t));return i}}const Ss=4,xs="ARROW1",Ms=new Uint8Array(6);for(let p=0;p<6;p+=1)Ms[p]=xs.codePointAt(p);function ks(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,n=Ms.length;++i<n;)if(Ms[i]!==t[e+i])return!1;return!0}const Cs=Ms.length,Is=Cs+Ss,Ts=2*Cs+Ss;class Ps extends tr{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return C(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Xn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Xn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Ps?t:P(t)?function(t){return new Es(new As(t))}(t):D(t)?function(t){return z(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),i=new ar(t,e);return e>=Ts&&ks(yield i.readAt(0,Cs+7&-8))?new Bs(new Rs(i)):new Ds(new Ls(i))})}(t):C(t)?(()=>z(this,void 0,void 0,function*(){return yield Ps.from(yield t)}))():N(t)||O(t)||F(t)||T(t)?function(t){return z(this,void 0,void 0,function*(){const e=yield t.peek(Cs+7&-8);return e&&e.byteLength>=4?ks(e)?new Ns(new zs(yield t.read())):new Ds(new Ls(t)):new Ds(new Ls(function(){return U(this,arguments,function*(){})}()))})}(new rr(t)):function(t){const e=t.peek(Cs+7&-8);return e&&e.byteLength>=4?ks(e)?new Ns(new zs(t.read())):new Es(new Fs(t)):new Es(new Fs(function*(){}()))}(new nr(t))}static readAll(t){return t instanceof Ps?t.isSync()?Vs(t):Ys(t):P(t)||ArrayBuffer.isView(t)||I(t)||E(t)?Vs(t):Ys(t)}}class Es extends Ps{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return U(this,arguments,function*(){yield A(yield*V(Y(this[Symbol.iterator]())))})}}class Ds extends Ps{constructor(t){super(t),this._impl=t}readAll(){var t,e;return z(this,void 0,void 0,function*(){const i=new Array;try{for(var n,r=Y(this);!(n=yield r.next()).done;){const t=n.value;i.push(t)}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=r.return)&&(yield e.call(r))}finally{if(t)throw t.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Ns extends Es{constructor(t){super(t),this._impl=t}}class Bs extends Ds{constructor(t){super(t),this._impl=t}}class Os{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),n=Ki({type:new Ht(this.schema.fields),length:t.length,children:i});return new yn(this.schema,n)}_loadDictionaryBatch(t,e){const{id:i,isDelta:n}=t,{dictionaries:r,schema:s}=this,o=r.get(i);if(n||!o){const r=s.dictionaries.get(i),l=this._loadVectors(t.data,e,[r]);return(o&&n?o.concat(new Qi(l)):new Qi(l)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new mr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Fs extends Os{constructor(t,e){super(e),this._reader=P(t)?new _s(this._handle=t):new vs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Us(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Zn}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Zn}next(){if(this.closed)return Zn;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Ls extends Os{constructor(t,e){super(e),this._reader=new ws(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return z(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return z(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Us(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return z(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Zn})}return(t){return z(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Zn})}next(){return z(this,void 0,void 0,function*(){if(this.closed)return Zn;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,n)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),n=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(i,n);this.dictionaries.set(i.id,r)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new vn(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return z(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class zs extends Fs{constructor(t,e){super(t instanceof lr?t:new lr(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(h.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(h.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}}_readFooter(){const{_handle:t}=this,e=t.size-Is,i=t.readInt32(e),n=t.readAt(e-i,i);return $n.decode(n)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class Rs extends Ls{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof ar?t:new ar(t,r),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return z(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return z(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(h.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null})}_readDictionaryBatch(t){var e;return z(this,void 0,void 0,function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(h.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,n)}}})}_readFooter(){return z(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Is,i=yield t.readInt32(e),n=yield t.readAt(e-i,i);return $n.decode(n)})}_readNextMessageAndValidate(t){return z(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class As extends Fs{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new yr(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Us(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*Vs(t){const e=Ps.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Ys(t){return U(this,arguments,function*(){const e=yield A(Ps.from(t));try{if(!(yield A(e.open({autoDestroy:!1}))).closed)do{yield yield A(e)}while(!(yield A(e.reset().open())).closed)}finally{yield A(e.cancel())}})}class js extends ie{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap(e=>Array.isArray(e)?t(e):e instanceof yn?e.data.children:e.data),e=new js;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.visitMany(t(n)),e}visit(t){if(t instanceof Qi)return this.visitMany(t.data),this;const{type:e}=t;if(!Bt.isDictionary(e)){const{length:i,nullCount:n}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Bt.isNull(e)||Ws.call(this,n<=0?new Uint8Array(0):ki(t.offset,i,t.nullBitmap)),this.nodes.push(new hs(i,n))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ws(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new as(this._byteLength,e)),this._byteLength+=e,this}function $s(t){return Ws.call(this,t.values.subarray(0,t.length*t.stride))}function Qs(t){const{length:e,values:i,valueOffsets:n}=t,r=n[0],s=n[e],o=Math.min(s-r,i.byteLength-r);return Ws.call(this,it(-n[0],e,n)),Ws.call(this,i.subarray(r,r+o)),this}function Hs(t){const{length:e,valueOffsets:i}=t;return i&&Ws.call(this,it(i[0],e,i)),this.visit(t.children[0])}function Xs(t){return this.visitMany(t.type.children.map((e,i)=>t.children[i]).filter(Boolean))[0]}js.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Ws.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Ws.call(this,ki(t.offset,t.length,e)):Ws.call(this,Ci(t.values))},js.prototype.visitInt=$s,js.prototype.visitFloat=$s,js.prototype.visitUtf8=Qs,js.prototype.visitBinary=Qs,js.prototype.visitFixedSizeBinary=$s,js.prototype.visitDate=$s,js.prototype.visitTimestamp=$s,js.prototype.visitTime=$s,js.prototype.visitDecimal=$s,js.prototype.visitList=Hs,js.prototype.visitStruct=Xs,js.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:n,valueOffsets:s}=t;if(Ws.call(this,n),e.mode===r.Sparse)return Xs.call(this,t);if(e.mode===r.Dense){if(t.offset<=0)return Ws.call(this,s),Xs.call(this,t);{const r=n.reduce((t,e)=>Math.max(t,e),n[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),a=new Int32Array(i),h=it(-s[0],i,s);for(let t,e,s=-1;++s<i;)-1===(e=l[t=n[s]])&&(e=l[t]=h[t]),a[s]=h[s]-e,++o[t];Ws.call(this,a);for(let n,s=-1,u=e.children.length;++s<u;)if(n=t.children[s]){const t=e.typeIds[s],r=Math.min(i,o[t]);this.visit(n.slice(l[t],r))}}}return this},js.prototype.visitInterval=$s,js.prototype.visitFixedSizeList=Hs,js.prototype.visitMap=Hs;class qs extends tr{constructor(t){super(),this._position=0,this._started=!1,this._sink=new ir,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,k(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return C(t)?t.then(t=>this.writeAll(t)):T(t)?Js(this,t):Zs(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof ir?this._sink=t:(this._sink=new ir,t&&(t=>k(t)&&M(t.abort)&&M(t.getWriter)&&!B(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>k(t)&&M(t.end)&&M(t.write)&&x(t.writable)&&!B(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&fn(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof Sn&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof yn&&!(e=t.schema))return this.finish()&&void 0;if(e&&!fn(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof yn?t instanceof vn||this._writeRecordBatch(t):t instanceof Sn?this.writeAll(t.batches):I(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=ss.encode(t),n=i.byteLength,r=this._writeLegacyIpcFormat?4:8,s=n+r+e&~e,o=s-n-r;return t.headerType===h.RecordBatch?this._recordBatchBlocks.push(new Hn(s,t.bodyLength,this._position)):t.headerType===h.DictionaryBatch&&this._dictionaryBlocks.push(new Hn(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-r)),n>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=Z(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ss.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ms)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:n,buffers:r}=js.assemble(t),s=new os(t.numRows,i,n),o=ss.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:n,nodes:r,bufferRegions:s,buffers:o}=js.assemble(new Qi([t])),l=new os(t.length,r,s),a=new ls(l,e,i),h=ss.from(a,n);return this._writeMessage(h)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,n;for(let r=-1,s=t.length;++r<s;)(e=t[r])&&(i=e.byteLength)>0&&(this._write(e),(n=(i+7&-8)-i)>0&&this._writePadding(n));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const n of i.data)this._writeDictionaryBatch(n,e,t>0),t+=n.length}return this}}class Ks extends qs{static writeAll(t,e){const i=new Ks(e);return C(t)?t.then(t=>i.writeAll(t)):T(t)?Js(i,t):Zs(i,t)}}class Gs extends qs{static writeAll(t){const e=new Gs;return C(t)?t.then(t=>e.writeAll(t)):T(t)?Js(e,t):Zs(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=$n.encode(new $n(t,n.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Zs(t,e){let i=e;e instanceof Sn&&(i=e.batches,t.reset(void 0,e.schema));for(const n of i)t.write(n);return t.finish()}function Js(t,e){var i,n,r,s;return z(this,void 0,void 0,function*(){try{for(i=Y(e);!(n=yield i.next()).done;){const e=n.value;t.write(e)}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}return t.finish()})}function to(t){const e=Ps.from(t);return C(e)?e.then(t=>to(t)):e.isAsync()?e.readAll().then(t=>new Sn(t)):new Sn(e.readAll())}function eo(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Ks:Gs).writeAll(t).toUint8Array(!0)}var io,no=function(){function t(t,e,i,n){var r=this;this.getCell=function(t,e){var i=t<r.headerRows&&e<r.headerColumns,n=t>=r.headerRows&&e<r.headerColumns,s=t<r.headerRows&&e>=r.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(a=e-r.headerColumns)]).join(" "),content:r.getContent(r.columnsTable,a,t)};if(n){o=["row_heading","level"+e,"row"+(l=t-r.headerRows)];return{type:"index",id:"T_".concat(r.uuid,"level").concat(e,"_row").concat(l),classNames:o.join(" "),content:r.getContent(r.indexTable,l,e)}}o=["data","row"+(l=t-r.headerRows),"col"+(a=e-r.headerColumns)];var l,a,h=r.styler?r.getContent(r.styler.displayValuesTable,l,a):r.getContent(r.dataTable,l,a);return{type:"data",id:"T_".concat(r.uuid,"row").concat(l,"_col").concat(a),classNames:o.join(" "),content:h}},this.getContent=function(t,e,i){var n=t.getChildAt(i);return null===n?"":r.getColumnTypeId(t,i)===u.Timestamp?r.nanosToDate(n.get(e)):n.get(e)},this.dataTable=to(t),this.indexTable=to(e),this.columnsTable=to(i),this.styler=n?{caption:n.caption,displayValuesTable:to(n.displayValues),styles:n.styles,uuid:n.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:eo(this.dataTable),index:eo(this.indexTable),columns:eo(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),ro=function(){return ro=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ro.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(io||(io={}));var so=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(io.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(io.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof no?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(p){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(io.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var n=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=ro(ro({},i),n);var r=Boolean(e.disabled),s=e.theme;s&&oo(s);var o={disabled:r,args:i,theme:s},l=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(l)},t.argsDataframeToObject=function(e){var i=e.map(function(e){var i=e.key,n=e.value;return[i,t.toArrowTable(n)]});return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,n=e.index,r=e.columns,s=e.styler;return new no(i,n,r,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(ro({isStreamlitMessage:!0,type:t},e),"*")},t}(),oo=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var lo=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return lo(e,t),e.prototype.componentDidMount=function(){so.setFrameHeight()},e.prototype.componentDidUpdate=function(){so.setFrameHeight()},e}(m.PureComponent);function ho(t){var e=function(e){function i(t){var i=e.call(this,t)||this;return i.componentDidMount=function(){so.events.addEventListener(so.RENDER_EVENT,i.onRenderEvent),so.setComponentReady()},i.componentDidUpdate=function(){null!=i.state.componentError&&so.setFrameHeight()},i.componentWillUnmount=function(){so.events.removeEventListener(so.RENDER_EVENT,i.onRenderEvent)},i.onRenderEvent=function(t){i.setState({renderData:t.detail})},i.state={renderData:void 0,componentError:void 0},i}return lo(i,e),i.prototype.render=function(){return null!=this.state.componentError?m.createElement("div",null,m.createElement("h1",null,"Component Error"),m.createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:m.createElement(t,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},i.getDerivedStateFromError=function(t){return{componentError:t}},i}(m.PureComponent);return f()(e,t)}},504:function(t,e,i){var n=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(579),o=function(t){function e(e){var i=t.call(this,e)||this;return i.state={error:void 0},i}return n(e,t),e.getDerivedStateFromError=function(t){return{error:t}},e.prototype.render=function(){return null!=this.state.error?(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Component Error"},void 0),(0,s.jsx)("span",{children:this.state.error.message},void 0)]},void 0):this.props.children},e}(r(i(43)).default.PureComponent);e.default=o},579:(t,e,i)=>{t.exports=i(153)},639:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useRenderData=void 0;var a=i(579),h=o(i(43)),u=i(416),c=i(129),d=l(i(504)),f=h.default.createContext(void 0);e.useRenderData=function(){var t=(0,h.useContext)(f);if(null==t)throw new Error("useRenderData() must be used inside <StreamlitProvider />");return t};e.default=function(t){var e=(0,c.useNullableRenderData)();return(0,h.useEffect)(function(){u.Streamlit.setFrameHeight()}),null==e?null:(0,a.jsx)(d.default,{children:(0,a.jsx)(f.Provider,n({value:e},{children:t.children}),void 0)},void 0)}},730:(t,e,i)=>{var n=i(43),r=i(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function a(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(l[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},w={};function _(t,e,i,n,r,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){S[t]=new _(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];S[e]=new _(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){S[t]=new _(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){S[t]=new _(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){S[t]=new _(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){S[t]=new _(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){S[t]=new _(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){S[t]=new _(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){S[t]=new _(t,5,!1,t.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function I(t){return t[1].toUpperCase()}function P(t,e,i,n){var r=S.hasOwnProperty(e)?S[e]:null;(null!==r?0!==r.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,n){if(null===e||"undefined"===typeof e||function(t,e,i,n){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,r,n)&&(i=null),n||null===r?function(t){return!!c.call(w,t)||!c.call(f,t)&&(d.test(t)?w[t]=!0:(f[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=null===i?3!==r.type&&"":i:(e=r.attributeName,n=r.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C,I);S[e]=new _(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C,I);S[e]=new _(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C,I);S[e]=new _(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){S[t]=new _(t,1,!1,t.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){S[t]=new _(t,1,!1,t.toLowerCase(),null,!0,!0)});var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),A=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),W=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var $=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Q=Symbol.iterator;function H(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=Q&&t[Q]||t["@@iterator"])?t:null}var X,q=Object.assign;function K(t){if(void 0===X)try{throw Error()}catch(x){var e=x.stack.trim().match(/\n( *(at )?)/);X=e&&e[1]||""}return"\n"+X+t}var Z=!1;function J(t,e){if(!t||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var n=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){n=v}t.call(e.prototype)}else{try{throw Error()}catch(v){n=v}t()}}catch(v){if(v&&n&&"string"===typeof v.stack){for(var r=v.stack.split("\n"),s=n.stack.split("\n"),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(1!==o||1!==l)do{if(o--,0>--l||r[o]!==s[l]){var a="\n"+r[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}}while(1<=o&&0<=l);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?K(t):""}function tt(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=J(t.type,!1);case 11:return t=J(t.type.render,!1);case 1:return t=J(t.type,!0);default:return""}}function et(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case O:return"Fragment";case B:return"Portal";case L:return"Profiler";case F:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case A:return(t.displayName||"Context")+".Consumer";case R:return(t._context.displayName||"Context")+".Provider";case U:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case j:return null!==(e=t.displayName||null)?e:et(t.type)||"Memo";case W:e=t._payload,t=t._init;try{return et(t(e))}catch(x){}}return null}function it(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return et(e);case 8:return e===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function nt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function rt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function st(t){t._valueTracker||(t._valueTracker=function(t){var e=rt(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function ot(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=rt(t)?t.checked?"true":"false":t.value),(t=n)!==i&&(e.setValue(t),!0)}function lt(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(N){return t.body}}function at(t,e){var i=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function ht(t,e){var i=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;i=nt(null!=e.value?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function ut(t,e){null!=(e=e.checked)&&P(t,"checked",e,!1)}function ct(t,e){ut(t,e);var i=nt(e.value),n=e.type;if(null!=i)"number"===n?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?ft(t,e.type,i):e.hasOwnProperty("defaultValue")&&ft(t,e.type,nt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function dt(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function ft(t,e,i){"number"===e&&lt(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var pt=Array.isArray;function mt(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+nt(i),e=null,r=0;r<t.length;r++){if(t[r].value===i)return t[r].selected=!0,void(n&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function yt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(s(92));if(pt(i)){if(1<i.length)throw Error(s(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:nt(i)}}function bt(t,e){var i=nt(e.value),n=nt(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=n&&(t.defaultValue=""+n)}function vt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function wt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?wt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var St,xt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i)})}:t}(function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((St=St||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=St.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ct=["Webkit","ms","Moz","O"];function It(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||kt.hasOwnProperty(t)&&kt[t]?(""+e).trim():e+"px"}function Tt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=It(i,e[i],n);"float"===i&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}Object.keys(kt).forEach(function(t){Ct.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kt[e]=kt[t]})});var Pt=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(t,e){if(e){if(Pt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function Dt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ot=null,Ft=null,Lt=null;function zt(t){if(t=Dr(t)){if("function"!==typeof Ot)throw Error(s(280));var e=t.stateNode;e&&(e=Br(e),Ot(t.stateNode,t.type,e))}}function Rt(t){Ft?Lt?Lt.push(t):Lt=[t]:Ft=t}function At(){if(Ft){var t=Ft,e=Lt;if(Lt=Ft=null,zt(t),e)for(t=0;t<e.length;t++)zt(e[t])}}function Ut(t,e){return t(e)}function Vt(){}var Yt=!1;function jt(t,e,i){if(Yt)return t(e,i);Yt=!0;try{return Ut(t,e,i)}finally{Yt=!1,(null!==Ft||null!==Lt)&&(Vt(),At())}}function Wt(t,e){var i=t.stateNode;if(null===i)return null;var n=Br(i);if(null===n)return null;i=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(s(231,e,typeof i));return i}var $t=!1;if(u)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch(b){$t=!1}function Ht(t,e,i,n,r,s,o,l,a){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(T){this.onError(T)}}var Xt=!1,qt=null,Kt=!1,Gt=null,Zt={onError:function(t){Xt=!0,qt=t}};function Jt(t,e,i,n,r,s,o,l,a){Xt=!1,qt=null,Ht.apply(Zt,arguments)}function te(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function ee(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ie(t){if(te(t)!==t)throw Error(s(188))}function ne(t){return t=function(t){var e=t.alternate;if(!e){if(null===(e=te(t)))throw Error(s(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(n=r.return)){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return ie(r),t;if(o===n)return ie(r),e;o=o.sibling}throw Error(s(188))}if(i.return!==n.return)i=r,n=o;else{for(var l=!1,a=r.child;a;){if(a===i){l=!0,i=r,n=o;break}if(a===n){l=!0,n=r,i=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===i){l=!0,i=o,n=r;break}if(a===n){l=!0,n=o,i=r;break}a=a.sibling}if(!l)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?t:e}(t),null!==t?re(t):null}function re(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=re(t);if(null!==e)return e;t=t.sibling}return null}var se=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,le=r.unstable_shouldYield,ae=r.unstable_requestPaint,he=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,fe=r.unstable_NormalPriority,pe=r.unstable_LowPriority,me=r.unstable_IdlePriority,ye=null,ge=null;var be=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ve(t)/we|0)|0},ve=Math.log,we=Math.LN2;var _e=64,Se=4194304;function xe(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Me(t,e){var i=t.pendingLanes;if(0===i)return 0;var n=0,r=t.suspendedLanes,s=t.pingedLanes,o=268435455&i;if(0!==o){var l=o&~r;0!==l?n=xe(l):0!==(s&=o)&&(n=xe(s))}else 0!==(o=i&~r)?n=xe(o):0!==s&&(n=xe(s));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&r)&&((r=n&-n)>=(s=e&-e)||16===r&&0!==(4194240&s)))return e;if(0!==(4&n)&&(n|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)r=1<<(i=31-be(e)),n|=t[i],e&=~r;return n}function ke(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function Ce(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ie(){var t=_e;return 0===(4194240&(_e<<=1))&&(_e=64),t}function Te(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Pe(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-be(e)]=i}function Ee(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-be(i),r=1<<n;r&e|t[n]&e&&(t[n]|=e),i&=~r}}var De=0;function Ne(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Be,Oe,Fe,Le,ze,Re=!1,Ae=[],Ue=null,Ve=null,Ye=null,je=new Map,We=new Map,$e=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function He(t,e){switch(t){case"focusin":case"focusout":Ue=null;break;case"dragenter":case"dragleave":Ve=null;break;case"mouseover":case"mouseout":Ye=null;break;case"pointerover":case"pointerout":je.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":We.delete(e.pointerId)}}function Xe(t,e,i,n,r,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==e&&(null!==(e=Dr(e))&&Oe(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function qe(t){var e=Er(t.target);if(null!==e){var i=te(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=ee(i)))return t.blockedOn=e,void ze(t.priority,function(){Fe(i)})}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Ke(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=li(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=Dr(i))&&Oe(e),t.blockedOn=i,!1;var n=new(i=t.nativeEvent).constructor(i.type,i);Nt=n,i.target.dispatchEvent(n),Nt=null,e.shift()}return!0}function Ge(t,e,i){Ke(t)&&i.delete(e)}function Ze(){Re=!1,null!==Ue&&Ke(Ue)&&(Ue=null),null!==Ve&&Ke(Ve)&&(Ve=null),null!==Ye&&Ke(Ye)&&(Ye=null),je.forEach(Ge),We.forEach(Ge)}function Je(t,e){t.blockedOn===e&&(t.blockedOn=null,Re||(Re=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ze)))}function ti(t){function e(e){return Je(e,t)}if(0<Ae.length){Je(Ae[0],t);for(var i=1;i<Ae.length;i++){var n=Ae[i];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Ue&&Je(Ue,t),null!==Ve&&Je(Ve,t),null!==Ye&&Je(Ye,t),je.forEach(e),We.forEach(e),i=0;i<$e.length;i++)(n=$e[i]).blockedOn===t&&(n.blockedOn=null);for(;0<$e.length&&null===(i=$e[0]).blockedOn;)qe(i),null===i.blockedOn&&$e.shift()}var ei=E.ReactCurrentBatchConfig,ii=!0;function ni(t,e,i,n){var r=De,s=ei.transition;ei.transition=null;try{De=1,si(t,e,i,n)}finally{De=r,ei.transition=s}}function ri(t,e,i,n){var r=De,s=ei.transition;ei.transition=null;try{De=4,si(t,e,i,n)}finally{De=r,ei.transition=s}}function si(t,e,i,n){if(ii){var r=li(t,e,i,n);if(null===r)ir(t,e,n,oi,i),He(t,n);else if(function(t,e,i,n,r){switch(e){case"focusin":return Ue=Xe(Ue,t,e,i,n,r),!0;case"dragenter":return Ve=Xe(Ve,t,e,i,n,r),!0;case"mouseover":return Ye=Xe(Ye,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return je.set(s,Xe(je.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,We.set(s,Xe(We.get(s)||null,t,e,i,n,r)),!0}return!1}(r,t,e,i,n))n.stopPropagation();else if(He(t,n),4&e&&-1<Qe.indexOf(t)){for(;null!==r;){var s=Dr(r);if(null!==s&&Be(s),null===(s=li(t,e,i,n))&&ir(t,e,n,oi,i),s===r)break;r=s}null!==r&&n.stopPropagation()}else ir(t,e,n,null,i)}}var oi=null;function li(t,e,i,n){if(oi=null,null!==(t=Er(t=Bt(n))))if(null===(e=te(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=ee(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oi=t,null}function ai(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ue()){case ce:return 1;case de:return 4;case fe:case pe:return 16;case me:return 536870912;default:return 16}default:return 16}}var hi=null,ui=null,ci=null;function di(){if(ci)return ci;var t,e,i=ui,n=i.length,r="value"in hi?hi.value:hi.textContent,s=r.length;for(t=0;t<n&&i[t]===r[t];t++);var o=n-t;for(e=1;e<=o&&i[n-e]===r[s-e];e++);return ci=r.slice(t,1<e?1-e:void 0)}function fi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function pi(){return!0}function mi(){return!1}function yi(t){function e(e,i,n,r,s){for(var o in this._reactName=e,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?pi:mi,this.isPropagationStopped=mi,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),e}var gi,bi,vi,wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=yi(wi),Si=q({},wi,{view:0,detail:0}),xi=yi(Si),Mi=q({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&"mousemove"===t.type?(gi=t.screenX-vi.screenX,bi=t.screenY-vi.screenY):bi=gi=0,vi=t),gi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),ki=yi(Mi),Ci=yi(q({},Mi,{dataTransfer:0})),Ii=yi(q({},Si,{relatedTarget:0})),Ti=yi(q({},wi,{animationName:0,elapsedTime:0,pseudoElement:0})),Pi=q({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ei=yi(Pi),Di=yi(q({},wi,{data:0})),Ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Oi[t])&&!!e[t]}function Li(){return Fi}var zi=q({},Si,{key:function(t){if(t.key){var e=Ni[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=fi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Bi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return"keypress"===t.type?fi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?fi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ri=yi(zi),Ai=yi(q({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ui=yi(q({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li})),Vi=yi(q({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Yi=q({},Mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ji=yi(Yi),Wi=[9,13,27,32],$i=u&&"CompositionEvent"in window,Qi=null;u&&"documentMode"in document&&(Qi=document.documentMode);var Hi=u&&"TextEvent"in window&&!Qi,Xi=u&&(!$i||Qi&&8<Qi&&11>=Qi),qi=String.fromCharCode(32),Ki=!1;function Gi(t,e){switch(t){case"keyup":return-1!==Wi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Ji=!1;var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!tn[t.type]:"textarea"===e}function nn(t,e,i,n){Rt(n),0<(e=rr(e,"onChange")).length&&(i=new _i("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var rn=null,sn=null;function on(t){Kn(t,0)}function ln(t){if(ot(Nr(t)))return t}function an(t,e){if("change"===t)return e}var hn=!1;if(u){var un;if(u){var cn="oninput"in document;if(!cn){var dn=document.createElement("div");dn.setAttribute("oninput","return;"),cn="function"===typeof dn.oninput}un=cn}else un=!1;hn=un&&(!document.documentMode||9<document.documentMode)}function fn(){rn&&(rn.detachEvent("onpropertychange",pn),sn=rn=null)}function pn(t){if("value"===t.propertyName&&ln(sn)){var e=[];nn(e,sn,t,Bt(t)),jt(on,e)}}function mn(t,e,i){"focusin"===t?(fn(),sn=i,(rn=e).attachEvent("onpropertychange",pn)):"focusout"===t&&fn()}function yn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return ln(sn)}function gn(t,e){if("click"===t)return ln(e)}function bn(t,e){if("input"===t||"change"===t)return ln(e)}var vn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function wn(t,e){if(vn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!c.call(e,r)||!vn(t[r],e[r]))return!1}return!0}function _n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sn(t,e){var i,n=_n(t);for(t=0;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=_n(n)}}function xn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?xn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Mn(){for(var t=window,e=lt();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(M){i=!1}if(!i)break;e=lt((t=e.contentWindow).document)}return e}function kn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Cn(t){var e=Mn(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&xn(i.ownerDocument.documentElement,i)){if(null!==n&&kn(i))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=i.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!t.extend&&s>n&&(r=n,n=s,s=r),r=Sn(i,s);var o=Sn(i,n);r&&o&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var In=u&&"documentMode"in document&&11>=document.documentMode,Tn=null,Pn=null,En=null,Dn=!1;function Nn(t,e,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;Dn||null==Tn||Tn!==lt(n)||("selectionStart"in(n=Tn)&&kn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},En&&wn(En,n)||(En=n,0<(n=rr(Pn,"onSelect")).length&&(e=new _i("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Tn)))}function Bn(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var On={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionend:Bn("Transition","TransitionEnd")},Fn={},Ln={};function zn(t){if(Fn[t])return Fn[t];if(!On[t])return t;var e,i=On[t];for(e in i)if(i.hasOwnProperty(e)&&e in Ln)return Fn[t]=i[e];return t}u&&(Ln=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);var Rn=zn("animationend"),An=zn("animationiteration"),Un=zn("animationstart"),Vn=zn("transitionend"),Yn=new Map,jn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(t,e){Yn.set(t,e),a(e,[t])}for(var $n=0;$n<jn.length;$n++){var Qn=jn[$n];Wn(Qn.toLowerCase(),"on"+(Qn[0].toUpperCase()+Qn.slice(1)))}Wn(Rn,"onAnimationEnd"),Wn(An,"onAnimationIteration"),Wn(Un,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Vn,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hn));function qn(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,n,r,o,l,a,h){if(Jt.apply(this,arguments),Xt){if(!Xt)throw Error(s(198));var u=qt;Xt=!1,qt=null,Kt||(Kt=!0,Gt=u)}}(n,e,void 0,t),t.currentTarget=null}function Kn(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var n=t[i],r=n.event;n=n.listeners;t:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,h=l.currentTarget;if(l=l.listener,a!==s&&r.isPropagationStopped())break t;qn(r,l,h),s=a}else for(o=0;o<n.length;o++){if(a=(l=n[o]).instance,h=l.currentTarget,l=l.listener,a!==s&&r.isPropagationStopped())break t;qn(r,l,h),s=a}}}if(Kt)throw t=Gt,Kt=!1,Gt=null,t}function Gn(t,e){var i=e[Ir];void 0===i&&(i=e[Ir]=new Set);var n=t+"__bubble";i.has(n)||(er(e,t,2,!1),i.add(n))}function Zn(t,e,i){var n=0;e&&(n|=4),er(i,t,n,e)}var Jn="_reactListening"+Math.random().toString(36).slice(2);function tr(t){if(!t[Jn]){t[Jn]=!0,o.forEach(function(e){"selectionchange"!==e&&(Xn.has(e)||Zn(e,!1,t),Zn(e,!0,t))});var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Jn]||(e[Jn]=!0,Zn("selectionchange",!1,e))}}function er(t,e,i,n){switch(ai(e)){case 1:var r=ni;break;case 4:r=ri;break;default:r=si}i=r.bind(null,e,i,t),r=void 0,!$t||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),n?void 0!==r?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):void 0!==r?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function ir(t,e,i,n,r){var s=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var l=n.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===o)for(o=n.return;null!==o;){var a=o.tag;if((3===a||4===a)&&((a=o.stateNode.containerInfo)===r||8===a.nodeType&&a.parentNode===r))return;o=o.return}for(;null!==l;){if(null===(o=Er(l)))return;if(5===(a=o.tag)||6===a){n=s=o;continue t}l=l.parentNode}}n=n.return}jt(function(){var n=s,r=Bt(i),o=[];t:{var l=Yn.get(t);if(void 0!==l){var a=_i,h=t;switch(t){case"keypress":if(0===fi(i))break t;case"keydown":case"keyup":a=Ri;break;case"focusin":h="focus",a=Ii;break;case"focusout":h="blur",a=Ii;break;case"beforeblur":case"afterblur":a=Ii;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=Ci;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Ui;break;case Rn:case An:case Un:a=Ti;break;case Vn:a=Vi;break;case"scroll":a=xi;break;case"wheel":a=ji;break;case"copy":case"cut":case"paste":a=Ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Ai}var u=0!==(4&e),c=!u&&"scroll"===t,d=u?null!==l?l+"Capture":null:l;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Wt(p,d))&&u.push(nr(p,m,f)))),c)break;p=p.return}0<u.length&&(l=new a(l,h,null,i,r),o.push({event:l,listeners:u}))}}if(0===(7&e)){if(a="mouseout"===t||"pointerout"===t,(!(l="mouseover"===t||"pointerover"===t)||i===Nt||!(h=i.relatedTarget||i.fromElement)||!Er(h)&&!h[Cr])&&(a||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,a?(a=n,null!==(h=(h=i.relatedTarget||i.toElement)?Er(h):null)&&(h!==(c=te(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(a=null,h=n),a!==h)){if(u=ki,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Ai,m="onPointerLeave",d="onPointerEnter",p="pointer"),c=null==a?l:Nr(a),f=null==h?l:Nr(h),(l=new u(m,p+"leave",a,i,r)).target=c,l.relatedTarget=f,m=null,Er(r)===n&&((u=new u(d,p+"enter",h,i,r)).target=f,u.relatedTarget=c,m=u),c=m,a&&h)t:{for(d=h,p=0,f=u=a;f;f=sr(f))p++;for(f=0,m=d;m;m=sr(m))f++;for(;0<p-f;)u=sr(u),p--;for(;0<f-p;)d=sr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=sr(u),d=sr(d)}u=null}else u=null;null!==a&&or(o,l,a,u,!1),null!==h&&null!==c&&or(o,c,h,u,!0)}if("select"===(a=(l=n?Nr(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===a&&"file"===l.type)var y=an;else if(en(l))if(hn)y=bn;else{y=yn;var g=mn}else(a=l.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=gn);switch(y&&(y=y(t,n))?nn(o,y,i,r):(g&&g(t,l,n),"focusout"===t&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ft(l,"number",l.value)),g=n?Nr(n):window,t){case"focusin":(en(g)||"true"===g.contentEditable)&&(Tn=g,Pn=n,En=null);break;case"focusout":En=Pn=Tn=null;break;case"mousedown":Dn=!0;break;case"contextmenu":case"mouseup":case"dragend":Dn=!1,Nn(o,i,r);break;case"selectionchange":if(In)break;case"keydown":case"keyup":Nn(o,i,r)}var b;if($i)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Ji?Gi(t,i)&&(v="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(v="onCompositionStart");v&&(Xi&&"ko"!==i.locale&&(Ji||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ji&&(b=di()):(ui="value"in(hi=r)?hi.value:hi.textContent,Ji=!0)),0<(g=rr(n,v)).length&&(v=new Di(v,t,null,i,r),o.push({event:v,listeners:g}),b?v.data=b:null!==(b=Zi(i))&&(v.data=b))),(b=Hi?function(t,e){switch(t){case"compositionend":return Zi(e);case"keypress":return 32!==e.which?null:(Ki=!0,qi);case"textInput":return(t=e.data)===qi&&Ki?null:t;default:return null}}(t,i):function(t,e){if(Ji)return"compositionend"===t||!$i&&Gi(t,e)?(t=di(),ci=ui=hi=null,Ji=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xi&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(n=rr(n,"onBeforeInput")).length&&(r=new Di("onBeforeInput","beforeinput",null,i,r),o.push({event:r,listeners:n}),r.data=b))}Kn(o,e)})}function nr(t,e,i){return{instance:t,listener:e,currentTarget:i}}function rr(t,e){for(var i=e+"Capture",n=[];null!==t;){var r=t,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Wt(t,i))&&n.unshift(nr(t,s,r)),null!=(s=Wt(t,e))&&n.push(nr(t,s,r))),t=t.return}return n}function sr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function or(t,e,i,n,r){for(var s=e._reactName,o=[];null!==i&&i!==n;){var l=i,a=l.alternate,h=l.stateNode;if(null!==a&&a===n)break;5===l.tag&&null!==h&&(l=h,r?null!=(a=Wt(i,s))&&o.unshift(nr(i,a,l)):r||null!=(a=Wt(i,s))&&o.push(nr(i,a,l))),i=i.return}0!==o.length&&t.push({event:e,listeners:o})}var lr=/\r\n?/g,ar=/\u0000|\uFFFD/g;function hr(t){return("string"===typeof t?t:""+t).replace(lr,"\n").replace(ar,"")}function ur(t,e,i){if(e=hr(e),hr(t)!==e&&i)throw Error(s(425))}function cr(){}var dr=null,fr=null;function pr(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var mr="function"===typeof setTimeout?setTimeout:void 0,yr="function"===typeof clearTimeout?clearTimeout:void 0,gr="function"===typeof Promise?Promise:void 0,br="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof gr?function(t){return gr.resolve(null).then(t).catch(vr)}:mr;function vr(t){setTimeout(function(){throw t})}function wr(t,e){var i=e,n=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&8===r.nodeType)if("/$"===(i=r.data)){if(0===n)return t.removeChild(r),void ti(e);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=r}while(i);ti(e)}function _r(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function Sr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var xr=Math.random().toString(36).slice(2),Mr="__reactFiber$"+xr,kr="__reactProps$"+xr,Cr="__reactContainer$"+xr,Ir="__reactEvents$"+xr,Tr="__reactListeners$"+xr,Pr="__reactHandles$"+xr;function Er(t){var e=t[Mr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Cr]||i[Mr]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=Sr(t);null!==t;){if(i=t[Mr])return i;t=Sr(t)}return e}i=(t=i).parentNode}return null}function Dr(t){return!(t=t[Mr]||t[Cr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Nr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function Br(t){return t[kr]||null}var Or=[],Fr=-1;function Lr(t){return{current:t}}function zr(t){0>Fr||(t.current=Or[Fr],Or[Fr]=null,Fr--)}function Rr(t,e){Fr++,Or[Fr]=t.current,t.current=e}var Ar={},Ur=Lr(Ar),Vr=Lr(!1),Yr=Ar;function jr(t,e){var i=t.type.contextTypes;if(!i)return Ar;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in i)s[r]=e[r];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wr(t){return null!==(t=t.childContextTypes)&&void 0!==t}function $r(){zr(Vr),zr(Ur)}function Qr(t,e,i){if(Ur.current!==Ar)throw Error(s(168));Rr(Ur,e),Rr(Vr,i)}function Hr(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in e))throw Error(s(108,it(t)||"Unknown",r));return q({},i,n)}function Xr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,Yr=Ur.current,Rr(Ur,t),Rr(Vr,Vr.current),!0}function qr(t,e,i){var n=t.stateNode;if(!n)throw Error(s(169));i?(t=Hr(t,e,Yr),n.__reactInternalMemoizedMergedChildContext=t,zr(Vr),zr(Ur),Rr(Ur,t)):zr(Vr),Rr(Vr,i)}var Kr=null,Gr=!1,Zr=!1;function Jr(t){null===Kr?Kr=[t]:Kr.push(t)}function ts(){if(!Zr&&null!==Kr){Zr=!0;var t=0,e=De;try{var i=Kr;for(De=1;t<i.length;t++){var n=i[t];do{n=n(!0)}while(null!==n)}Kr=null,Gr=!1}catch(p){throw null!==Kr&&(Kr=Kr.slice(t+1)),se(ce,ts),p}finally{De=e,Zr=!1}}return null}var es=[],is=0,ns=null,rs=0,ss=[],os=0,ls=null,as=1,hs="";function us(t,e){es[is++]=rs,es[is++]=ns,ns=t,rs=e}function cs(t,e,i){ss[os++]=as,ss[os++]=hs,ss[os++]=ls,ls=t;var n=as;t=hs;var r=32-be(n)-1;n&=~(1<<r),i+=1;var s=32-be(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,as=1<<32-be(e)+r|i<<r|n,hs=s+t}else as=1<<s|i<<r|n,hs=t}function ds(t){null!==t.return&&(us(t,1),cs(t,1,0))}function fs(t){for(;t===ns;)ns=es[--is],es[is]=null,rs=es[--is],es[is]=null;for(;t===ls;)ls=ss[--os],ss[os]=null,hs=ss[--os],ss[os]=null,as=ss[--os],ss[os]=null}var ps=null,ms=null,ys=!1,gs=null;function bs(t,e){var i=jh(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function vs(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ps=t,ms=_r(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ps=t,ms=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==ls?{id:as,overflow:hs}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=jh(18,null,null,0)).stateNode=e,i.return=t,t.child=i,ps=t,ms=null,!0);default:return!1}}function ws(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function _s(t){if(ys){var e=ms;if(e){var i=e;if(!vs(t,e)){if(ws(t))throw Error(s(418));e=_r(i.nextSibling);var n=ps;e&&vs(t,e)?bs(n,i):(t.flags=-4097&t.flags|2,ys=!1,ps=t)}}else{if(ws(t))throw Error(s(418));t.flags=-4097&t.flags|2,ys=!1,ps=t}}}function Ss(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ps=t}function xs(t){if(t!==ps)return!1;if(!ys)return Ss(t),ys=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!pr(t.type,t.memoizedProps)),e&&(e=ms)){if(ws(t))throw Ms(),Error(s(418));for(;e;)bs(t,e),e=_r(e.nextSibling)}if(Ss(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){ms=_r(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}ms=null}}else ms=ps?_r(t.stateNode.nextSibling):null;return!0}function Ms(){for(var t=ms;t;)t=_r(t.nextSibling)}function ks(){ms=ps=null,ys=!1}function Cs(t){null===gs?gs=[t]:gs.push(t)}var Is=E.ReactCurrentBatchConfig;function Ts(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,t));var r=n,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!i._owner)throw Error(s(290,t))}return t}function Ps(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Es(t){return(0,t._init)(t._payload)}function Ds(t){function e(e,i){if(t){var n=e.deletions;null===n?(e.deletions=[i],e.flags|=16):n.push(i)}}function i(i,n){if(!t)return null;for(;null!==n;)e(i,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=$h(t,e)).index=0,t.sibling=null,t}function o(e,i,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<i?(e.flags|=2,i):n:(e.flags|=2,i):(e.flags|=1048576,i)}function l(e){return t&&null===e.alternate&&(e.flags|=2),e}function a(t,e,i,n){return null===e||6!==e.tag?((e=qh(i,t.mode,n)).return=t,e):((e=r(e,i)).return=t,e)}function h(t,e,i,n){var s=i.type;return s===O?c(t,e,i.props.children,n,i.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===W&&Es(s)===e.type)?((n=r(e,i.props)).ref=Ts(t,e,i),n.return=t,n):((n=Qh(i.type,i.key,i.props,null,t.mode,n)).ref=Ts(t,e,i),n.return=t,n)}function u(t,e,i,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Kh(i,t.mode,n)).return=t,e):((e=r(e,i.children||[])).return=t,e)}function c(t,e,i,n,s){return null===e||7!==e.tag?((e=Hh(i,t.mode,n,s)).return=t,e):((e=r(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=qh(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case D:return(i=Qh(e.type,e.key,e.props,null,t.mode,i)).ref=Ts(t,null,e),i.return=t,i;case B:return(e=Kh(e,t.mode,i)).return=t,e;case W:return d(t,(0,e._init)(e._payload),i)}if(pt(e)||H(e))return(e=Hh(e,t.mode,i,null)).return=t,e;Ps(t,e)}return null}function f(t,e,i,n){var r=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==r?null:a(t,e,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case D:return i.key===r?h(t,e,i,n):null;case B:return i.key===r?u(t,e,i,n):null;case W:return f(t,e,(r=i._init)(i._payload),n)}if(pt(i)||H(i))return null!==r?null:c(t,e,i,n,null);Ps(t,i)}return null}function p(t,e,i,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return a(e,t=t.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case D:return h(e,t=t.get(null===n.key?i:n.key)||null,n,r);case B:return u(e,t=t.get(null===n.key?i:n.key)||null,n,r);case W:return p(t,e,i,(0,n._init)(n._payload),r)}if(pt(n)||H(n))return c(e,t=t.get(i)||null,n,r,null);Ps(e,n)}return null}function m(r,s,l,a){for(var h=null,u=null,c=s,m=s=0,y=null;null!==c&&m<l.length;m++){c.index>m?(y=c,c=null):y=c.sibling;var g=f(r,c,l[m],a);if(null===g){null===c&&(c=y);break}t&&c&&null===g.alternate&&e(r,c),s=o(g,s,m),null===u?h=g:u.sibling=g,u=g,c=y}if(m===l.length)return i(r,c),ys&&us(r,m),h;if(null===c){for(;m<l.length;m++)null!==(c=d(r,l[m],a))&&(s=o(c,s,m),null===u?h=c:u.sibling=c,u=c);return ys&&us(r,m),h}for(c=n(r,c);m<l.length;m++)null!==(y=p(c,r,m,l[m],a))&&(t&&null!==y.alternate&&c.delete(null===y.key?m:y.key),s=o(y,s,m),null===u?h=y:u.sibling=y,u=y);return t&&c.forEach(function(t){return e(r,t)}),ys&&us(r,m),h}function y(r,l,a,h){var u=H(a);if("function"!==typeof u)throw Error(s(150));if(null==(a=u.call(a)))throw Error(s(151));for(var c=u=null,m=l,y=l=0,g=null,b=a.next();null!==m&&!b.done;y++,b=a.next()){m.index>y?(g=m,m=null):g=m.sibling;var v=f(r,m,b.value,h);if(null===v){null===m&&(m=g);break}t&&m&&null===v.alternate&&e(r,m),l=o(v,l,y),null===c?u=v:c.sibling=v,c=v,m=g}if(b.done)return i(r,m),ys&&us(r,y),u;if(null===m){for(;!b.done;y++,b=a.next())null!==(b=d(r,b.value,h))&&(l=o(b,l,y),null===c?u=b:c.sibling=b,c=b);return ys&&us(r,y),u}for(m=n(r,m);!b.done;y++,b=a.next())null!==(b=p(m,r,y,b.value,h))&&(t&&null!==b.alternate&&m.delete(null===b.key?y:b.key),l=o(b,l,y),null===c?u=b:c.sibling=b,c=b);return t&&m.forEach(function(t){return e(r,t)}),ys&&us(r,y),u}return function t(n,s,o,a){if("object"===typeof o&&null!==o&&o.type===O&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case D:t:{for(var h=o.key,u=s;null!==u;){if(u.key===h){if((h=o.type)===O){if(7===u.tag){i(n,u.sibling),(s=r(u,o.props.children)).return=n,n=s;break t}}else if(u.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===W&&Es(h)===u.type){i(n,u.sibling),(s=r(u,o.props)).ref=Ts(n,u,o),s.return=n,n=s;break t}i(n,u);break}e(n,u),u=u.sibling}o.type===O?((s=Hh(o.props.children,n.mode,a,o.key)).return=n,n=s):((a=Qh(o.type,o.key,o.props,null,n.mode,a)).ref=Ts(n,s,o),a.return=n,n=a)}return l(n);case B:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){i(n,s.sibling),(s=r(s,o.children||[])).return=n,n=s;break t}i(n,s);break}e(n,s),s=s.sibling}(s=Kh(o,n.mode,a)).return=n,n=s}return l(n);case W:return t(n,s,(u=o._init)(o._payload),a)}if(pt(o))return m(n,s,o,a);if(H(o))return y(n,s,o,a);Ps(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(i(n,s.sibling),(s=r(s,o)).return=n,n=s):(i(n,s),(s=qh(o,n.mode,a)).return=n,n=s),l(n)):i(n,s)}}var Ns=Ds(!0),Bs=Ds(!1),Os=Lr(null),Fs=null,Ls=null,zs=null;function Rs(){zs=Ls=Fs=null}function As(t){var e=Os.current;zr(Os),t._currentValue=e}function Us(t,e,i){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Vs(t,e){Fs=t,zs=Ls=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Dl=!0),t.firstContext=null)}function Ys(t){var e=t._currentValue;if(zs!==t)if(t={context:t,memoizedValue:e,next:null},null===Ls){if(null===Fs)throw Error(s(308));Ls=t,Fs.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var js=null;function Ws(t){null===js?js=[t]:js.push(t)}function $s(t,e,i,n){var r=e.interleaved;return null===r?(i.next=i,Ws(e)):(i.next=r.next,r.next=i),e.interleaved=i,Qs(t,n)}function Qs(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var Hs=!1;function Xs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qs(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,i){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ua)){var r=n.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),n.pending=e,Qs(t,i)}return null===(r=n.interleaved)?(e.next=e,Ws(n)):(e.next=r.next,r.next=e),n.interleaved=e,Qs(t,i)}function Zs(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,Ee(t,i)}}function Js(t,e){var i=t.updateQueue,n=t.alternate;if(null!==n&&i===(n=n.updateQueue)){var r=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?r=s=o:s=s.next=o,i=i.next}while(null!==i);null===s?r=s=e:s=s.next=e}else r=s=e;return i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function to(t,e,i,n){var r=t.updateQueue;Hs=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var a=l,h=a.next;a.next=null,null===o?s=h:o.next=h,o=a;var u=t.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===l?u.firstBaseUpdate=h:l.next=h,u.lastBaseUpdate=a))}if(null!==s){var c=r.baseState;for(o=0,u=h=a=null,l=s;;){var d=l.lane,f=l.eventTime;if((n&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var p=t,m=l;switch(d=e,f=i,m.tag){case 1:if("function"===typeof(p=m.payload)){c=p.call(f,c,d);break t}c=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,c,d):p)||void 0===d)break t;c=q({},c,d);break t;case 2:Hs=!0}}null!==l.callback&&0!==l.lane&&(t.flags|=64,null===(d=r.effects)?r.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(h=u=f,a=c):u=u.next=f,o|=d;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(d=l).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(a=c),r.baseState=a,r.firstBaseUpdate=h,r.lastBaseUpdate=u,null!==(e=r.shared.interleaved)){r=e;do{o|=r.lane,r=r.next}while(r!==e)}else null===s&&(r.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=c}}function eo(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(null!==r){if(n.callback=null,n=i,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var io={},no=Lr(io),ro=Lr(io),so=Lr(io);function oo(t){if(t===io)throw Error(s(174));return t}function lo(t,e){switch(Rr(so,e),Rr(ro,t),Rr(no,io),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_t(null,"");break;default:e=_t(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}zr(no),Rr(no,e)}function ao(){zr(no),zr(ro),zr(so)}function ho(t){oo(so.current);var e=oo(no.current),i=_t(e,t.type);e!==i&&(Rr(ro,t),Rr(no,i))}function uo(t){ro.current===t&&(zr(no),zr(ro))}var co=Lr(0);function fo(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var po=[];function mo(){for(var t=0;t<po.length;t++)po[t]._workInProgressVersionPrimary=null;po.length=0}var yo=E.ReactCurrentDispatcher,go=E.ReactCurrentBatchConfig,bo=0,vo=null,wo=null,_o=null,So=!1,xo=!1,Mo=0,ko=0;function Co(){throw Error(s(321))}function Io(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!vn(t[i],e[i]))return!1;return!0}function To(t,e,i,n,r,o){if(bo=o,vo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yo.current=null===t||null===t.memoizedState?cl:dl,t=i(n,r),xo){o=0;do{if(xo=!1,Mo=0,25<=o)throw Error(s(301));o+=1,_o=wo=null,e.updateQueue=null,yo.current=fl,t=i(n,r)}while(xo)}if(yo.current=ul,e=null!==wo&&null!==wo.next,bo=0,_o=wo=vo=null,So=!1,e)throw Error(s(300));return t}function Po(){var t=0!==Mo;return Mo=0,t}function Eo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_o?vo.memoizedState=_o=t:_o=_o.next=t,_o}function Do(){if(null===wo){var t=vo.alternate;t=null!==t?t.memoizedState:null}else t=wo.next;var e=null===_o?vo.memoizedState:_o.next;if(null!==e)_o=e,wo=t;else{if(null===t)throw Error(s(310));t={memoizedState:(wo=t).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===_o?vo.memoizedState=_o=t:_o=_o.next=t}return _o}function No(t,e){return"function"===typeof e?e(t):e}function Bo(t){var e=Do(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=wo,r=n.baseQueue,o=i.pending;if(null!==o){if(null!==r){var l=r.next;r.next=o.next,o.next=l}n.baseQueue=r=o,i.pending=null}if(null!==r){o=r.next,n=n.baseState;var a=l=null,h=null,u=o;do{var c=u.lane;if((bo&c)===c)null!==h&&(h=h.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===h?(a=h=d,l=n):h=h.next=d,vo.lanes|=c,Xa|=c}u=u.next}while(null!==u&&u!==o);null===h?l=n:h.next=a,vn(n,e.memoizedState)||(Dl=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=h,i.lastRenderedState=n}if(null!==(t=i.interleaved)){r=t;do{o=r.lane,vo.lanes|=o,Xa|=o,r=r.next}while(r!==t)}else null===r&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Oo(t){var e=Do(),i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,o=e.memoizedState;if(null!==r){i.pending=null;var l=r=r.next;do{o=t(o,l.action),l=l.next}while(l!==r);vn(o,e.memoizedState)||(Dl=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),i.lastRenderedState=o}return[o,n]}function Fo(){}function Lo(t,e){var i=vo,n=Do(),r=e(),o=!vn(n.memoizedState,r);if(o&&(n.memoizedState=r,Dl=!0),n=n.queue,Xo(Ao.bind(null,i,n,t),[t]),n.getSnapshot!==e||o||null!==_o&&1&_o.memoizedState.tag){if(i.flags|=2048,jo(9,Ro.bind(null,i,n,r,e),void 0,null),null===Va)throw Error(s(349));0!==(30&bo)||zo(i,e,r)}return r}function zo(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=vo.updateQueue)?(e={lastEffect:null,stores:null},vo.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function Ro(t,e,i,n){e.value=i,e.getSnapshot=n,Uo(e)&&Vo(t)}function Ao(t,e,i){return i(function(){Uo(e)&&Vo(t)})}function Uo(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!vn(t,i)}catch(M){return!0}}function Vo(t){var e=Qs(t,1);null!==e&&ph(e,t,1,-1)}function Yo(t){var e=Eo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},e.queue=t,t=t.dispatch=ol.bind(null,vo,t),[e.memoizedState,t]}function jo(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},null===(e=vo.updateQueue)?(e={lastEffect:null,stores:null},vo.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function Wo(){return Do().memoizedState}function $o(t,e,i,n){var r=Eo();vo.flags|=t,r.memoizedState=jo(1|e,i,void 0,void 0===n?null:n)}function Qo(t,e,i,n){var r=Do();n=void 0===n?null:n;var s=void 0;if(null!==wo){var o=wo.memoizedState;if(s=o.destroy,null!==n&&Io(n,o.deps))return void(r.memoizedState=jo(e,i,s,n))}vo.flags|=t,r.memoizedState=jo(1|e,i,s,n)}function Ho(t,e){return $o(8390656,8,t,e)}function Xo(t,e){return Qo(2048,8,t,e)}function qo(t,e){return Qo(4,2,t,e)}function Ko(t,e){return Qo(4,4,t,e)}function Go(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Zo(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Qo(4,4,Go.bind(null,e,t),i)}function Jo(){}function tl(t,e){var i=Do();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Io(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function el(t,e){var i=Do();e=void 0===e?null:e;var n=i.memoizedState;return null!==n&&null!==e&&Io(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function il(t,e,i){return 0===(21&bo)?(t.baseState&&(t.baseState=!1,Dl=!0),t.memoizedState=i):(vn(i,e)||(i=Ie(),vo.lanes|=i,Xa|=i,t.baseState=!0),e)}function nl(t,e){var i=De;De=0!==i&&4>i?i:4,t(!0);var n=go.transition;go.transition={};try{t(!1),e()}finally{De=i,go.transition=n}}function rl(){return Do().memoizedState}function sl(t,e,i){var n=fh(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},ll(t))al(e,i);else if(null!==(i=$s(t,e,i,n))){ph(i,t,n,dh()),hl(i,e,n)}}function ol(t,e,i){var n=fh(t),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(ll(t))al(e,r);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,l=s(o,i);if(r.hasEagerState=!0,r.eagerState=l,vn(l,o)){var a=e.interleaved;return null===a?(r.next=r,Ws(e)):(r.next=a.next,a.next=r),void(e.interleaved=r)}}catch(v){}null!==(i=$s(t,e,r,n))&&(ph(i,t,n,r=dh()),hl(i,e,n))}}function ll(t){var e=t.alternate;return t===vo||null!==e&&e===vo}function al(t,e){xo=So=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function hl(t,e,i){if(0!==(4194240&i)){var n=e.lanes;i|=n&=t.pendingLanes,e.lanes=i,Ee(t,i)}}var ul={readContext:Ys,useCallback:Co,useContext:Co,useEffect:Co,useImperativeHandle:Co,useInsertionEffect:Co,useLayoutEffect:Co,useMemo:Co,useReducer:Co,useRef:Co,useState:Co,useDebugValue:Co,useDeferredValue:Co,useTransition:Co,useMutableSource:Co,useSyncExternalStore:Co,useId:Co,unstable_isNewReconciler:!1},cl={readContext:Ys,useCallback:function(t,e){return Eo().memoizedState=[t,void 0===e?null:e],t},useContext:Ys,useEffect:Ho,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,$o(4194308,4,Go.bind(null,e,t),i)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){return $o(4,2,t,e)},useMemo:function(t,e){var i=Eo();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Eo();return e=void 0!==i?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sl.bind(null,vo,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Eo().memoizedState=t},useState:Yo,useDebugValue:Jo,useDeferredValue:function(t){return Eo().memoizedState=t},useTransition:function(){var t=Yo(!1),e=t[0];return t=nl.bind(null,t[1]),Eo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=vo,r=Eo();if(ys){if(void 0===i)throw Error(s(407));i=i()}else{if(i=e(),null===Va)throw Error(s(349));0!==(30&bo)||zo(n,e,i)}r.memoizedState=i;var o={value:i,getSnapshot:e};return r.queue=o,Ho(Ao.bind(null,n,o,t),[t]),n.flags|=2048,jo(9,Ro.bind(null,n,o,i,e),void 0,null),i},useId:function(){var t=Eo(),e=Va.identifierPrefix;if(ys){var i=hs;e=":"+e+"R"+(i=(as&~(1<<32-be(as)-1)).toString(32)+i),0<(i=Mo++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=ko++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dl={readContext:Ys,useCallback:tl,useContext:Ys,useEffect:Xo,useImperativeHandle:Zo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:el,useReducer:Bo,useRef:Wo,useState:function(){return Bo(No)},useDebugValue:Jo,useDeferredValue:function(t){return il(Do(),wo.memoizedState,t)},useTransition:function(){return[Bo(No)[0],Do().memoizedState]},useMutableSource:Fo,useSyncExternalStore:Lo,useId:rl,unstable_isNewReconciler:!1},fl={readContext:Ys,useCallback:tl,useContext:Ys,useEffect:Xo,useImperativeHandle:Zo,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:el,useReducer:Oo,useRef:Wo,useState:function(){return Oo(No)},useDebugValue:Jo,useDeferredValue:function(t){var e=Do();return null===wo?e.memoizedState=t:il(e,wo.memoizedState,t)},useTransition:function(){return[Oo(No)[0],Do().memoizedState]},useMutableSource:Fo,useSyncExternalStore:Lo,useId:rl,unstable_isNewReconciler:!1};function pl(t,e){if(t&&t.defaultProps){for(var i in e=q({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}function ml(t,e,i,n){i=null===(i=i(n,e=t.memoizedState))||void 0===i?e:q({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var yl={isMounted:function(t){return!!(t=t._reactInternals)&&te(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=dh(),r=fh(t),s=Ks(n,r);s.payload=e,void 0!==i&&null!==i&&(s.callback=i),null!==(e=Gs(t,s,r))&&(ph(e,t,r,n),Zs(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=dh(),r=fh(t),s=Ks(n,r);s.tag=1,s.payload=e,void 0!==i&&null!==i&&(s.callback=i),null!==(e=Gs(t,s,r))&&(ph(e,t,r,n),Zs(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=dh(),n=fh(t),r=Ks(i,n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Gs(t,r,n))&&(ph(e,t,n,i),Zs(e,t,n))}};function gl(t,e,i,n,r,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!wn(i,n)||!wn(r,s))}function bl(t,e,i){var n=!1,r=Ar,s=e.contextType;return"object"===typeof s&&null!==s?s=Ys(s):(r=Wr(e)?Yr:Ur.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?jr(t,r):Ar),e=new e(i,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yl,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function vl(t,e,i,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&yl.enqueueReplaceState(e,e.state,null)}function wl(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs={},Xs(t);var s=e.contextType;"object"===typeof s&&null!==s?r.context=Ys(s):(s=Wr(e)?Yr:Ur.current,r.context=jr(t,s)),r.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(ml(t,e,s,i),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&yl.enqueueReplaceState(r,r.state,null),to(t,i,r,n),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function _l(t,e){try{var i="",n=e;do{i+=tt(n),n=n.return}while(n);var r=i}catch(k){r="\nError generating stack: "+k.message+"\n"+k.stack}return{value:t,source:e,stack:r,digest:null}}function Sl(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function xl(t,e){try{console.error(e.value)}catch(x){setTimeout(function(){throw x})}}var Ml="function"===typeof WeakMap?WeakMap:Map;function kl(t,e,i){(i=Ks(-1,i)).tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){ih||(ih=!0,nh=n),xl(0,e)},i}function Cl(t,e,i){(i=Ks(-1,i)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var r=e.value;i.payload=function(){return n(r)},i.callback=function(){xl(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){xl(0,e),"function"!==typeof n&&(null===rh?rh=new Set([this]):rh.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function Il(t,e,i){var n=t.pingCache;if(null===n){n=t.pingCache=new Ml;var r=new Set;n.set(e,r)}else void 0===(r=n.get(e))&&(r=new Set,n.set(e,r));r.has(i)||(r.add(i),t=zh.bind(null,t,e,i),e.then(t,t))}function Tl(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function Pl(t,e,i,n,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Ks(-1,1)).tag=2,Gs(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var El=E.ReactCurrentOwner,Dl=!1;function Nl(t,e,i,n){e.child=null===t?Bs(e,null,i,n):Ns(e,t.child,i,n)}function Bl(t,e,i,n,r){i=i.render;var s=e.ref;return Vs(e,r),n=To(t,e,i,n,s,r),i=Po(),null===t||Dl?(ys&&i&&ds(e),e.flags|=1,Nl(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ia(t,e,r))}function Ol(t,e,i,n,r){if(null===t){var s=i.type;return"function"!==typeof s||Wh(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Qh(i.type,null,n,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Fl(t,e,s,n,r))}if(s=t.child,0===(t.lanes&r)){var o=s.memoizedProps;if((i=null!==(i=i.compare)?i:wn)(o,n)&&t.ref===e.ref)return ia(t,e,r)}return e.flags|=1,(t=$h(s,n)).ref=e.ref,t.return=e,e.child=t}function Fl(t,e,i,n,r){if(null!==t){var s=t.memoizedProps;if(wn(s,n)&&t.ref===e.ref){if(Dl=!1,e.pendingProps=n=s,0===(t.lanes&r))return e.lanes=t.lanes,ia(t,e,r);0!==(131072&t.flags)&&(Dl=!0)}}return Rl(t,e,i,n,r)}function Ll(t,e,i){var n=e.pendingProps,r=n.children,s=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr($a,Wa),Wa|=i;else{if(0===(1073741824&i))return t=null!==s?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rr($a,Wa),Wa|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:i,Rr($a,Wa),Wa|=n}else null!==s?(n=s.baseLanes|i,e.memoizedState=null):n=i,Rr($a,Wa),Wa|=n;return Nl(t,e,r,i),e.child}function zl(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Rl(t,e,i,n,r){var s=Wr(i)?Yr:Ur.current;return s=jr(e,s),Vs(e,r),i=To(t,e,i,n,s,r),n=Po(),null===t||Dl?(ys&&n&&ds(e),e.flags|=1,Nl(t,e,i,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ia(t,e,r))}function Al(t,e,i,n,r){if(Wr(i)){var s=!0;Xr(e)}else s=!1;if(Vs(e,r),null===e.stateNode)ea(t,e),bl(e,i,n),wl(e,i,n,r),n=!0;else if(null===t){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,h=i.contextType;"object"===typeof h&&null!==h?h=Ys(h):h=jr(e,h=Wr(i)?Yr:Ur.current);var u=i.getDerivedStateFromProps,c="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==n||a!==h)&&vl(e,o,n,h),Hs=!1;var d=e.memoizedState;o.state=d,to(e,n,o,r),a=e.memoizedState,l!==n||d!==a||Vr.current||Hs?("function"===typeof u&&(ml(e,i,u,n),a=e.memoizedState),(l=Hs||gl(e,i,l,n,d,a,h))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=a),o.props=n,o.state=a,o.context=h,n=l):("function"===typeof o.componentDidMount&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,qs(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:pl(e.type,l),o.props=h,c=e.pendingProps,d=o.context,"object"===typeof(a=i.contextType)&&null!==a?a=Ys(a):a=jr(e,a=Wr(i)?Yr:Ur.current);var f=i.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==c||d!==a)&&vl(e,o,n,a),Hs=!1,d=e.memoizedState,o.state=d,to(e,n,o,r);var p=e.memoizedState;l!==c||d!==p||Vr.current||Hs?("function"===typeof f&&(ml(e,i,f,n),p=e.memoizedState),(h=Hs||gl(e,i,h,n,d,p,a)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,a),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,a)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=a,n=h):("function"!==typeof o.componentDidUpdate||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ul(t,e,i,n,s,r)}function Ul(t,e,i,n,r,s){zl(t,e);var o=0!==(128&e.flags);if(!n&&!o)return r&&qr(e,i,!1),ia(t,e,s);n=e.stateNode,El.current=e;var l=o&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&o?(e.child=Ns(e,t.child,null,s),e.child=Ns(e,null,l,s)):Nl(t,e,l,s),e.memoizedState=n.state,r&&qr(e,i,!0),e.child}function Vl(t){var e=t.stateNode;e.pendingContext?Qr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Qr(0,e.context,!1),lo(t,e.containerInfo)}function Yl(t,e,i,n,r){return ks(),Cs(r),e.flags|=256,Nl(t,e,i,n),e.child}var jl,Wl,$l,Ql,Hl={dehydrated:null,treeContext:null,retryLane:0};function Xl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ql(t,e,i){var n,r=e.pendingProps,o=co.current,l=!1,a=0!==(128&e.flags);if((n=a)||(n=(null===t||null!==t.memoizedState)&&0!==(2&o)),n?(l=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Rr(co,1&o),null===t)return _s(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(a=r.children,t=r.fallback,l?(r=e.mode,l=e.child,a={mode:"hidden",children:a},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=a):l=Xh(a,r,0,null),t=Hh(t,r,i,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=Xl(i),e.memoizedState=Hl,t):Kl(e,a));if(null!==(o=t.memoizedState)&&null!==(n=o.dehydrated))return function(t,e,i,n,r,o,l){if(i)return 256&e.flags?(e.flags&=-257,Gl(t,e,l,n=Sl(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=n.fallback,r=e.mode,n=Xh({mode:"visible",children:n.children},r,0,null),(o=Hh(o,r,l,null)).flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,0!==(1&e.mode)&&Ns(e,t.child,null,l),e.child.memoizedState=Xl(l),e.memoizedState=Hl,o);if(0===(1&e.mode))return Gl(t,e,l,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var a=n.dgst;return n=a,Gl(t,e,l,n=Sl(o=Error(s(419)),n,void 0))}if(a=0!==(l&t.childLanes),Dl||a){if(null!==(n=Va)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|l))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Qs(t,r),ph(n,t,r,-1))}return Ih(),Gl(t,e,l,n=Sl(Error(s(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ah.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,ms=_r(r.nextSibling),ps=e,ys=!0,gs=null,null!==t&&(ss[os++]=as,ss[os++]=hs,ss[os++]=ls,as=t.id,hs=t.overflow,ls=e),e=Kl(e,n.children),e.flags|=4096,e)}(t,e,a,r,n,o,i);if(l){l=r.fallback,a=e.mode,n=(o=t.child).sibling;var h={mode:"hidden",children:r.children};return 0===(1&a)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=h,e.deletions=null):(r=$h(o,h)).subtreeFlags=14680064&o.subtreeFlags,null!==n?l=$h(n,l):(l=Hh(l,a,i,null)).flags|=2,l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,a=null===(a=t.child.memoizedState)?Xl(i):{baseLanes:a.baseLanes|i,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=t.childLanes&~i,e.memoizedState=Hl,r}return t=(l=t.child).sibling,r=$h(l,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=i),r.return=e,r.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=r,e.memoizedState=null,r}function Kl(t,e){return(e=Xh({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Gl(t,e,i,n){return null!==n&&Cs(n),Ns(e,t.child,null,i),(t=Kl(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Zl(t,e,i){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Us(t.return,e,i)}function Jl(t,e,i,n,r){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function ta(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Nl(t,e,n.children,i),0!==(2&(n=co.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Zl(t,i,e);else if(19===t.tag)Zl(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Rr(co,n),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;null!==i;)null!==(t=i.alternate)&&null===fo(t)&&(r=i),i=i.sibling;null===(i=r)?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Jl(e,!1,r,i,s);break;case"backwards":for(i=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===fo(t)){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Jl(e,!0,i,null,s);break;case"together":Jl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ea(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Xa|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(i=$h(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=$h(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function na(t,e){if(!ys)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ra(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,n=0;if(e)for(var r=t.child;null!==r;)i|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function sa(t,e,i){var n=e.pendingProps;switch(fs(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ra(e),null;case 1:case 17:return Wr(e.type)&&$r(),ra(e),null;case 3:return n=e.stateNode,ao(),zr(Vr),zr(Ur),mo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(xs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==gs&&(bh(gs),gs=null))),Wl(t,e),ra(e),null;case 5:uo(e);var r=oo(so.current);if(i=e.type,null!==t&&null!=e.stateNode)$l(t,e,i,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(s(166));return ra(e),null}if(t=oo(no.current),xs(e)){n=e.stateNode,i=e.type;var o=e.memoizedProps;switch(n[Mr]=e,n[kr]=o,t=0!==(1&e.mode),i){case"dialog":Gn("cancel",n),Gn("close",n);break;case"iframe":case"object":case"embed":Gn("load",n);break;case"video":case"audio":for(r=0;r<Hn.length;r++)Gn(Hn[r],n);break;case"source":Gn("error",n);break;case"img":case"image":case"link":Gn("error",n),Gn("load",n);break;case"details":Gn("toggle",n);break;case"input":ht(n,o),Gn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Gn("invalid",n);break;case"textarea":gt(n,o),Gn("invalid",n)}for(var a in Et(i,o),r=null,o)if(o.hasOwnProperty(a)){var h=o[a];"children"===a?"string"===typeof h?n.textContent!==h&&(!0!==o.suppressHydrationWarning&&ur(n.textContent,h,t),r=["children",h]):"number"===typeof h&&n.textContent!==""+h&&(!0!==o.suppressHydrationWarning&&ur(n.textContent,h,t),r=["children",""+h]):l.hasOwnProperty(a)&&null!=h&&"onScroll"===a&&Gn("scroll",n)}switch(i){case"input":st(n),dt(n,o,!0);break;case"textarea":st(n),vt(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=cr)}n=r,e.updateQueue=n,null!==n&&(e.flags|=4)}else{a=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=wt(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=a.createElement(i,{is:n.is}):(t=a.createElement(i),"select"===i&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,i),t[Mr]=e,t[kr]=n,jl(t,e,!1,!1),e.stateNode=t;t:{switch(a=Dt(i,n),i){case"dialog":Gn("cancel",t),Gn("close",t),r=n;break;case"iframe":case"object":case"embed":Gn("load",t),r=n;break;case"video":case"audio":for(r=0;r<Hn.length;r++)Gn(Hn[r],t);r=n;break;case"source":Gn("error",t),r=n;break;case"img":case"image":case"link":Gn("error",t),Gn("load",t),r=n;break;case"details":Gn("toggle",t),r=n;break;case"input":ht(t,n),r=at(t,n),Gn("invalid",t);break;case"option":default:r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=q({},n,{value:void 0}),Gn("invalid",t);break;case"textarea":gt(t,n),r=yt(t,n),Gn("invalid",t)}for(o in Et(i,r),h=r)if(h.hasOwnProperty(o)){var u=h[o];"style"===o?Tt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&xt(t,u):"children"===o?"string"===typeof u?("textarea"!==i||""!==u)&&Mt(t,u):"number"===typeof u&&Mt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Gn("scroll",t):null!=u&&P(t,o,u,a))}switch(i){case"input":st(t),dt(t,n,!1);break;case"textarea":st(t),vt(t);break;case"option":null!=n.value&&t.setAttribute("value",""+nt(n.value));break;case"select":t.multiple=!!n.multiple,null!=(o=n.value)?mt(t,!!n.multiple,o,!1):null!=n.defaultValue&&mt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=cr)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return ra(e),null;case 6:if(t&&null!=e.stateNode)Ql(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));if(i=oo(so.current),oo(no.current),xs(e)){if(n=e.stateNode,i=e.memoizedProps,n[Mr]=e,(o=n.nodeValue!==i)&&null!==(t=ps))switch(t.tag){case 3:ur(n.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&ur(n.nodeValue,i,0!==(1&t.mode))}o&&(e.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[Mr]=e,e.stateNode=n}return ra(e),null;case 13:if(zr(co),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ys&&null!==ms&&0!==(1&e.mode)&&0===(128&e.flags))Ms(),ks(),e.flags|=98560,o=!1;else if(o=xs(e),null!==n&&null!==n.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[Mr]=e}else ks(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;ra(e),o=!1}else null!==gs&&(bh(gs),gs=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&co.current)?0===Qa&&(Qa=3):Ih())),null!==e.updateQueue&&(e.flags|=4),ra(e),null);case 4:return ao(),Wl(t,e),null===t&&tr(e.stateNode.containerInfo),ra(e),null;case 10:return As(e.type._context),ra(e),null;case 19:if(zr(co),null===(o=e.memoizedState))return ra(e),null;if(n=0!==(128&e.flags),null===(a=o.rendering))if(n)na(o,!1);else{if(0!==Qa||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(a=fo(t))){for(e.flags|=128,na(o,!1),null!==(n=a.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;null!==i;)t=n,(o=i).flags&=14680066,null===(a=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Rr(co,1&co.current|2),e.child}t=t.sibling}null!==o.tail&&he()>th&&(e.flags|=128,n=!0,na(o,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=fo(a))){if(e.flags|=128,n=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),na(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ys)return ra(e),null}else 2*he()-o.renderingStartTime>th&&1073741824!==i&&(e.flags|=128,n=!0,na(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(null!==(i=o.last)?i.sibling=a:e.child=a,o.last=a)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=he(),e.sibling=null,i=co.current,Rr(co,n?1&i|2:1&i),e):(ra(e),null);case 22:case 23:return xh(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Wa)&&(ra(e),6&e.subtreeFlags&&(e.flags|=8192)):ra(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function oa(t,e){switch(fs(e),e.tag){case 1:return Wr(e.type)&&$r(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return ao(),zr(Vr),zr(Ur),mo(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return uo(e),null;case 13:if(zr(co),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));ks()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return zr(co),null;case 4:return ao(),null;case 10:return As(e.type._context),null;case 22:case 23:return xh(),null;default:return null}}jl=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Wl=function(){},$l=function(t,e,i,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,oo(no.current);var s,o=null;switch(i){case"input":r=at(t,r),n=at(t,n),o=[];break;case"select":r=q({},r,{value:void 0}),n=q({},n,{value:void 0}),o=[];break;case"textarea":r=yt(t,r),n=yt(t,n),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(t.onclick=cr)}for(u in Et(i,n),i=null,r)if(!n.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var a=r[u];for(s in a)a.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var h=n[u];if(a=null!=r?r[u]:void 0,n.hasOwnProperty(u)&&h!==a&&(null!=h||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in h)h.hasOwnProperty(s)&&a[s]!==h[s]&&(i||(i={}),i[s]=h[s])}else i||(o||(o=[]),o.push(u,i)),i=h;else"dangerouslySetInnerHTML"===u?(h=h?h.__html:void 0,a=a?a.__html:void 0,null!=h&&a!==h&&(o=o||[]).push(u,h)):"children"===u?"string"!==typeof h&&"number"!==typeof h||(o=o||[]).push(u,""+h):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=h&&"onScroll"===u&&Gn("scroll",t),o||a===h||(o=[])):(o=o||[]).push(u,h))}i&&(o=o||[]).push("style",i);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Ql=function(t,e,i,n){i!==n&&(e.flags|=4)};var la=!1,aa=!1,ha="function"===typeof WeakSet?WeakSet:Set,ua=null;function ca(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(M){Lh(t,e,M)}else i.current=null}function da(t,e,i){try{i()}catch(M){Lh(t,e,M)}}var fa=!1;function pa(t,e,i){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,void 0!==s&&da(e,i,s)}r=r.next}while(r!==n)}}function ma(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function ya(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function ga(t){var e=t.alternate;null!==e&&(t.alternate=null,ga(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[Mr],delete e[kr],delete e[Ir],delete e[Tr],delete e[Pr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ba(t){return 5===t.tag||3===t.tag||4===t.tag}function va(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ba(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function wa(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=cr));else if(4!==n&&null!==(t=t.child))for(wa(t,e,i),t=t.sibling;null!==t;)wa(t,e,i),t=t.sibling}function _a(t,e,i){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==n&&null!==(t=t.child))for(_a(t,e,i),t=t.sibling;null!==t;)_a(t,e,i),t=t.sibling}var Sa=null,xa=!1;function Ma(t,e,i){for(i=i.child;null!==i;)ka(t,e,i),i=i.sibling}function ka(t,e,i){if(ge&&"function"===typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(ye,i)}catch(y){}switch(i.tag){case 5:aa||ca(i,e);case 6:var n=Sa,r=xa;Sa=null,Ma(t,e,i),xa=r,null!==(Sa=n)&&(xa?(t=Sa,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):Sa.removeChild(i.stateNode));break;case 18:null!==Sa&&(xa?(t=Sa,i=i.stateNode,8===t.nodeType?wr(t.parentNode,i):1===t.nodeType&&wr(t,i),ti(t)):wr(Sa,i.stateNode));break;case 4:n=Sa,r=xa,Sa=i.stateNode.containerInfo,xa=!0,Ma(t,e,i),Sa=n,xa=r;break;case 0:case 11:case 14:case 15:if(!aa&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&da(i,e,o),r=r.next}while(r!==n)}Ma(t,e,i);break;case 1:if(!aa&&(ca(i,e),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(y){Lh(i,e,y)}Ma(t,e,i);break;case 21:Ma(t,e,i);break;case 22:1&i.mode?(aa=(n=aa)||null!==i.memoizedState,Ma(t,e,i),aa=n):Ma(t,e,i);break;default:Ma(t,e,i)}}function Ca(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new ha),e.forEach(function(e){var n=Uh.bind(null,t,e);i.has(e)||(i.add(e),e.then(n,n))})}}function Ia(t,e){var i=e.deletions;if(null!==i)for(var n=0;n<i.length;n++){var r=i[n];try{var o=t,l=e,a=l;t:for(;null!==a;){switch(a.tag){case 5:Sa=a.stateNode,xa=!1;break t;case 3:case 4:Sa=a.stateNode.containerInfo,xa=!0;break t}a=a.return}if(null===Sa)throw Error(s(160));ka(o,l,r),Sa=null,xa=!1;var h=r.alternate;null!==h&&(h.return=null),r.return=null}catch(v){Lh(r,e,v)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)Ta(e,t),e=e.sibling}function Ta(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ia(e,t),Pa(t),4&n){try{pa(3,t,t.return),ma(3,t)}catch(g){Lh(t,t.return,g)}try{pa(5,t,t.return)}catch(g){Lh(t,t.return,g)}}break;case 1:Ia(e,t),Pa(t),512&n&&null!==i&&ca(i,i.return);break;case 5:if(Ia(e,t),Pa(t),512&n&&null!==i&&ca(i,i.return),32&t.flags){var r=t.stateNode;try{Mt(r,"")}catch(g){Lh(t,t.return,g)}}if(4&n&&null!=(r=t.stateNode)){var o=t.memoizedProps,l=null!==i?i.memoizedProps:o,a=t.type,h=t.updateQueue;if(t.updateQueue=null,null!==h)try{"input"===a&&"radio"===o.type&&null!=o.name&&ut(r,o),Dt(a,l);var u=Dt(a,o);for(l=0;l<h.length;l+=2){var c=h[l],d=h[l+1];"style"===c?Tt(r,d):"dangerouslySetInnerHTML"===c?xt(r,d):"children"===c?Mt(r,d):P(r,c,d,u)}switch(a){case"input":ct(r,o);break;case"textarea":bt(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?mt(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?mt(r,!!o.multiple,o.defaultValue,!0):mt(r,!!o.multiple,o.multiple?[]:"",!1))}r[kr]=o}catch(g){Lh(t,t.return,g)}}break;case 6:if(Ia(e,t),Pa(t),4&n){if(null===t.stateNode)throw Error(s(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(g){Lh(t,t.return,g)}}break;case 3:if(Ia(e,t),Pa(t),4&n&&null!==i&&i.memoizedState.isDehydrated)try{ti(e.containerInfo)}catch(g){Lh(t,t.return,g)}break;case 4:default:Ia(e,t),Pa(t);break;case 13:Ia(e,t),Pa(t),8192&(r=t.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Ja=he())),4&n&&Ca(t);break;case 22:if(c=null!==i&&null!==i.memoizedState,1&t.mode?(aa=(u=aa)||c,Ia(e,t),aa=u):Ia(e,t),Pa(t),8192&n){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!c&&0!==(1&t.mode))for(ua=t,c=t.child;null!==c;){for(d=ua=c;null!==ua;){switch(p=(f=ua).child,f.tag){case 0:case 11:case 14:case 15:pa(4,f,f.return);break;case 1:ca(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,i=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Lh(n,i,g)}}break;case 5:ca(f,f.return);break;case 22:if(null!==f.memoizedState){Ba(d);continue}}null!==p?(p.return=f,ua=p):Ba(d)}c=c.sibling}t:for(c=null,d=t;;){if(5===d.tag){if(null===c){c=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=d.stateNode,l=void 0!==(h=d.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,a.style.display=It("display",l))}catch(g){Lh(t,t.return,g)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Lh(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ia(e,t),Pa(t),4&n&&Ca(t);case 21:}}function Pa(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(ba(i)){var n=i;break t}i=i.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(Mt(r,""),n.flags&=-33),_a(t,va(t),r);break;case 3:case 4:var o=n.stateNode.containerInfo;wa(t,va(t),o);break;default:throw Error(s(161))}}catch(z){Lh(t,t.return,z)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Ea(t,e,i){ua=t,Da(t,e,i)}function Da(t,e,i){for(var n=0!==(1&t.mode);null!==ua;){var r=ua,s=r.child;if(22===r.tag&&n){var o=null!==r.memoizedState||la;if(!o){var l=r.alternate,a=null!==l&&null!==l.memoizedState||aa;l=la;var h=aa;if(la=o,(aa=a)&&!h)for(ua=r;null!==ua;)a=(o=ua).child,22===o.tag&&null!==o.memoizedState?Oa(r):null!==a?(a.return=o,ua=a):Oa(r);for(;null!==s;)ua=s,Da(s,e,i),s=s.sibling;ua=r,la=l,aa=h}Na(t)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,ua=s):Na(t)}}function Na(t){for(;null!==ua;){var e=ua;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:aa||ma(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!aa)if(null===i)n.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:pl(e.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&eo(e,o,n);break;case 3:var l=e.updateQueue;if(null!==l){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}eo(e,l,i)}break;case 5:var a=e.stateNode;if(null===i&&4&e.flags){i=a;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&ti(d)}}}break;default:throw Error(s(163))}aa||512&e.flags&&ya(e)}catch(m){Lh(e,e.return,m)}}if(e===t){ua=null;break}if(null!==(i=e.sibling)){i.return=e.return,ua=i;break}ua=e.return}}function Ba(t){for(;null!==ua;){var e=ua;if(e===t){ua=null;break}var i=e.sibling;if(null!==i){i.return=e.return,ua=i;break}ua=e.return}}function Oa(t){for(;null!==ua;){var e=ua;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{ma(4,e)}catch(z){Lh(e,i,z)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var r=e.return;try{n.componentDidMount()}catch(z){Lh(e,r,z)}}var s=e.return;try{ya(e)}catch(z){Lh(e,s,z)}break;case 5:var o=e.return;try{ya(e)}catch(z){Lh(e,o,z)}}}catch(z){Lh(e,e.return,z)}if(e===t){ua=null;break}var l=e.sibling;if(null!==l){l.return=e.return,ua=l;break}ua=e.return}}var Fa,La=Math.ceil,za=E.ReactCurrentDispatcher,Ra=E.ReactCurrentOwner,Aa=E.ReactCurrentBatchConfig,Ua=0,Va=null,Ya=null,ja=0,Wa=0,$a=Lr(0),Qa=0,Ha=null,Xa=0,qa=0,Ka=0,Ga=null,Za=null,Ja=0,th=1/0,eh=null,ih=!1,nh=null,rh=null,sh=!1,oh=null,lh=0,ah=0,hh=null,uh=-1,ch=0;function dh(){return 0!==(6&Ua)?he():-1!==uh?uh:uh=he()}function fh(t){return 0===(1&t.mode)?1:0!==(2&Ua)&&0!==ja?ja&-ja:null!==Is.transition?(0===ch&&(ch=Ie()),ch):0!==(t=De)?t:t=void 0===(t=window.event)?16:ai(t.type)}function ph(t,e,i,n){if(50<ah)throw ah=0,hh=null,Error(s(185));Pe(t,i,n),0!==(2&Ua)&&t===Va||(t===Va&&(0===(2&Ua)&&(qa|=i),4===Qa&&vh(t,ja)),mh(t,n),1===i&&0===Ua&&0===(1&e.mode)&&(th=he()+500,Gr&&ts()))}function mh(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-be(s),l=1<<o,a=r[o];-1===a?0!==(l&i)&&0===(l&n)||(r[o]=ke(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}(t,e);var n=Me(t,t===Va?ja:0);if(0===n)null!==i&&oe(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=i&&oe(i),1===e)0===t.tag?function(t){Gr=!0,Jr(t)}(wh.bind(null,t)):Jr(wh.bind(null,t)),br(function(){0===(6&Ua)&&ts()}),i=null;else{switch(Ne(n)){case 1:i=ce;break;case 4:i=de;break;case 16:default:i=fe;break;case 536870912:i=me}i=Vh(i,yh.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function yh(t,e){if(uh=-1,ch=0,0!==(6&Ua))throw Error(s(327));var i=t.callbackNode;if(Oh()&&t.callbackNode!==i)return null;var n=Me(t,t===Va?ja:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=Th(t,n);else{e=n;var r=Ua;Ua|=2;var o=Ch();for(Va===t&&ja===e||(eh=null,th=he()+500,Mh(t,e));;)try{Eh();break}catch(y){kh(t,y)}Rs(),za.current=o,Ua=r,null!==Ya?e=0:(Va=null,ja=0,e=Qa)}if(0!==e){if(2===e&&(0!==(r=Ce(t))&&(n=r,e=gh(t,r))),1===e)throw i=Ha,Mh(t,0),vh(t,n),mh(t,he()),i;if(6===e)vh(t,n);else{if(r=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var r=i[n],s=r.getSnapshot;r=r.value;try{if(!vn(s(),r))return!1}catch(l){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=Th(t,n))&&(0!==(o=Ce(t))&&(n=o,e=gh(t,o))),1===e))throw i=Ha,Mh(t,0),vh(t,n),mh(t,he()),i;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(s(345));case 2:case 5:Bh(t,Za,eh);break;case 3:if(vh(t,n),(130023424&n)===n&&10<(e=Ja+500-he())){if(0!==Me(t,0))break;if(((r=t.suspendedLanes)&n)!==n){dh(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=mr(Bh.bind(null,t,Za,eh),e);break}Bh(t,Za,eh);break;case 4:if(vh(t,n),(4194240&n)===n)break;for(e=t.eventTimes,r=-1;0<n;){var l=31-be(n);o=1<<l,(l=e[l])>r&&(r=l),n&=~o}if(n=r,10<(n=(120>(n=he()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*La(n/1960))-n)){t.timeoutHandle=mr(Bh.bind(null,t,Za,eh),n);break}Bh(t,Za,eh);break;default:throw Error(s(329))}}}return mh(t,he()),t.callbackNode===i?yh.bind(null,t):null}function gh(t,e){var i=Ga;return t.current.memoizedState.isDehydrated&&(Mh(t,e).flags|=256),2!==(t=Th(t,e))&&(e=Za,Za=i,null!==e&&bh(e)),t}function bh(t){null===Za?Za=t:Za.push.apply(Za,t)}function vh(t,e){for(e&=~Ka,e&=~qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-be(e),n=1<<i;t[i]=-1,e&=~n}}function wh(t){if(0!==(6&Ua))throw Error(s(327));Oh();var e=Me(t,0);if(0===(1&e))return mh(t,he()),null;var i=Th(t,e);if(0!==t.tag&&2===i){var n=Ce(t);0!==n&&(e=n,i=gh(t,n))}if(1===i)throw i=Ha,Mh(t,0),vh(t,e),mh(t,he()),i;if(6===i)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bh(t,Za,eh),mh(t,he()),null}function _h(t,e){var i=Ua;Ua|=1;try{return t(e)}finally{0===(Ua=i)&&(th=he()+500,Gr&&ts())}}function Sh(t){null!==oh&&0===oh.tag&&0===(6&Ua)&&Oh();var e=Ua;Ua|=1;var i=Aa.transition,n=De;try{if(Aa.transition=null,De=1,t)return t()}finally{De=n,Aa.transition=i,0===(6&(Ua=e))&&ts()}}function xh(){Wa=$a.current,zr($a)}function Mh(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,yr(i)),null!==Ya)for(i=Ya.return;null!==i;){var n=i;switch(fs(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&$r();break;case 3:ao(),zr(Vr),zr(Ur),mo();break;case 5:uo(n);break;case 4:ao();break;case 13:case 19:zr(co);break;case 10:As(n.type._context);break;case 22:case 23:xh()}i=i.return}if(Va=t,Ya=t=$h(t.current,null),ja=Wa=e,Qa=0,Ha=null,Ka=qa=Xa=0,Za=Ga=null,null!==js){for(e=0;e<js.length;e++)if(null!==(n=(i=js[e]).interleaved)){i.interleaved=null;var r=n.next,s=i.pending;if(null!==s){var o=s.next;s.next=r,n.next=o}i.pending=n}js=null}return t}function kh(t,e){for(;;){var i=Ya;try{if(Rs(),yo.current=ul,So){for(var n=vo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}So=!1}if(bo=0,_o=wo=vo=null,xo=!1,Mo=0,Ra.current=null,null===i||null===i.return){Qa=1,Ha=e,Ya=null;break}t:{var o=t,l=i.return,a=i,h=e;if(e=ja,a.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var u=h,c=a,d=c.tag;if(0===(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Tl(l);if(null!==p){p.flags&=-257,Pl(p,l,a,0,e),1&p.mode&&Il(o,u,e),h=u;var m=(e=p).updateQueue;if(null===m){var y=new Set;y.add(h),e.updateQueue=y}else m.add(h);break t}if(0===(1&e)){Il(o,u,e),Ih();break t}h=Error(s(426))}else if(ys&&1&a.mode){var g=Tl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Pl(g,l,a,0,e),Cs(_l(h,a));break t}}o=h=_l(h,a),4!==Qa&&(Qa=2),null===Ga?Ga=[o]:Ga.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Js(o,kl(0,h,e));break t;case 1:a=h;var b=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===rh||!rh.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e,Js(o,Cl(o,a,e));break t}}o=o.return}while(null!==o)}Nh(i)}catch(w){e=w,Ya===i&&null!==i&&(Ya=i=i.return);continue}break}}function Ch(){var t=za.current;return za.current=ul,null===t?ul:t}function Ih(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===Va||0===(268435455&Xa)&&0===(268435455&qa)||vh(Va,ja)}function Th(t,e){var i=Ua;Ua|=2;var n=Ch();for(Va===t&&ja===e||(eh=null,Mh(t,e));;)try{Ph();break}catch(p){kh(t,p)}if(Rs(),Ua=i,za.current=n,null!==Ya)throw Error(s(261));return Va=null,ja=0,Qa}function Ph(){for(;null!==Ya;)Dh(Ya)}function Eh(){for(;null!==Ya&&!le();)Dh(Ya)}function Dh(t){var e=Fa(t.alternate,t,Wa);t.memoizedProps=t.pendingProps,null===e?Nh(t):Ya=e,Ra.current=null}function Nh(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=sa(i,e,Wa)))return void(Ya=i)}else{if(null!==(i=oa(i,e)))return i.flags&=32767,void(Ya=i);if(null===t)return Qa=6,void(Ya=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ya=e);Ya=e=t}while(null!==e);0===Qa&&(Qa=5)}function Bh(t,e,i){var n=De,r=Aa.transition;try{Aa.transition=null,De=1,function(t,e,i,n){do{Oh()}while(null!==oh);if(0!==(6&Ua))throw Error(s(327));i=t.finishedWork;var r=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-be(i),s=1<<r;e[r]=0,n[r]=-1,t[r]=-1,i&=~s}}(t,o),t===Va&&(Ya=Va=null,ja=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||sh||(sh=!0,Vh(fe,function(){return Oh(),null})),o=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||o){o=Aa.transition,Aa.transition=null;var l=De;De=1;var a=Ua;Ua|=4,Ra.current=null,function(t,e){if(dr=ii,kn(t=Mn())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{i.nodeType,o.nodeType}catch(G){i=null;break t}var l=0,a=-1,h=-1,u=0,c=0,d=t,f=null;e:for(;;){for(var p;d!==i||0!==r&&3!==d.nodeType||(a=l+r),d!==o||0!==n&&3!==d.nodeType||(h=l+n),3===d.nodeType&&(l+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===i&&++u===r&&(a=l),f===o&&++c===n&&(h=l),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}i=-1===a||-1===h?null:{start:a,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(fr={focusedElem:t,selectionRange:i},ii=!1,ua=e;null!==ua;)if(t=(e=ua).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,ua=t;else for(;null!==ua;){e=ua;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:pl(e.type,y),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(G){Lh(e,e.return,G)}if(null!==(t=e.sibling)){t.return=e.return,ua=t;break}ua=e.return}m=fa,fa=!1}(t,i),Ta(i,t),Cn(fr),ii=!!dr,fr=dr=null,t.current=i,Ea(i,t,r),ae(),Ua=a,De=l,Aa.transition=o}else t.current=i;if(sh&&(sh=!1,oh=t,lh=r),o=t.pendingLanes,0===o&&(rh=null),function(t){if(ge&&"function"===typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),mh(t,he()),null!==e)for(n=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(ih)throw ih=!1,t=nh,nh=null,t;0!==(1&lh)&&0!==t.tag&&Oh(),o=t.pendingLanes,0!==(1&o)?t===hh?ah++:(ah=0,hh=t):ah=0,ts()}(t,e,i,n)}finally{Aa.transition=r,De=n}return null}function Oh(){if(null!==oh){var t=Ne(lh),e=Aa.transition,i=De;try{if(Aa.transition=null,De=16>t?16:t,null===oh)var n=!1;else{if(t=oh,oh=null,lh=0,0!==(6&Ua))throw Error(s(331));var r=Ua;for(Ua|=4,ua=t.current;null!==ua;){var o=ua,l=o.child;if(0!==(16&ua.flags)){var a=o.deletions;if(null!==a){for(var h=0;h<a.length;h++){var u=a[h];for(ua=u;null!==ua;){var c=ua;switch(c.tag){case 0:case 11:case 15:pa(8,c,o)}var d=c.child;if(null!==d)d.return=c,ua=d;else for(;null!==ua;){var f=(c=ua).sibling,p=c.return;if(ga(c),c===u){ua=null;break}if(null!==f){f.return=p,ua=f;break}ua=p}}}var m=o.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}ua=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,ua=l;else t:for(;null!==ua;){if(0!==(2048&(o=ua).flags))switch(o.tag){case 0:case 11:case 15:pa(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,ua=b;break t}ua=o.return}}var v=t.current;for(ua=v;null!==ua;){var w=(l=ua).child;if(0!==(2064&l.subtreeFlags)&&null!==w)w.return=l,ua=w;else t:for(l=v;null!==ua;){if(0!==(2048&(a=ua).flags))try{switch(a.tag){case 0:case 11:case 15:ma(9,a)}}catch(S){Lh(a,a.return,S)}if(a===l){ua=null;break t}var _=a.sibling;if(null!==_){_.return=a.return,ua=_;break t}ua=a.return}}if(Ua=r,ts(),ge&&"function"===typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(ye,t)}catch(S){}n=!0}return n}finally{De=i,Aa.transition=e}}return!1}function Fh(t,e,i){t=Gs(t,e=kl(0,e=_l(i,e),1),1),e=dh(),null!==t&&(Pe(t,1,e),mh(t,e))}function Lh(t,e,i){if(3===t.tag)Fh(t,t,i);else for(;null!==e;){if(3===e.tag){Fh(e,t,i);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===rh||!rh.has(n))){e=Gs(e,t=Cl(e,t=_l(i,t),1),1),t=dh(),null!==e&&(Pe(e,1,t),mh(e,t));break}}e=e.return}}function zh(t,e,i){var n=t.pingCache;null!==n&&n.delete(e),e=dh(),t.pingedLanes|=t.suspendedLanes&i,Va===t&&(ja&i)===i&&(4===Qa||3===Qa&&(130023424&ja)===ja&&500>he()-Ja?Mh(t,0):Ka|=i),mh(t,e)}function Rh(t,e){0===e&&(0===(1&t.mode)?e=1:(e=Se,0===(130023424&(Se<<=1))&&(Se=4194304)));var i=dh();null!==(t=Qs(t,e))&&(Pe(t,e,i),mh(t,i))}function Ah(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),Rh(t,i)}function Uh(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;null!==r&&(i=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(e),Rh(t,i)}function Vh(t,e){return se(t,e)}function Yh(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jh(t,e,i,n){return new Yh(t,e,i,n)}function Wh(t){return!(!(t=t.prototype)||!t.isReactComponent)}function $h(t,e){var i=t.alternate;return null===i?((i=jh(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Qh(t,e,i,n,r,o){var l=2;if(n=t,"function"===typeof t)Wh(t)&&(l=1);else if("string"===typeof t)l=5;else t:switch(t){case O:return Hh(i.children,r,o,e);case F:l=8,r|=8;break;case L:return(t=jh(12,i,e,2|r)).elementType=L,t.lanes=o,t;case V:return(t=jh(13,i,e,r)).elementType=V,t.lanes=o,t;case Y:return(t=jh(19,i,e,r)).elementType=Y,t.lanes=o,t;case $:return Xh(i,r,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case R:l=10;break t;case A:l=9;break t;case U:l=11;break t;case j:l=14;break t;case W:l=16,n=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=jh(l,i,e,r)).elementType=t,e.type=n,e.lanes=o,e}function Hh(t,e,i,n){return(t=jh(7,t,n,e)).lanes=i,t}function Xh(t,e,i,n){return(t=jh(22,t,n,e)).elementType=$,t.lanes=i,t.stateNode={isHidden:!1},t}function qh(t,e,i){return(t=jh(6,t,null,e)).lanes=i,t}function Kh(t,e,i){return(e=jh(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gh(t,e,i,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Te(0),this.expirationTimes=Te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Zh(t,e,i,n,r,s,o,l,a){return t=new Gh(t,e,i,l,a),1===e?(e=1,!0===s&&(e|=8)):e=0,s=jh(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xs(s),t}function Jh(t){if(!t)return Ar;t:{if(te(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var i=t.type;if(Wr(i))return Hr(t,i,e)}return e}function tu(t,e,i,n,r,s,o,l,a){return(t=Zh(i,n,!0,t,0,s,0,l,a)).context=Jh(null),i=t.current,(s=Ks(n=dh(),r=fh(i))).callback=void 0!==e&&null!==e?e:null,Gs(i,s,r),t.current.lanes=r,Pe(t,r,n),mh(t,n),t}function eu(t,e,i,n){var r=e.current,s=dh(),o=fh(r);return i=Jh(i),null===e.context?e.context=i:e.pendingContext=i,(e=Ks(s,o)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Gs(r,e,o))&&(ph(t,r,o,s),Zs(t,r,o)),o}function iu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function ru(t,e){nu(t,e),(t=t.alternate)&&nu(t,e)}Fa=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Vr.current)Dl=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return Dl=!1,function(t,e,i){switch(e.tag){case 3:Vl(e),ks();break;case 5:ho(e);break;case 1:Wr(e.type)&&Xr(e);break;case 4:lo(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Rr(Os,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Rr(co,1&co.current),e.flags|=128,null):0!==(i&e.child.childLanes)?ql(t,e,i):(Rr(co,1&co.current),null!==(t=ia(t,e,i))?t.sibling:null);Rr(co,1&co.current);break;case 19:if(n=0!==(i&e.childLanes),0!==(128&t.flags)){if(n)return ta(t,e,i);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rr(co,co.current),n)break;return null;case 22:case 23:return e.lanes=0,Ll(t,e,i)}return ia(t,e,i)}(t,e,i);Dl=0!==(131072&t.flags)}else Dl=!1,ys&&0!==(1048576&e.flags)&&cs(e,rs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ea(t,e),t=e.pendingProps;var r=jr(e,Ur.current);Vs(e,i),r=To(null,e,n,t,r,i);var o=Po();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wr(n)?(o=!0,Xr(e)):o=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Xs(e),r.updater=yl,e.stateNode=r,r._reactInternals=e,wl(e,n,t,i),e=Ul(null,e,n,!0,o,i)):(e.tag=0,ys&&o&&ds(e),Nl(null,e,r,i),e=e.child),e;case 16:n=e.elementType;t:{switch(ea(t,e),t=e.pendingProps,n=(r=n._init)(n._payload),e.type=n,r=e.tag=function(t){if("function"===typeof t)return Wh(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===U)return 11;if(t===j)return 14}return 2}(n),t=pl(n,t),r){case 0:e=Rl(null,e,n,t,i);break t;case 1:e=Al(null,e,n,t,i);break t;case 11:e=Bl(null,e,n,t,i);break t;case 14:e=Ol(null,e,n,pl(n.type,t),i);break t}throw Error(s(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,Rl(t,e,n,r=e.elementType===n?r:pl(n,r),i);case 1:return n=e.type,r=e.pendingProps,Al(t,e,n,r=e.elementType===n?r:pl(n,r),i);case 3:t:{if(Vl(e),null===t)throw Error(s(387));n=e.pendingProps,r=(o=e.memoizedState).element,qs(t,e),to(e,n,null,i);var l=e.memoizedState;if(n=l.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Yl(t,e,n,i,r=_l(Error(s(423)),e));break t}if(n!==r){e=Yl(t,e,n,i,r=_l(Error(s(424)),e));break t}for(ms=_r(e.stateNode.containerInfo.firstChild),ps=e,ys=!0,gs=null,i=Bs(e,null,n,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ks(),n===r){e=ia(t,e,i);break t}Nl(t,e,n,i)}e=e.child}return e;case 5:return ho(e),null===t&&_s(e),n=e.type,r=e.pendingProps,o=null!==t?t.memoizedProps:null,l=r.children,pr(n,r)?l=null:null!==o&&pr(n,o)&&(e.flags|=32),zl(t,e),Nl(t,e,l,i),e.child;case 6:return null===t&&_s(e),null;case 13:return ql(t,e,i);case 4:return lo(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ns(e,null,n,i):Nl(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,Bl(t,e,n,r=e.elementType===n?r:pl(n,r),i);case 7:return Nl(t,e,e.pendingProps,i),e.child;case 8:case 12:return Nl(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(n=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,Rr(Os,n._currentValue),n._currentValue=l,null!==o)if(vn(o.value,l)){if(o.children===r.children&&!Vr.current){e=ia(t,e,i);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){l=o.child;for(var h=a.firstContext;null!==h;){if(h.context===n){if(1===o.tag){(h=Ks(-1,i&-i)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?h.next=h:(h.next=c.next,c.next=h),u.pending=h}}o.lanes|=i,null!==(h=o.alternate)&&(h.lanes|=i),Us(o.return,i,e),a.lanes|=i;break}h=h.next}}else if(10===o.tag)l=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(s(341));l.lanes|=i,null!==(a=l.alternate)&&(a.lanes|=i),Us(l,i,e),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===e){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}Nl(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,Vs(e,i),n=n(r=Ys(r)),e.flags|=1,Nl(t,e,n,i),e.child;case 14:return r=pl(n=e.type,e.pendingProps),Ol(t,e,n,r=pl(n.type,r),i);case 15:return Fl(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:pl(n,r),ea(t,e),e.tag=1,Wr(n)?(t=!0,Xr(e)):t=!1,Vs(e,i),bl(e,n,r),wl(e,n,r,i),Ul(null,e,n,!0,t,i);case 19:return ta(t,e,i);case 22:return Ll(t,e,i)}throw Error(s(156,e.tag))};var su="function"===typeof reportError?reportError:function(t){console.error(t)};function ou(t){this._internalRoot=t}function lu(t){this._internalRoot=t}function au(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function hu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function uu(){}function cu(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s;if("function"===typeof r){var l=r;r=function(){var t=iu(o);l.call(t)}}eu(e,o,t,r)}else o=function(t,e,i,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var t=iu(o);s.call(t)}}var o=tu(e,n,t,0,null,!1,0,"",uu);return t._reactRootContainer=o,t[Cr]=o.current,tr(8===t.nodeType?t.parentNode:t),Sh(),o}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof n){var l=n;n=function(){var t=iu(a);l.call(t)}}var a=Zh(t,0,!1,null,0,!1,0,"",uu);return t._reactRootContainer=a,t[Cr]=a.current,tr(8===t.nodeType?t.parentNode:t),Sh(function(){eu(e,a,i,n)}),a}(i,e,t,r,n);return iu(o)}lu.prototype.render=ou.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));eu(t,e,null,null)},lu.prototype.unmount=ou.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;Sh(function(){eu(null,t,null,null)}),e[Cr]=null}},lu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Le();t={blockedOn:null,target:t,priority:e};for(var i=0;i<$e.length&&0!==e&&e<$e[i].priority;i++);$e.splice(i,0,t),0===i&&qe(t)}},Be=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=xe(e.pendingLanes);0!==i&&(Ee(e,1|i),mh(e,he()),0===(6&Ua)&&(th=he()+500,ts()))}break;case 13:Sh(function(){var e=Qs(t,1);if(null!==e){var i=dh();ph(e,t,1,i)}}),ru(t,1)}},Oe=function(t){if(13===t.tag){var e=Qs(t,134217728);if(null!==e)ph(e,t,134217728,dh());ru(t,134217728)}},Fe=function(t){if(13===t.tag){var e=fh(t),i=Qs(t,e);if(null!==i)ph(i,t,e,dh());ru(t,e)}},Le=function(){return De},ze=function(t,e){var i=De;try{return De=t,e()}finally{De=i}},Ot=function(t,e,i){switch(e){case"input":if(ct(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=Br(n);if(!r)throw Error(s(90));ot(n),ct(n,r)}}}break;case"textarea":bt(t,i);break;case"select":null!=(e=i.value)&&mt(t,!!i.multiple,e,!1)}},Ut=_h,Vt=Sh;var du={usingClientEntryPoint:!1,Events:[Dr,Nr,Br,Rt,At,_h]},fu={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pu={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{ye=mu.inject(pu),ge=mu}catch(b){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=du,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(e))throw Error(s(200));return function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:B,key:null==n?null:""+n,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!au(t))throw Error(s(299));var i=!1,n="",r=su;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=Zh(t,1,!1,null,0,i,0,n,r),t[Cr]=e.current,tr(8===t.nodeType?t.parentNode:t),new ou(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t){return Sh(t)},e.hydrate=function(t,e,i){if(!hu(e))throw Error(s(200));return cu(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!au(t))throw Error(s(405));var n=null!=i&&i.hydratedSources||null,r=!1,o="",l=su;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(r=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(l=i.onRecoverableError)),e=tu(e,null,t,1,null!=i?i:null,r,0,o,l),t[Cr]=e.current,tr(t),n)for(t=0;t<n.length;t++)r=(r=(i=n[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new lu(e)},e.render=function(t,e,i){if(!hu(e))throw Error(s(200));return cu(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!hu(t))throw Error(s(40));return!!t._reactRootContainer&&(Sh(function(){cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0)},e.unstable_batchedUpdates=_h,e.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!hu(i))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return cu(t,e,i,!1,n)},e.version="18.3.1-next-f1338f8080-20240426"},739:(t,e,i)=>{var n=i(123),r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,l=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,h=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function w(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||b}function _(){}function S(t,e,i){this.props=t,this.context=e,this.refs=v,this.updater=i||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var x=S.prototype=new _;x.constructor=S,n(x,w.prototype),x.isPureReactComponent=!0;var M={current:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function I(t,e,i){var n,r={},o=null,l=null;if(null!=e)for(n in void 0!==e.ref&&(l=e.ref),void 0!==e.key&&(o=""+e.key),e)k.call(e,n)&&!C.hasOwnProperty(n)&&(r[n]=e[n]);var a=arguments.length-2;if(1===a)r.children=i;else if(1<a){for(var h=Array(a),u=0;u<a;u++)h[u]=arguments[u+2];r.children=h}if(t&&t.defaultProps)for(n in a=t.defaultProps)void 0===r[n]&&(r[n]=a[n]);return{$$typeof:s,type:t,key:o,ref:l,props:r,_owner:M.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var P=/\/+/g,E=[];function D(t,e,i,n){if(E.length){var r=E.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>E.length&&E.push(t)}function B(t,e,i,n){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var l=!1;if(null===t)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case o:l=!0}}if(l)return i(n,t,""===e?"."+F(t,0):e),1;if(l=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var h=e+F(r=t[a],a);l+=B(r,h,i,n)}else if(null===t||"object"!==typeof t?h=null:h="function"===typeof(h=y&&t[y]||t["@@iterator"])?h:null,"function"===typeof h)for(t=h.call(t),a=0;!(r=t.next()).done;)l+=B(r=r.value,h=e+F(r,a++),i,n);else if("object"===r)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}function O(t,e,i){return null==t?0:B(t,"",e,i)}function F(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function L(t,e){t.func.call(t.context,e,t.count++)}function z(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,n,i,function(t){return t}):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+i)),n.push(t))}function R(t,e,i,n,r){var s="";null!=i&&(s=(""+i).replace(P,"$&/")+"/"),O(t,z,e=D(e,s,n,r)),N(e)}var A={current:null};function U(){var t=A.current;if(null===t)throw Error(g(321));return t}var V={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:function(t,e,i){if(null==t)return t;var n=[];return R(t,n,null,e,i),n},forEach:function(t,e,i){if(null==t)return t;O(t,L,e=D(null,null,e,i)),N(e)},count:function(t){return O(t,function(){return null},null)},toArray:function(t){var e=[];return R(t,e,null,function(t){return t}),e},only:function(t){if(!T(t))throw Error(g(143));return t}},e.Component=w,e.Fragment=l,e.Profiler=h,e.PureComponent=S,e.StrictMode=a,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error(g(267,t));var r=n({},t.props),o=t.key,l=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(l=e.ref,a=M.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(u in e)k.call(e,u)&&!C.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==h?h[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){h=Array(u);for(var c=0;c<u;c++)h[c]=arguments[c+2];r.children=h}return{$$typeof:s,type:t.type,key:o,ref:l,props:r,_owner:a}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:c,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=I,e.createFactory=function(t){var e=I.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:d,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return U().useCallback(t,e)},e.useContext=function(t,e){return U().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return U().useEffect(t,e)},e.useImperativeHandle=function(t,e,i){return U().useImperativeHandle(t,e,i)},e.useLayoutEffect=function(t,e){return U().useLayoutEffect(t,e)},e.useMemo=function(t,e){return U().useMemo(t,e)},e.useReducer=function(t,e,i){return U().useReducer(t,e,i)},e.useRef=function(t){return U().useRef(t)},e.useState=function(t){return U().useState(t)},e.version="16.14.0"},763:(t,e,i)=>{t.exports=i(983)},853:(t,e,i)=>{t.exports=i(234)},904:(t,e,i)=>{t.exports=i(739)},923:function(t,e,i){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.useNullableRenderData=e.StreamlitProvider=e.useRenderData=void 0;var r=i(639);Object.defineProperty(e,"useRenderData",{enumerable:!0,get:function(){return r.useRenderData}}),Object.defineProperty(e,"StreamlitProvider",{enumerable:!0,get:function(){return n(r).default}});var s=i(129);Object.defineProperty(e,"useNullableRenderData",{enumerable:!0,get:function(){return s.useNullableRenderData}})},950:(t,e,i)=>{!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(730)},983:(t,e)=>{var i="function"===typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,r=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,a=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,v=i?Symbol.for("react.responder"):60118,w=i?Symbol.for("react.scope"):60119;function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:switch(t=t.type){case u:case c:case s:case l:case o:case f:return t;default:switch(t=t&&t.$$typeof){case h:case d:case y:case m:case a:return t;default:return e}}case r:return e}}}function S(t){return _(t)===c}e.AsyncMode=u,e.ConcurrentMode=c,e.ContextConsumer=h,e.ContextProvider=a,e.Element=n,e.ForwardRef=d,e.Fragment=s,e.Lazy=y,e.Memo=m,e.Portal=r,e.Profiler=l,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(t){return S(t)||_(t)===u},e.isConcurrentMode=S,e.isContextConsumer=function(t){return _(t)===h},e.isContextProvider=function(t){return _(t)===a},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return _(t)===d},e.isFragment=function(t){return _(t)===s},e.isLazy=function(t){return _(t)===y},e.isMemo=function(t){return _(t)===m},e.isPortal=function(t){return _(t)===r},e.isProfiler=function(t){return _(t)===l},e.isStrictMode=function(t){return _(t)===o},e.isSuspense=function(t){return _(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===c||t===l||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===m||t.$$typeof===a||t.$$typeof===h||t.$$typeof===d||t.$$typeof===b||t.$$typeof===v||t.$$typeof===w||t.$$typeof===g)},e.typeOf=_}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n=i(43),r=i(950),s=i(416),o=i(923);function l(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function a(t,e){return t.width===e.width&&t.height===e.height}var h=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(t){return t!==i})}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();var u=function(){function t(t,e,i){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=l({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!==e&&void 0!==e?e:function(t){return t},this._allowResizeObserver=null===(n=null===i||void 0===i?void 0:i.allowResizeObserver)||void 0===n||n,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw new Error("Object is disposed");null===(t=this._canvasElementResizeObserver)||void 0===t||t.disconnect(),this._canvasElementResizeObserver=null,null===(e=this._devicePixelRatioObservable)||void 0===e||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return l({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=l(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;a(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(i,t,e)})},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=l(this._transformBitmapSize(t,this._canvasElementClientSize)),n=a(this.bitmapSize,i)?null:i;null===e&&null===n||null!==e&&null!==n&&a(e,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(e,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(i,t,e)})},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(t){return"devicePixelContentBoxSize"in t})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=c(this._canvasElement);if(null===e)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=function(t){return new h(t)}(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var t,e;if(null!==this._canvasElement){var i=c(this._canvasElement);if(null!==i){var n=null!==(e=null===(t=this._devicePixelRatioObservable)||void 0===t?void 0:t.value)&&void 0!==e?e:i.devicePixelRatio,r=this._canvasElement.getClientRects(),s=void 0!==r[0]?function(t,e){return l({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}(r[0],n):l({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(s)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(e){return e.target===t._canvasElement});if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var n=i.devicePixelContentBoxSize[0],r=l({width:n.inlineSize,height:n.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function c(t){return t.ownerDocument.defaultView}var d=function(){function t(t,e,i){if(0===e.width||0===e.height)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function f(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var n=t.bitmapSize;if(0===n.width||0===n.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new d(r,i,n)}const p={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var m,y,g;function b(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function v(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(n,e+r),t.stroke()}function w(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function _(t){if(void 0===t)throw new Error("Value is undefined");return t}function S(t){if(null===t)throw new Error("Value is null");return t}function x(t){return S(_(t))}(g=m||(m={}))[g.Simple=0]="Simple",g[g.WithSteps=1]="WithSteps",g[g.Curved=2]="Curved",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(y||(y={}));class M{constructor(){this.t=[]}i(t,e,i){const n={h:t,l:e,o:!0===i};this.t.push(n)}_(t){const e=this.t.findIndex(e=>t===e.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,i){const n=[...this.t];this.t=this.t.filter(t=>!t.o),n.forEach(n=>n.h(t,e,i))}v(){return this.t.length>0}m(){this.t=[]}}function k(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(const r of i)for(const e in r)void 0!==r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof r[e]||void 0===t[e]||Array.isArray(r[e])?t[e]=r[e]:k(t[e],r[e]));return t}function C(t){return"number"==typeof t&&isFinite(t)}function I(t){return"number"==typeof t&&t%1==0}function T(t){return"string"==typeof t}function P(t){return"boolean"==typeof t}function E(t){const e=t;if(!e||"object"!=typeof e)return e;let i,n,r;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?E(r):r);return i}function D(t){return null!==t}function N(t){return null===t?void 0:t}const B="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function O(t,e,i){return void 0===e&&(e=B),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class F{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,I:0,B:0,A:0,L:0},this.O=t}N(){const t=this.M,e=this.F(),i=this.W();return t.P===e&&t.T===i||(t.P=e,t.T=i,t.k=O(e,i),t.A=2.5/12*e,t.V=t.A,t.I=e/12*t.C,t.B=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function L(t){return t<0?0:t>255?255:Math.round(t)||0}function z(t){return.199*t[0]+.687*t[1]+.114*t[2]}class R{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if("transparent"===t)return t;const i=this.K(t),n=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*n})`}X(t){const e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:z(e)>160?"black":"white"}}J(t){return z(this.K(t))}tt(t,e,i){const[n,r,s,o]=this.K(t),[l,a,h,u]=this.K(e),c=[L(n+i*(l-n)),L(r+i*(a-r)),L(s+i*(h-s)),(d=o+i*(u-o),d<=0||d>1?Math.min(Math.max(d,0),1):Math.round(1e4*d)/1e4)];var d;return`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`}K(t){const e=this.q.get(t);if(e)return e;const i=function(t){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),e.style.color=t;const i=window.getComputedStyle(e).color;return document.body.removeChild(e),i}(t),n=i.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!n){if(this.Y.length)for(const e of this.Y){const i=e(t);if(i)return this.q.set(t,i),i}throw new Error(`Failed to parse color: ${t}`)}const r=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),n[4]?parseFloat(n[4]):1];return this.q.set(t,r),r}}class A{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach(n=>{n.nt(t,e,i)})}}class U{nt(t,e,i){t.useBitmapCoordinateSpace(t=>this.et(t,e,i))}}class V extends U{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.rt||null===this.rt.lt)return;const r=this.rt.lt,s=this.rt,o=Math.max(1,Math.floor(i))%2/2,l=t=>{e.beginPath();for(let l=r.to-1;l>=r.from;--l){const r=s.ot[l],a=Math.round(r._t*i)+o,h=r.ut*n,u=t*n+o;e.moveTo(a,h),e.arc(a,h,u,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,l(s.ft+s.ct)),e.fillStyle=s.vt,l(s.ft)}}function Y(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const j={from:0,to:1};class W{constructor(t,e,i){this.Mt=new A,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=i,this.Mt.st(this.bt)}kt(t){this.yt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}yt(){const t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(Y),this.bt=this.St.map(t=>{const e=new V;return e.ht(t),e}),this.Mt.st(this.bt))}Rt(){const t=2===this.Ct.N().mode||!this.Ct.Vt(),e=this.Pt.It(),i=this.Ct.Bt(),n=this.O.Et();this.yt(),e.forEach((e,r)=>{const s=this.St[r],o=e.At(i),l=e.zt();!t&&null!==o&&e.Vt()&&null!==l?(s.vt=o.Lt,s.ft=o.ft,s.ct=o.Ot,s.ot[0].gt=o.gt,s.ot[0].ut=e.Ft().Nt(o.gt,l.Wt),s.dt=o.Ht??this.O.Ut(s.ot[0].ut/e.Ft().$t()),s.ot[0].wt=i,s.ot[0]._t=n.qt(i),s.lt=j):s.lt=null})}}class $ extends U{constructor(t){super(),this.Yt=t}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.Yt)return;const s=this.Yt.jt.Vt,o=this.Yt.Kt.Vt;if(!s&&!o)return;const l=Math.round(this.Yt._t*n),a=Math.round(this.Yt.ut*r);e.lineCap="butt",s&&l>=0&&(e.lineWidth=Math.floor(this.Yt.jt.ct*n),e.strokeStyle=this.Yt.jt.R,e.fillStyle=this.Yt.jt.R,b(e,this.Yt.jt.Xt),function(t,e,i,n){t.beginPath();const r=t.lineWidth%2?.5:0;t.moveTo(e+r,0),t.lineTo(e+r,n),t.stroke()}(e,l,0,i.height)),o&&a>=0&&(e.lineWidth=Math.floor(this.Yt.Kt.ct*r),e.strokeStyle=this.Yt.Kt.R,e.fillStyle=this.Yt.Kt.R,b(e,this.Yt.Kt.Xt),v(e,a,0,i.width))}}class Q{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new $(this.Zt),this.Jt=t,this.Pt=e}kt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){const t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,i=this.Zt;if(2===e.mode)return i.Kt.Vt=!1,void(i.jt.Vt=!1);i.Kt.Vt=t&&this.Jt.ti(this.Pt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni()}}function H(t,e,i,n,r,s){t.fillRect(e+s,i,n-2*s,s),t.fillRect(e+s,i+r-s,n-2*s,s),t.fillRect(e,i,s,r),t.fillRect(e+n-s,i,s,r)}function X(t,e,i,n,r,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,i,n,r),t.restore()}function q(t,e,i,n,r,s){t.beginPath(),t.roundRect?t.roundRect(e,i,n,r,s):(t.lineTo(e+n-s[1],i),0!==s[1]&&t.arcTo(e+n,i,e+n,i+s[1],s[1]),t.lineTo(e+n,i+r-s[2]),0!==s[2]&&t.arcTo(e+n,i+r,e+n-s[2],i+r,s[2]),t.lineTo(e+s[3],i+r),0!==s[3]&&t.arcTo(e,i+r,e,i+r-s[3],s[3]),t.lineTo(e,i+s[0]),0!==s[0]&&t.arcTo(e,i,e+s[0],i,s[0]))}function K(t,e,i,n,r,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[0,0,0,0],a=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"";if(t.save(),!o||!a||a===s)return q(t,e,i,n,r,l),t.fillStyle=s,t.fill(),void t.restore();const h=o/2;var u;q(t,e+h,i+h,n-o,r-o,(u=-h,l.map(t=>0===t?t:t+u))),"transparent"!==s&&(t.fillStyle=s,t.fill()),"transparent"!==a&&(t.lineWidth=o,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function G(t,e,i,n,r,s,o){t.save(),t.globalCompositeOperation="copy";const l=t.createLinearGradient(0,0,0,r);l.addColorStop(0,s),l.addColorStop(1,o),t.fillStyle=l,t.fillRect(e,i,n,r),t.restore()}class Z{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,i,n){if(!this.Yt.Vt||0===this.Yt.ri.length)return;const r=this.Yt.R,s=this.ei.Z,o=t.useBitmapCoordinateSpace(t=>{const o=t.context;o.font=e.k;const l=this.hi(t,e,i,n),a=l.ai;return l.li?K(o,a.oi,a._i,a.ui,a.ci,s,a.di,[a.ft,0,0,a.ft],s):K(o,a.fi,a._i,a.ui,a.ci,s,a.di,[0,a.ft,a.ft,0],s),this.Yt.pi&&(o.fillStyle=r,o.fillRect(a.fi,a.mi,a.wi-a.fi,a.gi)),this.Yt.Mi&&(o.fillStyle=e.D,o.fillRect(l.li?a.bi-a.di:0,a._i,a.di,a.Si-a._i)),l});t.useMediaCoordinateSpace(t=>{let{context:i}=t;const n=o.xi;i.font=e.k,i.textAlign=o.li?"right":"left",i.textBaseline="middle",i.fillStyle=r,i.fillText(this.Yt.ri,n.Ci,(n._i+n.Si)/2+n.Pi)})}hi(t,e,i,n){const{context:r,bitmapSize:s,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:a}=t,h=this.Yt.pi||!this.Yt.ki?e.C:0,u=this.Yt.yi?e.S:0,c=e.A+this.ei.Ti,d=e.V+this.ei.Ri,f=e.I,p=e.B,m=this.Yt.ri,y=e.P,g=i.Di(r,m),b=Math.ceil(i.Vi(r,m)),v=y+c+d,w=e.S+f+p+b+h,_=Math.max(1,Math.floor(a));let S=Math.round(v*a);S%2!=_%2&&(S+=1);const x=u>0?Math.max(1,Math.floor(u*l)):0,M=Math.round(w*l),k=Math.round(h*l),C=this.ei.Ii??this.ei.Bi,I=Math.round(C*a)-Math.floor(.5*a),T=Math.floor(I+_/2-S/2),P=T+S,E="right"===n,D=E?o.width-u:u,N=E?s.width-x:x;let B,O,F;return E?(B=N-M,O=N-k,F=D-h-f-u):(B=N+M,O=N+k,F=D+h+f),{li:E,ai:{_i:T,mi:I,Si:P,ui:M,ci:S,ft:2*l,di:x,oi:B,fi:N,wi:O,gi:_,bi:s.width},xi:{_i:T/a,Si:P/a,Ci:F,Pi:g}}}}class J{constructor(t){this.Ei={Bi:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,yi:!1},this.zi={ri:"",Vt:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,yi:!0},this.xt=!0,this.Li=new(t||Z)(this.Ai,this.Ei),this.Oi=new(t||Z)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Bi(){return this.Ni(),this.Ei.Bi}kt(){this.xt=!0}$t(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Ii||0}Wi(t){this.Ei.Ii=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class tt extends J{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,2===this.Jt.N().mode)return;const n=this.Jt.N().horzLine;if(!n.labelVisible)return;const r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||null===r)return;const s=this.Yi.Xi().X(n.labelBackgroundColor);i.Z=s.Z,t.R=s.G;const o=2/12*this.Yi.P();i.Ti=o,i.Ri=o;const l=this.ji(this.Yi);i.Bi=l.Bi,t.ri=this.Yi.Zi(l.gt,r),t.Vt=!0}}const et=/[1-9]/g;class it{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;const i=t.useMediaCoordinateSpace(t=>{let{context:i}=t;return i.font=e.k,Math.round(e.Gi.Vi(i,S(this.Yt).ri,et))});if(i<=0)return;const n=e.Ji,r=i+2*n,s=r/2,o=this.Yt.Qi;let l=this.Yt.Bi,a=Math.floor(l-s)+.5;a<0?(l+=Math.abs(0-a),a=Math.floor(l-s)+.5):a+r>o&&(l-=Math.abs(o-(a+r)),a=Math.floor(l-s)+.5);const h=a+r,u=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace(t=>{let{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;const s=S(this.Yt);i.fillStyle=s.Z;const o=Math.round(a*n),l=Math.round(0*r),c=Math.round(h*n),d=Math.round(u*r),f=Math.round(2*n);if(i.beginPath(),i.moveTo(o,l),i.lineTo(o,d-f),i.arcTo(o,d,o+f,d,f),i.lineTo(c-f,d),i.arcTo(c,d,c,d-f,f),i.lineTo(c,l),i.fill(),s.pi){const t=Math.round(s.Bi*n),o=l,a=Math.round((o+e.C)*r);i.fillStyle=s.R;const h=Math.max(1,Math.floor(n)),u=Math.floor(.5*n);i.fillRect(t-u,o,h,a-o)}}),t.useMediaCoordinateSpace(t=>{let{context:i}=t;const r=S(this.Yt),s=0+e.S+e.C+e.A+e.P/2;i.font=e.k,i.textAlign="left",i.textBaseline="middle",i.fillStyle=r.R;const o=e.Gi.Di(i,"Apr0");i.translate(a+n,s+o),i.fillText(r.ri,0,0)})}}class nt{constructor(t,e,i){this.xt=!0,this.Gt=new it,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Bi:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){const t=this.Zt;if(t.Vt=!1,2===this.Ct.N().mode)return;const e=this.Ct.N().vertLine;if(!e.labelVisible)return;const i=this.ts.Et();if(i.Ki())return;t.Qi=i.Qi();const n=this.ji();if(null===n)return;t.Bi=n.Bi;const r=i.ss(this.Ct.Bt());t.ri=i.ns(S(r)),t.Vt=!0;const s=this.ts.Xi().X(e.labelBackgroundColor);t.Z=s.Z,t.R=s.G,t.pi=i.N().ticksVisible}}class rt{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}var st;!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"}(st||(st={}));class ot extends rt{constructor(t,e){super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ks=((t,e)=>i=>{const n=e(),r=t();if(i===S(this.Pt).ys())return{gt:r,Bi:n};{const t=S(i.zt());return{gt:i.Ts(n,t),Bi:n}}})(()=>this.ds,()=>this.Ss);const i=((t,e)=>()=>{const i=this.ts.Et().Rs(t()),n=e();return i&&Number.isFinite(n)?{wt:i,Bi:n}:null})(()=>this.fs,()=>this.si());this.Ds=new nt(this,t,i)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Is(){this.xs=NaN,this.Cs=NaN}Bs(){return this.xs}Es(){return this.Cs}As(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}Bt(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Is(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new Q(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new W(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();const i=[];return this.Pt===t&&i.push(this.Hs(this.vs,e,this.ks)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(t=>{this.gs.get(t)?.kt(),this.Ms.get(t)?.kt()}),this.vs.forEach(t=>t.kt()),this.Ds.kt()}qs(t){return t&&!t.ys().Ki()?t.ys():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){const n=this.bs,r=this.Ss,s=this.ds,o=this.fs,l=this.Pt,a=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=i;const h=null!==a?a.zt():null;return null!==a&&null!==h?(this.ds=e,this.Ss=a.Nt(e,h)):(this.ds=NaN,this.Ss=NaN),n!==this.bs||r!==this.Ss||o!==this.fs||s!==this.ds||l!==this.Pt}Os(){const t=this.ts.js().map(t=>t.Xs().Ks()).filter(D),e=0===t.length?null:Math.max(...t);this.fs=null!==e?e:NaN}Hs(t,e,i){let n=t.get(e);return void 0===n&&(n=new tt(this,e,i),t.set(e,n)),n}}function lt(t){return"left"===t||"right"===t}class at{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){const i=function(t,e){return void 0===t?e:{tn:Math.max(t.tn,e.tn),sn:t.sn||e.sn}}(this.Zs.get(t),e);this.Zs.set(t,i)}nn(){return this.Js}en(t){const e=this.Zs.get(t);return void 0===e?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(const e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach((t,e)=>{this.Qs(e,t)})}static wn(){return new at(2)}static gn(){return new at(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){const t=this.Gs.findIndex(t=>5===t.an);-1!==t&&this.Gs.splice(t,1)}}class ht{formatTickmarks(t){return t.map(t=>this.format(t))}}function ut(t,e){if(!C(t))return"n/a";if(!I(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class ct extends ht{constructor(t,e){if(super(),e||(e=1),C(t)&&I(t)||(t=100),t<0)throw new TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){const e=t<0?"\u2212":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){const e=this.Yi/this.Mn;let i=Math.floor(t),n="";const r=void 0!==this.xn?this.xn:NaN;if(e>1){let s=+(Math.round(t*e)-i*e).toFixed(this.xn);s>=e&&(s-=e,i+=1),n="."+ut(+s.toFixed(this.xn)*this.Mn,r)}else i=Math.round(i*e)/e,r>0&&(n="."+ut(0,r));return i.toFixed(0)+n}}class dt extends ct{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:100)}format(t){return`${super.format(t)}%`}}class ft extends ht{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e;const i=Math.pow(10,this.Cn);return e=(t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}const pt=/[2-9]/g;class mt{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.kn=0,this.yn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}In(){this.kn=0,this.Dn.clear(),this.yn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.Bn(t,e,i).width}Di(t,e,i){const n=this.Bn(t,e,i);return((n.actualBoundingBoxAscent||0)-(n.actualBoundingBoxDescent||0))/2}Bn(t,e,i){const n=i||pt,r=String(e).replace(n,"0");if(this.Dn.has(r))return _(this.Dn.get(r)).En;if(this.kn===this.Vn){const t=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(t),this.Tn++,this.kn--}t.save(),t.textBaseline="middle";const s=t.measureText(r);return t.restore(),0===s.width&&e.length||(this.Dn.set(r,{En:s,An:this.yn}),this.Rn[this.yn]=r,this.kn++,this.yn++),s}}class yt{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){null!==this.M&&null!==this.zn&&this.zn.nt(t,this.M,this.On,this.Ln)}}class gt{constructor(t,e,i){this.Fn=t,this.On=new mt(50),this.Wn=e,this.O=i,this.F=-1,this.Gt=new yt(this.On)}Tt(){const t=this.O.Hn(this.Wn);if(null===t)return null;const e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(null===e)return null;const i=t.qn(e);if("overlay"===i)return null;const n=this.O.Yn();return n.P!==this.F&&(this.F=n.P,this.On.In()),this.Gt.Nn(this.Fn.$i(),n,i),this.Gt}}class bt extends U{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;const{ut:i,ct:n,Kn:r}=this.Yt;return e>=i-n-7&&e<=i+n+7?{Xn:this.Yt,Kn:r}:null}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.Yt)return;if(!1===this.Yt.Vt)return;const s=Math.round(this.Yt.ut*r);s<0||s>i.height||(e.lineCap="butt",e.strokeStyle=this.Yt.R,e.lineWidth=Math.floor(this.Yt.ct*n),b(e,this.Yt.Xt),v(e,s,0,i.width))}}class vt{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new bt,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}kt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class wt extends vt{constructor(t){super(t)}te(){this.Zn.Vt=!1;const t=this.Jn.Ft(),e=t.ie().ie;if(2!==e&&3!==e)return;const i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;const n=this.Jn.zt();null!==n&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(n.Wt,n.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class _t extends U{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;const r=this.Yt;if(null===r)return;const s=Math.max(1,Math.floor(i)),o=s%2/2,l=Math.round(r.ne.x*i)+o,a=r.ne.y*n;e.fillStyle=r.ee,e.beginPath();const h=Math.max(2,1.5*r.re)*i;e.arc(l,a,h,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.he,e.beginPath(),e.arc(l,a,r.ft*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=r.ae,e.beginPath(),e.arc(l,a,r.ft*i+s/2,0,2*Math.PI,!1),e.stroke()}}const St=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class xt{constructor(t){this.Gt=new _t,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.kt()}be(){if(this.kt(),2===this.ge.N().lastPriceAnimation){const t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}kt(){this.xt=!0}Se(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);const t=this.ge.Qt().Et(),e=t.Pe(),i=this.ge.zt();if(null===e||null===i)return;const n=this.ge.ke(!0);if(n.ye||!e.Te(n.Re))return;const r={x:t.qt(n.Re),y:this.ge.Ft().Nt(n.gt,i.Wt)},s=n.R,o=this.ge.N().lineWidth,l=this.De(this.Ve(),s);this.Gt.ht({ee:s,re:o,he:l.he,ae:l.ae,ft:l.ft,ne:r})}Ce(){const t=this.Gt.se();if(null!==t){const e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Ie(t,e,i,n){const r=i+(n-i)*e;return this.ge.Qt().Xi().j(t,r)}De(t,e){const i=t%2600/2600;let n;for(const a of St)if(i>=a.le&&i<=a.oe){n=a;break}w(void 0!==n,"Last price animation internal logic error");const r=(i-n.le)/(n.oe-n.le);return{he:this.Ie(e,r,n.ce,n.de),ae:this.Ie(e,r,n.fe,n.pe),ft:(s=r,o=n._e,l=n.ue,o+(l-o)*s)};var s,o,l}}class Mt extends vt{constructor(t){super(t)}te(){const t=this.Zn;t.Vt=!1;const e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;const i=this.Jn.ke(0===e.priceLineSource);i.ye||(t.Vt=!0,t.ut=i.Bi,t.R=this.Jn.Be(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class kt extends J{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;const n=this.Jt;if(!n.Vt())return;const r=n.N(),s=r.lastValueVisible,o=""!==n.Ee(),l=0===r.seriesLastValueMode,a=n.ke(!1);if(a.ye)return;s&&(t.ri=this.Ae(a,s,l),t.Vt=0!==t.ri.length),(o||l)&&(e.ri=this.ze(a,s,o,l),e.Vt=e.ri.length>0);const h=n.Be(a.R),u=this.Jt.Qt().Xi().X(h);i.Z=u.Z,i.Bi=a.Bi,e.Ht=n.Qt().Ut(a.Bi/n.Ft().$t()),t.Ht=h,t.R=u.G,e.R=u.G}ze(t,e,i,n){let r="";const s=this.Jt.Ee();return i&&0!==s.length&&(r+=`${s} `),e&&n&&(r+=this.Jt.Ft().Le()?t.Oe:t.Ne),r.trim()}Ae(t,e,i){return e?i?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function Ct(t,e,i,n){const r=Number.isFinite(e),s=Number.isFinite(i);return r&&s?t(e,i):r||s?r?e:i:n}class It{constructor(t,e){this.Fe=t,this.We=e}He(t){return null!==t&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new It(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return null===t?this:new It(Ct(Math.min,this.$e(),t.$e(),-1/0),Ct(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!C(t))return;if(0===this.We-this.Fe)return;const e=.5*(this.We+this.Fe);let i=this.We-e,n=this.Fe-e;i*=t,n*=t,this.We=e+i,this.Fe=e+n}Ke(t){C(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return null===t?null:new It(t.minValue,t.maxValue)}}class Tt{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:null===this.Ge?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return null===t?null:new Tt(It.Ze(t.priceRange),t.margins)}}class Pt extends vt{constructor(t,e){super(t),this.ir=e}te(){const t=this.Zn;t.Vt=!1;const e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;const i=this.ir.sr();null!==i&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class Et extends J{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;const n=this.ir.N(),r=n.axisLabelVisible,s=""!==n.title,o=this.ge;if(!r||!o.Vt())return;const l=this.ir.sr();if(null===l)return;s&&(e.ri=n.title,e.Vt=!0),e.Ht=o.Qt().Ut(l/o.Ft().$t()),t.ri=this.nr(n.price),t.Vt=!0;const a=this.ge.Qt().Xi().X(n.axisLabelColor||n.color);i.Z=a.Z;const h=n.axisLabelTextColor||a.G;t.R=h,e.R=h,i.Bi=l}nr(t){const e=this.ge.zt();return null===e?"":this.ge.Ft().Zi(t,e.Wt)}}class Dt{constructor(t,e){this.ge=t,this.Ps=e,this.er=new Pt(t,this),this.Fn=new Et(t,this),this.rr=new gt(this.Fn,t,t.Qt())}hr(t){k(this.Ps,t),this.kt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}kt(){this.er.kt(),this.Fn.kt()}sr(){const t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;const i=t.zt();return null===i?null:e.Nt(this.Ps.price,i.Wt)}}class Nt extends rt{constructor(t){super(),this.ts=t}Qt(){return this.ts}}const Bt={Bar:(t,e,i,n)=>{const r=e.upColor,s=e.downColor,o=S(t(i,n)),l=x(o.Wt[0])<=x(o.Wt[3]);return{cr:o.R??(l?r:s)}},Candlestick:(t,e,i,n)=>{const r=e.upColor,s=e.downColor,o=e.borderUpColor,l=e.borderDownColor,a=e.wickUpColor,h=e.wickDownColor,u=S(t(i,n)),c=x(u.Wt[0])<=x(u.Wt[3]);return{cr:u.R??(c?r:s),dr:u.Ht??(c?o:l),pr:u.vr??(c?a:h)}},Custom:(t,e,i,n)=>({cr:S(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const r=S(t(i,n));return{cr:r.vt??e.lineColor,vt:r.vt??e.lineColor,mr:r.mr??e.topColor,wr:r.wr??e.bottomColor}},Baseline:(t,e,i,n)=>{const r=S(t(i,n));return{cr:r.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:r.gr??e.topLineColor,Mr:r.Mr??e.bottomLineColor,br:r.br??e.topFillColor1,Sr:r.Sr??e.topFillColor2,Cr:r.Cr??e.bottomFillColor1,Pr:r.Pr??e.bottomFillColor2}},Line:(t,e,i,n)=>{const r=S(t(i,n));return{cr:r.R??e.color,vt:r.R??e.color}},Histogram:(t,e,i,n)=>({cr:S(t(i,n)).R??e.color})};class Ot{constructor(t){this.kr=(t,e)=>void 0!==e?e.Wt:this.ge.Xs().yr(t),this.ge=t,this.Tr=Bt[t.Rr()]}Dr(t,e){return this.Tr(this.kr,this.ge.N(),t,e)}}function Ft(t,e,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=(arguments.length>5&&void 0!==arguments[5]?arguments[5]:e.length)-r;for(;0<s;){const o=s>>1,l=r+o;n(e[l],i)===t?(r=l+1,s-=o+1):s=o}return r}const Lt=Ft.bind(null,!0),zt=Ft.bind(null,!1);var Rt;!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"}(Rt||(Rt={}));const At=30;class Ut{constructor(){this.Vr=[],this.Ir=new Map,this.Br=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return 0===this.zr()}Te(t){return null!==this.Nr(t,0)}yr(t){return this.Fr(t)}Fr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=this.Nr(t,e);return null===i?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let n=null;for(const r of i)n=Vt(n,this.$r(t,e,r));return n}ht(t){this.Br.clear(),this.Ir.clear(),this.Vr=t,this.Er=t.map(t=>t.Re)}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){const i=this.Yr(t);if(null===i&&0!==e)switch(e){case-1:return this.jr(t);case 1:return this.Kr(t);default:throw new TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){const e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){const e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return Lt(this.Vr,t,(t,e)=>t.Re<e)}Zr(t){return zt(this.Vr,t,(t,e)=>t.Re>e)}Gr(t,e,i){let n=null;for(let r=t;r<e;r++){const t=this.Vr[r].Wt[i];Number.isNaN(t)||(null===n?n={Jr:t,Qr:t}:(t<n.Jr&&(n.Jr=t),t>n.Qr&&(n.Qr=t)))}return n}$r(t,e,i){if(this.Ki())return null;let n=null;const r=S(this.Lr()),s=S(this.Ks()),o=Math.max(t,r),l=Math.min(e,s),a=Math.ceil(o/At)*At,h=Math.max(a,Math.floor(l/At)*At);{const t=this.Xr(o),r=this.Zr(Math.min(l,a,e));n=Vt(n,this.Gr(t,r,i))}let u=this.Ir.get(i);void 0===u&&(u=new Map,this.Ir.set(i,u));for(let c=Math.max(a+1,o);c<h;c+=At){const t=Math.floor(c/At);let e=u.get(t);if(void 0===e){const n=this.Xr(t*At),r=this.Zr((t+1)*At-1);e=this.Gr(n,r,i),u.set(t,e)}n=Vt(n,e)}{const t=this.Xr(h),e=this.Zr(l);n=Vt(n,this.Gr(t,e,i))}return n}}function Vt(t,e){return null===t?e:null===e?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}class Yt{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){this.th.drawBackground?.(t)}}class jt{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Yt(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class Wt{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){const t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;const e=t.map(t=>new jt(t));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let $t=class extends Wt{us(){return[]}};class Qt{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t)}ih(t,e,i){this.th.drawBackground?.(t)}}class Ht{constructor(t){this.Dn=null,this.sh=t}Tt(){const t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;const e=new Qt(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function Xt(t){return{ri:t.text(),Bi:t.coordinate(),Ii:t.fixedCoordinate?.(),R:t.textColor(),Z:t.backColor(),Vt:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class qt{constructor(t,e){this.Gt=new it,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...Xt(this._h)}),this.Gt}}class Kt extends J{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){const n=Xt(this._h);i.Z=n.Z,t.R=n.R;const r=2/12*this.Yi.P();i.Ti=r,i.Ri=r,i.Bi=n.Bi,i.Ii=n.Ii,t.ri=n.ri,t.Vt=n.Vt,t.pi=n.pi}}class Gt extends Wt{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){const t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;const e=this.ge.Qt().Et(),i=t.map(t=>new qt(t,e));return this.dh={nh:t,eh:i},i}Ws(){const t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;const e=this.ge.Ft(),i=t.map(t=>new Kt(t,e));return this.fh={nh:t,eh:i},i}wh(){const t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;const e=t.map(t=>new Ht(t));return this.ph={nh:t,eh:e},e}gh(){const t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;const e=t.map(t=>new Ht(t));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function Zt(t,e,i,n){t.forEach(t=>{e(t).forEach(t=>{t.rh()===i&&n.push(t)})})}function Jt(t){return t.Fs()}function te(t){return t.wh()}function ee(t){return t.gh()}const ie=["Area","Line","Baseline"];class ne extends Nt{constructor(t,e,i,n,r){super(t),this.Yt=new Ut,this.er=new Mt(this),this.bh=[],this.Sh=new wt(this),this.xh=null,this.Ch=null,this.Ph=null,this.kh=[],this.Ps=i,this.yh=e;const s=new kt(this);this.vs=[s],this.rr=new gt(s,this,t),ie.includes(this.yh)&&(this.xh=new xt(this)),this.Th(),this.sh=n(this,this.Qt(),r)}m(){null!==this.Ph&&clearTimeout(this.Ph)}Be(t){return this.Ps.priceLineColor||t}ke(t){const e={ye:!0},i=this.Ft();if(this.Qt().Et().Ki()||i.Ki()||this.Yt.Ki())return e;const n=this.Qt().Et().Pe(),r=this.zt();if(null===n||null===r)return e;let s,o;if(t){const t=this.Yt.Ar();if(null===t)return e;s=t,o=t.Re}else{const t=this.Yt.Fr(n.bi(),-1);if(null===t)return e;if(s=this.Yt.yr(t.Re),null===s)return e;o=t.Re}const l=s.Wt[3],a=this.Rh().Dr(o,{Wt:s}),h=i.Nt(l,r.Wt);return{ye:!1,gt:l,ri:i.Zi(l,r.Wt),Oe:i.Dh(l),Ne:i.Vh(l,r.Wt),R:a.cr,Bi:h,Re:o}}Rh(){return null!==this.Ch||(this.Ch=new Ot(this)),this.Ch}N(){return this.Ps}hr(t){const e=t.priceScaleId;void 0!==e&&e!==this.Ps.priceScaleId&&this.Qt().Ih(this,e),k(this.Ps,t),void 0!==t.priceFormat&&(this.Th(),this.Qt().Bh()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.kt("options")}ht(t,e){this.Yt.ht(t),this.sh.kt("data"),null!==this.xh&&(e&&e.zh?this.xh.be():0===t.length&&this.xh.Me());const i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){const e=new Dt(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){const e=this.bh.indexOf(t);-1!==e&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.yh}zt(){const t=this.Wh();return null===t?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){const t=this.Qt().Et().Pe();if(null===t)return null;const e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){const e=this.Yt.yr(t);return null===e?null:"Bar"===this.yh||"Candlestick"===this.yh||"Custom"===this.yh?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){const e=[];Zt(this.kh,Jt,"top",e);const i=this.xh;return null!==i&&i.Vt()?(null===this.Ph&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),e.unshift(i),e):e}Fs(){const t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);const e=this.bh.map(t=>t.lr());return t.push(...e),Zt(this.kh,Jt,"normal",t),t}Jh(){return this.Qh(Jt,"bottom")}ta(t){return this.Qh(te,t)}ia(t){return this.Qh(ee,t)}sa(t,e){return this.kh.map(i=>i.jn(t,e)).filter(t=>null!==t)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];const i=[...this.vs];for(const n of this.bh)i.push(n.ur());return this.kh.forEach(t=>{i.push(...t.Ws())}),i}cs(){const t=[];return this.kh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(void 0!==this.Ps.autoscaleInfoProvider){const i=this.Ps.autoscaleInfoProvider(()=>{const i=this.na(t,e);return null===i?null:i.Xe()});return Tt.Ze(i)}return this.na(t,e)}ea(){return this.Ps.priceFormat.minMove}ra(){return this.ha}Ns(){this.sh.kt();for(const t of this.vs)t.kt();for(const t of this.bh)t.kt();this.er.kt(),this.Sh.kt(),this.xh?.kt(),this.kh.forEach(t=>t.Ns())}Ft(){return S(super.Ft())}At(t){if("Line"!==this.yh&&"Area"!==this.yh&&"Baseline"!==this.yh||!this.Ps.crosshairMarkerVisible)return null;const e=this.Yt.yr(t);return null===e?null:{gt:e.Wt[3],ft:this.aa(),Ht:this.la(),Ot:this.oa(),Lt:this._a(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}ua(t){this.kh.push(new Gt(t,this))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t)}da(){if("Custom"===this.yh)return t=>this.sh.fa(t)}pa(){if("Custom"===this.yh)return t=>this.sh.va(t)}ma(){return this.Yt.qr()}Gh(){return!lt(this.Ft().wa())}na(t,e){if(!I(t)||!I(e)||this.Yt.Ki())return null;const i="Line"===this.yh||"Area"===this.yh||"Baseline"===this.yh||"Histogram"===this.yh?[3]:[2,1],n=this.Yt.Ur(t,e,i);let r=null!==n?new It(n.Jr,n.Qr):null,s=null;if("Histogram"===this.Rr()){const t=this.Ps.base,e=new It(t,t);r=null!==r?r.vn(e):e}return this.kh.forEach(i=>{const n=i.Mh(t,e);if(n?.priceRange){const t=new It(n.priceRange.minValue,n.priceRange.maxValue);r=null!==r?r.vn(t):t}n?.margins&&(s=n.margins)}),new Tt(r,s)}aa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}la(){switch(this.yh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}oa(){switch(this.yh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}_a(t){switch(this.yh){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{const t=this.Ps.priceFormat.formatter;this.ha={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ha=new ft(this.Ps.priceFormat.precision);break;case"percent":this.ha=new dt(this.Ps.priceFormat.precision);break;default:{const t=Math.pow(10,this.Ps.priceFormat.precision);this.ha=new ct(t,this.Ps.priceFormat.minMove*t)}}null!==this.es&&this.es.ga()}Qh(t,e){const i=[];return Zt(this.kh,t,e,i),i}}const re=[3],se=[0,1,2,3];class oe{constructor(t){this.Ps=t}Ma(t,e,i){let n=t;if(0===this.Ps.mode)return n;const r=i.ys(),s=r.zt();if(null===s)return n;const o=r.Nt(t,s),l=i.ba().filter(t=>t instanceof ne).reduce((t,n)=>{if(i.Un(n)||!n.Vt())return t;const r=n.Ft(),s=n.Xs();if(r.Ki()||!s.Te(e))return t;const o=s.yr(e);if(null===o)return t;const l=x(n.zt()),a=3===this.Ps.mode?se:re;return t.concat(a.map(t=>r.Nt(o.Wt[t],l.Wt)))},[]);if(0===l.length)return n;l.sort((t,e)=>Math.abs(t-o)-Math.abs(e-o));const a=l[0];return n=r.Ts(a,s),n}}function le(t,e,i){return Math.min(Math.max(t,e),i)}function ae(t,e,i){return e-t<=i}function he(t){const e=Math.ceil(t);return e%2==0?e-1:e}class ue extends U{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(null===this.Yt)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,function(t,e){t.save(),t.lineWidth%2&&t.translate(.5,.5),e(),t.restore()}(e,()=>{const t=S(this.Yt);if(t.Sa){e.strokeStyle=t.xa,b(e,t.Ca),e.beginPath();for(const r of t.Pa){const t=Math.round(r.ka*n);e.moveTo(t,-s),e.lineTo(t,i.height+s)}e.stroke()}if(t.ya){e.strokeStyle=t.Ta,b(e,t.Ra),e.beginPath();for(const n of t.Da){const t=Math.round(n.ka*r);e.moveTo(-s,t),e.lineTo(i.width+s,t)}e.stroke()}})}}class ce{constructor(t){this.Gt=new ue,this.xt=!0,this.Pt=t}kt(){this.xt=!0}Tt(){if(this.xt){const t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,Sa:t.vertLines.visible,Ta:t.horzLines.color,xa:t.vertLines.color,Ra:t.horzLines.style,Ca:t.vertLines.style,Da:this.Pt.ys().Va(),Pa:(this.Pt.Qt().Et().Va()||[]).map(t=>({ka:t.coord}))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class de{constructor(t){this.sh=new ce(t)}lr(){return this.sh}}const fe={Ia:4,Ba:1e-4};function pe(t,e){const i=100*(t-e)/e;return e<0?-i:i}function me(t,e){const i=pe(t.$e(),e),n=pe(t.qe(),e);return new It(i,n)}function ye(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function ge(t,e){const i=ye(t.$e(),e),n=ye(t.qe(),e);return new It(i,n)}function be(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.Ba)+e.Ia;return t<0?-n:n}function ve(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Ia)-e.Ba;return t<0?-n:n}function we(t,e){if(null===t)return null;const i=be(t.$e(),e),n=be(t.qe(),e);return new It(i,n)}function _e(t,e){if(null===t)return null;const i=ve(t.$e(),e),n=ve(t.qe(),e);return new It(i,n)}function Se(t){if(null===t)return fe;const e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return fe;const i=Math.ceil(Math.abs(Math.log10(e))),n=fe.Ia+i;return{Ia:n,Ba:1/Math.pow(10,n)}}class xe{constructor(t,e){if(this.Ea=t,this.Aa=e,function(t){if(t<0)return!1;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Ea))this.za=[2,2.5,2];else{this.za=[];for(let t=this.Ea;1!==t;){if(t%2==0)this.za.push(2),t/=2;else{if(t%5!=0)throw new Error("unexpected base");this.za.push(2,2.5),t/=5}if(this.za.length>100)throw new Error("something wrong with base")}}}La(t,e,i){const n=0===this.Ea?0:1/this.Ea;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),s=0,o=this.Aa[0];for(;;){const t=ae(r,n,1e-14)&&r>n+1e-14,e=ae(r,i*o,1e-14),l=ae(r,1,1e-14);if(!(t&&e&&l))break;r/=o,o=this.Aa[++s%this.Aa.length]}if(r<=n+1e-14&&(r=n),r=Math.max(1,r),this.za.length>0&&(l=r,Math.abs(l-1)<1e-14))for(s=0,o=this.za[0];ae(r,i*o,1e-14)&&r>n+1e-14;)r/=o,o=this.za[++s%this.za.length];var l;return r}}class Me{constructor(t,e,i,n){this.Oa=[],this.Yi=t,this.Ea=e,this.Na=i,this.Fa=n}La(t,e){if(t<e)throw new Error("high < low");const i=this.Yi.$t(),n=(t-e)*this.Wa()/i,r=new xe(this.Ea,[2,2.5,2]),s=new xe(this.Ea,[2,2,2.5]),o=new xe(this.Ea,[2.5,2,2]),l=[];return l.push(r.La(t,e,n),s.La(t,e,n),o.La(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(l)}Ha(){const t=this.Yi,e=t.zt();if(null===e)return void(this.Oa=[]);const i=t.$t(),n=this.Na(i-1,e),r=this.Na(0,e),s=this.Yi.N().entireTextOnly?this.Ua()/2:0,o=s,l=i-1-s,a=Math.max(n,r),h=Math.min(n,r);if(a===h)return void(this.Oa=[]);const u=this.La(a,h);if(this.$a(e,u,a,h,o,l),t.qa()&&this.Ya(u,h,a)){const t=this.Yi.ja();this.Ka(e,u,o,l,t,2*t)}const c=this.Oa.map(t=>t.Xa),d=this.Yi.Za(c);for(let f=0;f<this.Oa.length;f++)this.Oa[f].Ga=d[f]}Va(){return this.Oa}Ua(){return this.Yi.P()}Wa(){return Math.ceil(2.5*this.Ua())}$a(t,e,i,n,r,s){const o=this.Oa,l=this.Yi;let a=i%e;a+=a<0?e:0;const h=i>=n?1:-1;let u=null,c=0;for(let d=i-a;d>n;d-=e){const i=this.Fa(d,t,!0);null!==u&&Math.abs(i-u)<this.Wa()||i<r||i>s||(c<o.length?(o[c].ka=i,o[c].Ga=l.Ja(d),o[c].Xa=d):o.push({ka:i,Ga:l.Ja(d),Xa:d}),c++,u=i,l.Qa()&&(e=this.La(d*h,n)))}o.length=c}Ka(t,e,i,n,r,s){const o=this.Oa,l=this.tl(t,i,r,s),a=this.tl(t,n,-s,-r),h=this.Fa(0,t,!0)-this.Fa(e,t,!0);o.length>0&&o[0].ka-l.ka<h/2&&o.shift(),o.length>0&&a.ka-o[o.length-1].ka<h/2&&o.pop(),o.unshift(l),o.push(a)}tl(t,e,i,n){const r=(i+n)/2,s=this.Na(e+i,t),o=this.Na(e+n,t),l=Math.min(s,o),a=Math.max(s,o),h=Math.max(.1,this.La(a,l)),u=this.Na(e+r,t),c=u-u%h,d=this.Fa(c,t,!0);return{Ga:this.Yi.Ja(c),ka:d,Xa:c}}Ya(t,e,i){let n=x(this.Yi.Qe());return this.Yi.Qa()&&(n=_e(n,this.Yi.il())),n.$e()-e<t&&i-n.qe()<t}}function ke(t){return t.slice().sort((t,e)=>S(t.hs())-S(e.hs()))}var Ce;!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Ce||(Ce={}));const Ie=new dt,Te=new ct(100,1);class Pe{constructor(t,e,i,n,r){this.sl=0,this.nl=null,this.Ge=null,this.el=null,this.rl={hl:!1,al:null},this.ll=!1,this.ol=0,this._l=0,this.ul=new M,this.cl=new M,this.dl=[],this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.wl=null,this.ha=Te,this.gl=Se(null),this.Ml=t,this.Ps=e,this.bl=i,this.Sl=n,this.xl=r,this.Cl=new Me(this,100,this.Pl.bind(this),this.kl.bind(this))}wa(){return this.Ml}N(){return this.Ps}hr(t){if(k(this.Ps,t),this.ga(),void 0!==t.mode&&this.yl({ie:t.mode}),void 0!==t.scaleMargins){const e=_(t.scaleMargins.top),i=_(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.Tl(),this.vl=null}}Rl(){return this.Ps.autoScale}Dl(){return this.ll}Qa(){return 1===this.Ps.mode}Le(){return 2===this.Ps.mode}Vl(){return 3===this.Ps.mode}il(){return this.gl}ie(){return{sn:this.Ps.autoScale,Il:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){const e=this.ie();let i=null;void 0!==t.sn&&(this.Ps.autoScale=t.sn),void 0!==t.ie&&(this.Ps.mode=t.ie,2!==t.ie&&3!==t.ie||(this.Ps.autoScale=!0),this.rl.hl=!1),1===e.ie&&t.ie!==e.ie&&(function(t,e){if(null===t)return!1;const i=ve(t.$e(),e),n=ve(t.qe(),e);return isFinite(i)&&isFinite(n)}(this.Ge,this.gl)?(i=_e(this.Ge,this.gl),null!==i&&this.Bl(i)):this.Ps.autoScale=!0),1===t.ie&&t.ie!==e.ie&&(i=we(this.Ge,this.gl),null!==i&&this.Bl(i));const n=e.ie!==this.Ps.mode;n&&(2===e.ie||this.Le())&&this.ga(),n&&(3===e.ie||this.Vl())&&this.ga(),void 0!==t.Il&&e.Il!==t.Il&&(this.Ps.invertScale=t.Il,this.El()),this.cl.p(e,this.ie())}Al(){return this.cl}P(){return this.bl.fontSize}$t(){return this.sl}zl(t){this.sl!==t&&(this.sl=t,this.Tl(),this.vl=null)}Ll(){if(this.nl)return this.nl;const t=this.$t()-this.Ol()-this.Nl();return this.nl=t,t}Qe(){return this.Fl(),this.Ge}Bl(t,e){const i=this.Ge;(e||null===i&&null!==t||null!==i&&!i.He(t))&&(this.vl=null,this.Ge=t)}Wl(t){this.Bl(t),this.Hl(null!==t)}Ki(){return this.Fl(),0===this.sl||!this.Ge||this.Ge.Ki()}Ul(t){return this.Il()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=pe(t,e):this.Vl()&&(t=ye(t,e)),this.kl(t,e)}$l(t,e,i){this.Fl();const n=this.Nl(),r=S(this.Qe()),s=r.$e(),o=r.qe(),l=this.Ll()-1,a=this.Il(),h=l/(o-s),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.ql();for(let f=u;f<c;f++){const i=t[f],r=i.gt;if(isNaN(r))continue;let o=r;null!==d&&(o=d(i.gt,e));const l=n+h*(o-s),u=a?l:this.sl-1-l;i.ut=u}}Yl(t,e,i){this.Fl();const n=this.Nl(),r=S(this.Qe()),s=r.$e(),o=r.qe(),l=this.Ll()-1,a=this.Il(),h=l/(o-s),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.ql();for(let f=u;f<c;f++){const i=t[f];let r=i.qh,o=i.Yh,l=i.jh,u=i.Kh;null!==d&&(r=d(i.qh,e),o=d(i.Yh,e),l=d(i.jh,e),u=d(i.Kh,e));let c=n+h*(r-s),p=a?c:this.sl-1-c;i.jl=p,c=n+h*(o-s),p=a?c:this.sl-1-c,i.Kl=p,c=n+h*(l-s),p=a?c:this.sl-1-c,i.Xl=p,c=n+h*(u-s),p=a?c:this.sl-1-c,i.Zl=p}}Ts(t,e){const i=this.Pl(t,e);return this.Gl(i,e)}Gl(t,e){let i=t;return this.Le()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.Vl()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i}ba(){return this.dl}Dt(){return this.pl||(this.pl=ke(this.dl)),this.pl}Jl(t){-1===this.dl.indexOf(t)&&(this.dl.push(t),this.ga(),this.Ql())}io(t){const e=this.dl.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this.dl.splice(e,1),0===this.dl.length&&(this.yl({sn:!0}),this.Bl(null)),this.ga(),this.Ql()}zt(){let t=null;for(const e of this.dl){const i=e.zt();null!==i&&(null===t||i.Hh<t.Hh)&&(t=i)}return null===t?null:t.Wt}Il(){return this.Ps.invertScale}Va(){const t=null===this.zt();if(null!==this.vl&&(t||this.vl.so===t))return this.vl.Va;this.Cl.Ha();const e=this.Cl.Va();return this.vl={Va:e,so:t},this.ul.p(),e}no(){return this.ul}eo(t){this.Le()||this.Vl()||null===this.ml&&null===this.el&&(this.Ki()||(this.ml=this.sl-t,this.el=S(this.Qe()).Ue()))}ro(t){if(this.Le()||this.Vl())return;if(null===this.ml)return;this.yl({sn:!1}),(t=this.sl-t)<0&&(t=0);let e=(this.ml+.2*(this.sl-1))/(t+.2*(this.sl-1));const i=S(this.el).Ue();e=Math.max(e,.1),i.je(e),this.Bl(i)}ho(){this.Le()||this.Vl()||(this.ml=null,this.el=null)}ao(t){this.Rl()||null===this.wl&&null===this.el&&(this.Ki()||(this.wl=t,this.el=S(this.Qe()).Ue()))}lo(t){if(this.Rl())return;if(null===this.wl)return;const e=S(this.Qe()).Ye()/(this.Ll()-1);let i=t-this.wl;this.Il()&&(i*=-1);const n=i*e,r=S(this.el).Ue();r.Ke(n),this.Bl(r,!0),this.vl=null}oo(){this.Rl()||null!==this.wl&&(this.wl=null,this.el=null)}ra(){return this.ha||this.ga(),this.ha}Zi(t,e){switch(this.Ps.mode){case 2:return this._o(pe(t,e));case 3:return this.ra().format(ye(t,e));default:return this.nr(t)}}Ja(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ra().format(t);default:return this.nr(t)}}Za(t){switch(this.Ps.mode){case 2:return this.uo(t);case 3:return this.ra().formatTickmarks(t);default:return this.co(t)}}Dh(t){return this.nr(t,S(this.fl).ra())}Vh(t,e){return t=pe(t,e),this._o(t,Ie)}do(){return this.dl}fo(t){this.rl={al:t,hl:!1}}Ns(){this.dl.forEach(t=>t.Ns())}qa(){return this.Ps.ensureEdgeTickMarksVisible&&this.Rl()}ja(){return this.P()/2}ga(){this.vl=null;let t=1/0;this.fl=null;for(const i of this.dl)i.hs()<t&&(t=i.hs(),this.fl=i);let e=100;null!==this.fl&&(e=Math.round(1/this.fl.ea())),this.ha=Te,this.Le()?(this.ha=Ie,e=100):this.Vl()?(this.ha=new ct(100,1),e=100):null!==this.fl&&(this.ha=this.fl.ra()),this.Cl=new Me(this,e,this.Pl.bind(this),this.kl.bind(this)),this.Cl.Ha()}Ql(){this.pl=null}Xi(){return this.xl}Hl(t){this.ll=t}Ol(){return this.Il()?this.Ps.scaleMargins.bottom*this.$t()+this._l:this.Ps.scaleMargins.top*this.$t()+this.ol}Nl(){return this.Il()?this.Ps.scaleMargins.top*this.$t()+this.ol:this.Ps.scaleMargins.bottom*this.$t()+this._l}Fl(){this.rl.hl||(this.rl.hl=!0,this.po())}Tl(){this.nl=null}kl(t,e){if(this.Fl(),this.Ki())return 0;t=this.Qa()&&t?be(t,this.gl):t;const i=S(this.Qe()),n=this.Nl()+(this.Ll()-1)*(t-i.$e())/i.Ye();return this.Ul(n)}Pl(t,e){if(this.Fl(),this.Ki())return 0;const i=this.Ul(t),n=S(this.Qe()),r=n.$e()+n.Ye()*((i-this.Nl())/(this.Ll()-1));return this.Qa()?ve(r,this.gl):r}El(){this.vl=null,this.Cl.Ha()}po(){if(this.Dl()&&!this.Rl())return;const t=this.rl.al;if(null===t)return;let e=null;const i=this.do();let n=0,r=0;for(const l of i){if(!l.Vt())continue;const i=l.zt();if(null===i)continue;const s=l.Mh(t.Uh(),t.bi());let o=s&&s.Qe();if(null!==o){switch(this.Ps.mode){case 1:o=we(o,this.gl);break;case 2:o=me(o,i.Wt);break;case 3:o=ge(o,i.Wt)}if(e=null===e?o:e.vn(S(o)),null!==s){const t=s.tr();null!==t&&(n=Math.max(n,t.above),r=Math.max(r,t.below))}}}if(this.qa()&&(n=Math.max(n,this.ja()),r=Math.max(r,this.ja())),n===this.ol&&r===this._l||(this.ol=n,this._l=r,this.vl=null,this.Tl()),null!==e){if(e.$e()===e.qe()){const t=this.fl,i=5*(null===t||this.Le()||this.Vl()?1:t.ea());this.Qa()&&(e=_e(e,this.gl)),e=new It(e.$e()-i,e.qe()+i),this.Qa()&&(e=we(e,this.gl))}if(this.Qa()){const t=_e(e,this.gl),i=Se(t);if(s=i,o=this.gl,s.Ia!==o.Ia||s.Ba!==o.Ba){const n=null!==this.el?_e(this.el,this.gl):null;this.gl=i,e=we(t,i),null!==n&&(this.el=we(n,i))}}this.Bl(e)}else null===this.Ge&&(this.Bl(new It(-.5,.5)),this.gl=Se(null));var s,o}ql(){return this.Le()?pe:this.Vl()?ye:this.Qa()?t=>be(t,this.gl):null}vo(t,e,i){return void 0===e?(void 0===i&&(i=this.ra()),i.format(t)):e(t)}mo(t,e,i){return void 0===e?(void 0===i&&(i=this.ra()),i.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.Sl.priceFormatter,e)}co(t,e){const i=this.Sl.priceFormatter;return this.mo(t,this.Sl.tickmarksPriceFormatter??(i?t=>t.map(i):void 0),e)}_o(t,e){return this.vo(t,this.Sl.percentageFormatter,e)}uo(t,e){const i=this.Sl.percentageFormatter;return this.mo(t,this.Sl.tickmarksPercentageFormatter??(i?t=>t.map(i):void 0),e)}}function Ee(t){return t instanceof ne}class De{constructor(t,e){this.dl=[],this.wo=new Map,this.sl=0,this.Mo=0,this.bo=1,this.pl=null,this.So=!1,this.xo=new M,this.kh=[],this.uh=t,this.ts=e,this.Co=new de(this);const i=e.N();this.Po=this.ko("left",i.leftPriceScale),this.yo=this.ko("right",i.rightPriceScale),this.Po.Al().i(this.To.bind(this,this.Po),this),this.yo.Al().i(this.To.bind(this,this.yo),this),this.Ro(i)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.yo.hr(t.rightPriceScale),t.localization&&(this.Po.ga(),this.yo.ga()),t.overlayPriceScales){const e=Array.from(this.wo.values());for(const i of e){const e=S(i[0].Ft());e.hr(t.overlayPriceScales),t.localization&&e.ga()}}}Do(t){switch(t){case"left":return this.Po;case"right":return this.yo}return this.wo.has(t)?_(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.Al().u(this),this.yo.Al().u(this),this.dl.forEach(t=>{t.m&&t.m()}),this.kh=this.kh.filter(t=>{const e=t.oh();return e.detached&&e.detached(),!1}),this.xo.p()}Io(){return this.bo}Bo(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.sl}Eo(t){this.Mo=t,this.Ao()}zl(t){this.sl=t,this.Po.zl(t),this.yo.zl(t),this.dl.forEach(e=>{if(this.Un(e)){const i=e.Ft();null!==i&&i.zl(t)}}),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.dl.filter(Ee)}ba(){return this.dl}Un(t){const e=t.Ft();return null===e||this.Po!==e&&this.yo!==e}Jl(t,e,i){this.No(t,e,i?t.hs():this.dl.length)}io(t,e){const i=this.dl.indexOf(t);w(-1!==i,"removeDataSource: invalid data source"),this.dl.splice(i,1),e||this.dl.forEach((t,e)=>t.ls(e));const n=S(t.Ft()).wa();if(this.wo.has(n)){const e=_(this.wo.get(n)),i=e.indexOf(t);-1!==i&&(e.splice(i,1),0===e.length&&this.wo.delete(n))}const r=t.Ft();r&&r.ba().indexOf(t)>=0&&(r.io(t),this.Fo(r)),this.pl=null}qn(t){return t===this.Po?"left":t===this.yo?"right":"overlay"}Wo(){return this.Po}Ho(){return this.yo}Uo(t,e){t.eo(e)}$o(t,e){t.ro(e),this.Ao()}qo(t){t.ho()}Yo(t,e){t.ao(e)}jo(t,e){t.lo(e),this.Ao()}Ko(t){t.oo()}Ao(){this.dl.forEach(t=>{t.Ns()})}ys(){let t=null;return this.ts.N().rightPriceScale.visible&&0!==this.yo.ba().length?t=this.yo:this.ts.N().leftPriceScale.visible&&0!==this.Po.ba().length?t=this.Po:0!==this.dl.length&&(t=this.dl[0].Ft()),null===t&&(t=this.yo),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.yo:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){null!==t&&t.Rl()&&this.Xo(t)}Zo(t){const e=this.uh.Pe();t.yl({sn:!0}),null!==e&&t.fo(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.yo)}Jo(){this.Fo(this.Po),this.Fo(this.yo),this.dl.forEach(t=>{this.Un(t)&&this.Fo(t.Ft())}),this.Ao(),this.ts.ar()}Dt(){return null===this.pl&&(this.pl=ke(this.dl)),this.pl}Qo(t,e){e=le(e,0,this.dl.length-1);const i=this.dl.indexOf(t);w(-1!==i,"setSeriesOrder: invalid data source"),this.dl.splice(i,1),this.dl.splice(e,0,t),this.dl.forEach((t,e)=>t.ls(e)),this.pl=null;for(const n of[this.Po,this.yo])n.Ql(),n.ga();this.ts.ar()}It(){return this.Dt().filter(Ee)}t_(){return this.xo}i_(){return this.Co}ua(t){this.kh.push(new $t(t))}ca(t){this.kh=this.kh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}s_(){return this.kh}sa(t,e){return this.kh.map(i=>i.jn(t,e)).filter(t=>null!==t)}Xo(t){const e=t.do();if(e&&e.length>0&&!this.uh.Ki()){const e=this.uh.Pe();null!==e&&t.fo(e)}t.Ns()}No(t,e,i){let n=this.Do(e);if(null===n&&(n=this.ko(e,this.ts.N().overlayPriceScales)),this.dl.splice(i,0,t),!lt(e)){const i=this.wo.get(e)||[];i.push(t),this.wo.set(e,i)}t.ls(i),n.Jl(t),t._s(n),this.Fo(n),this.pl=null}To(t,e,i){e.ie!==i.ie&&this.Xo(t)}ko(t,e){const i={visible:!0,autoScale:!0,...E(e)},n=new Pe(t,i,this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return n.zl(this.$t()),n}}function Ne(t){return{n_:t.n_,e_:{Kn:t.r_.externalId},h_:t.r_.cursorStyle}}function Be(t,e,i,n){for(const r of t){const t=r.Tt(n);if(null!==t&&t.jn){const n=t.jn(e,i);if(null!==n)return{a_:r,e_:n}}}return null}function Oe(t){return void 0!==t.Fs}function Fe(t,e,i){const n=[t,...t.Dt()],r=function(t,e,i){let n,r;for(const l of t){const t=l.sa?.(e,i)??[];for(const e of t)s=e.zOrder,o=n?.zOrder,(!o||"top"===s&&"top"!==o||"normal"===s&&"bottom"===o)&&(n=e,r=l)}var s,o;return n&&r?{r_:n,n_:r}:null}(n,e,i);if("top"===r?.r_.zOrder)return Ne(r);for(const s of n){if(r&&r.n_===s&&"bottom"!==r.r_.zOrder&&!r.r_.isBackground)return Ne(r);if(Oe(s)){const n=Be(s.Fs(t),e,i,t);if(null!==n)return{n_:s,a_:n.a_,e_:n.e_}}if(r&&r.n_===s&&"bottom"!==r.r_.zOrder&&r.r_.isBackground)return Ne(r)}return r?.r_?Ne(r):null}class Le{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;this.kn=0,this.yn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=i}__(t){const e=t.time,i=this.o_.cacheKey(e),n=this.Dn.get(i);if(void 0!==n)return n.u_;if(this.kn===this.Vn){const t=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(_(t)),this.Tn++,this.kn--}const r=this.l_(t);return this.Dn.set(i,{u_:r,An:this.yn}),this.Rn.set(this.yn,i),this.kn++,this.yn++,r}}class ze{constructor(t,e){w(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function Re(t,e){return null===t||null===e?t===e:t.He(e)}class Ae{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let i=e;i<t.length;++i){const e=t[i];let n=this.p_.get(e.timeWeight);void 0===n&&(n=[],this.p_.set(e.timeWeight,n)),n.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}M_(t,e,i,n,r){const s=Math.ceil(e/t);return null!==this.Dn&&this.Dn.b_===s&&r===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:r,x_:i,Va:this.C_(s,i,n),b_:s}),this.Dn.Va}g_(t){if(0===t)return void this.p_.clear();const e=[];this.p_.forEach((i,n)=>{t<=i[0].index?e.push(n):i.splice(Lt(i,t,e=>e.index<t),1/0)});for(const i of e)this.p_.delete(i)}C_(t,e,i){let n=[];const r=t=>!e||i.has(t.index);for(const s of Array.from(this.p_.keys()).sort((t,e)=>e-t)){if(!this.p_.get(s))continue;const e=n;n=[];const i=e.length;let o=0;const l=_(this.p_.get(s)),a=l.length;let h=1/0,u=-1/0;for(let s=0;s<a;s++){const a=l[s],c=a.index;for(;o<i;){const t=e[o],i=t.index;if(!(i<c&&r(t))){h=i;break}o++,n.push(t),u=i,h=1/0}if(h-c>=t&&c-u>=t&&r(a))n.push(a),u=c;else if(this.v_)return e}for(;o<i;o++)r(e[o])&&n.push(e[o])}return n}}class Ue{constructor(t){this.P_=t}k_(){return null===this.P_?null:new ze(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}y_(){return this.P_}static T_(){return new Ue(null)}}function Ve(t,e){return t.weight>e.weight?t:e}class Ye{constructor(t,e,i,n){this.Mo=0,this.R_=null,this.D_=[],this.wl=null,this.ml=null,this.V_=new Ae,this.I_=new Map,this.B_=Ue.T_(),this.E_=!0,this.A_=new M,this.z_=new M,this.L_=new M,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.Sl=i,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.o_=n,this.Y_(),this.V_.m_(e.uniformDistribution),this.j_()}N(){return this.Ps}K_(t){k(this.Sl,t),this.X_(),this.Y_()}hr(t,e){k(this.Ps,t),this.Ps.fixLeftEdge&&this.Z_(),this.Ps.fixRightEdge&&this.G_(),void 0!==t.barSpacing&&this.ts.dn(t.barSpacing),void 0!==t.rightOffset&&this.ts.fn(t.rightOffset),void 0===t.minBarSpacing&&void 0===t.maxBarSpacing||this.ts.dn(t.barSpacing??this.q_),void 0!==t.ignoreWhitespaceIndices&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.j_(),this.X_(),this.Y_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}J_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;const i=Lt(this.D_,this.o_.key(t),(t,e)=>this.o_.key(t.time)<e);return this.o_.key(t)<this.o_.key(this.D_[i].time)?e?i:null:i}Ki(){return 0===this.Mo||0===this.D_.length||null===this.R_}Q_(){return this.D_.length>0}Pe(){return this.tu(),this.B_.k_()}iu(){return this.tu(),this.B_.y_()}su(){const t=this.Pe();if(null===t)return null;const e={from:t.Uh(),to:t.bi()};return this.nu(e)}nu(t){const e=Math.round(t.from),i=Math.round(t.to),n=S(this.eu()),r=S(this.ru());return{from:S(this.ss(Math.max(n,e))),to:S(this.ss(Math.min(r,i)))}}hu(t){return{from:S(this.J_(t.from,!0)),to:S(this.J_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0)return;if(this.Mo===t)return;const e=this.iu(),i=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==i){const e=this.q_*t/i;this.q_=e}if(this.Ps.fixLeftEdge&&null!==e&&e.Uh()<=0){const e=i-t;this.U_-=Math.round(e/this.q_)+1,this.E_=!0}this.au(),this.lu()}qt(t){if(this.Ki()||!I(t))return 0;const e=this.ou()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}_u(t,e){const i=this.ou(),n=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let s=n;s<r;s++){const e=t[s].wt,n=i+this.U_-e,r=this.Mo-(n+.5)*this.q_-1;t[s]._t=r}}uu(t,e){const i=Math.ceil(this.cu(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.du(i)?this.fu(i):i}fn(t){this.E_=!0,this.U_=t,this.lu(),this.ts.pu(),this.ts.ar()}vu(){return this.q_}dn(t){this.mu(t),this.lu(),this.ts.pu(),this.ts.ar()}wu(){return this.U_}Va(){if(this.Ki())return null;if(null!==this.N_)return this.N_;const t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(e/t),n=S(this.Pe()),r=Math.max(n.Uh(),n.Uh()-i),s=Math.max(n.bi(),n.bi()-i),o=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),l=this.eu()+i,a=this.ru()-i,h=this.gu(),u=this.Ps.fixLeftEdge||h,c=this.Ps.fixRightEdge||h;let d=0;for(const f of o){if(!(r<=f.index&&f.index<=s))continue;let t;d<this.H_.length?(t=this.H_[d],t.coord=this.qt(f.index),t.label=this.Mu(f),t.weight=f.weight):(t={needAlignCoordinate:!1,coord:this.qt(f.index),label:this.Mu(f),weight:f.weight},this.H_.push(t)),this.q_>e/2&&!h?t.needAlignCoordinate=!1:t.needAlignCoordinate=u&&f.index<=l||c&&f.index>=a,d++}return this.H_.length=d,this.N_=this.H_,this.H_}bu(){this.E_=!0,this.dn(this.Ps.barSpacing),this.fn(this.Ps.rightOffset)}Su(t){this.E_=!0,this.R_=t,this.lu(),this.Z_()}xu(t,e){const i=this.cu(t),n=this.vu(),r=n+e*(n/10);this.dn(r),this.Ps.rightBarStaysOnScroll||this.fn(this.wu()+(i-this.cu(t)))}eo(t){this.wl&&this.oo(),null===this.ml&&null===this.O_&&(this.Ki()||(this.ml=t,this.Cu()))}ro(t){if(null===this.O_)return;const e=le(this.Mo-t,0,this.Mo),i=le(this.Mo-S(this.ml),0,this.Mo);0!==e&&0!==i&&this.dn(this.O_.vu*e/i)}ho(){null!==this.ml&&(this.ml=null,this.Pu())}ao(t){null===this.wl&&null===this.O_&&(this.Ki()||(this.wl=t,this.Cu()))}lo(t){if(null===this.wl)return;const e=(this.wl-t)/this.vu();this.U_=S(this.O_).wu+e,this.E_=!0,this.lu()}oo(){null!==this.wl&&(this.wl=null,this.Pu())}ku(){this.yu(this.Ps.rightOffset)}yu(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.U_,n=performance.now();this.ts._n({Tu:t=>(t-n)/e>=1,Ru:r=>{const s=(r-n)/e;return s>=1?t:i+(t-i)*s}})}kt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.lu()}Du(){return this.A_}Vu(){return this.z_}Iu(){return this.L_}ou(){return this.R_||0}Bu(t){const e=t.f_();this.mu(this.Mo/e),this.U_=t.bi()-this.ou(),this.lu(),this.E_=!0,this.ts.pu(),this.ts.ar()}Eu(){const t=this.eu(),e=this.ru();null!==t&&null!==e&&this.Bu(new ze(t,e+this.Ps.rightOffset))}Au(t){const e=new ze(t.from,t.to);this.Bu(e)}ns(t){return void 0!==this.Sl.timeFormatter?this.Sl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}j_(){if(!this.Ps.ignoreWhitespaceIndices)return;this.F_.clear();const t=this.ts.js();for(const e of t)for(const t of e.ma())this.F_.set(t,!0);this.W_++}gu(){const t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}eu(){return 0===this.D_.length?null:0}ru(){return 0===this.D_.length?null:this.D_.length-1}zu(t){return(this.Mo-1-t)/this.q_}cu(t){const e=this.zu(t),i=this.ou()+this.U_-e;return Math.round(1e6*i)/1e6}mu(t){const e=this.q_;this.q_=t,this.au(),e!==this.q_&&(this.E_=!0,this.Lu())}tu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Ou(Ue.T_());const t=this.ou(),e=this.Mo/this.q_,i=this.U_+t,n=new ze(i-e+1,i);this.Ou(new Ue(n))}au(){const t=le(this.q_,this.Nu(),this.Fu());this.q_!==t&&(this.q_=t,this.E_=!0)}Fu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Nu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.D_.length?this.Mo/this.D_.length:this.Ps.minBarSpacing}lu(){const t=this.Wu();null!==t&&this.U_<t&&(this.U_=t,this.E_=!0);const e=this.Hu();this.U_>e&&(this.U_=e,this.E_=!0)}Wu(){const t=this.eu(),e=this.R_;return null===t||null===e?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Hu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Cu(){this.O_={vu:this.vu(),wu:this.wu()}}Pu(){this.O_=null}Mu(t){let e=this.I_.get(t.weight);return void 0===e&&(e=new Le(t=>this.Uu(t),this.o_),this.I_.set(t.weight,e)),e.__(t)}Uu(t){return this.o_.formatTickmark(t,this.Sl)}Ou(t){const e=this.B_;this.B_=t,Re(e.k_(),this.B_.k_())||this.A_.p(),Re(e.y_(),this.B_.y_())||this.z_.p(),this.Lu()}Lu(){this.N_=null}X_(){this.Lu(),this.I_.clear()}Y_(){this.o_.updateFormatter(this.Sl)}Z_(){if(!this.Ps.fixLeftEdge)return;const t=this.eu();if(null===t)return;const e=this.Pe();if(null===e)return;const i=e.Uh()-t;if(i<0){const t=this.U_-i-1;this.fn(t)}this.au()}G_(){this.lu(),this.au()}du(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}fu(t){const e=function*(t){const e=Math.round(t),i=e<t;let n=1;for(;;)i?(yield e+n,yield e-n):(yield e-n,yield e+n),n++}(t),i=this.ru();for(;i;){const t=e.next().value;if(this.F_.get(t))return t;if(t<0||t>i)break}return t}}var je,We,$e,Qe,He;!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(je||(je={}));class Xe{constructor(t,e,i){this.$u=[],this.qu=[],this.Mo=0,this.Yu=null,this.ju=new M,this.Ku=new M,this.Xu=null,this.Zu=t,this.Ps=e,this.o_=i,this.xl=new R(this.Ps.layout.colorParsers),this.Gu=new F(this),this.uh=new Ye(this,e.timeScale,this.Ps.localization,i),this.Ct=new ot(this,e.crosshair),this.Ju=new oe(e.crosshair),e.addDefaultPane&&(this.Qu(0),this.$u[0].Bo(2)),this.tc=this.sc(0),this.nc=this.sc(1)}Bh(){this.ec(at.gn())}ar(){this.ec(at.wn())}Zh(){this.ec(new at(1))}Eh(t){const e=this.rc(t);this.ec(e)}hc(){return this.Yu}ac(t){if(this.Yu?.n_===t?.n_&&this.Yu?.e_?.Kn===t?.e_?.Kn)return;const e=this.Yu;this.Yu=t,null!==e&&this.Eh(e.n_),null!==t&&t.n_!==e?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){k(this.Ps,t),this.$u.forEach(e=>e.Ro(t)),void 0!==t.timeScale&&this.uh.hr(t.timeScale),void 0!==t.localization&&this.uh.K_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.ju.p(),this.tc=this.sc(0),this.nc=this.sc(1),this.Bh()}lc(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.$u[i];if(void 0===n)return;if("left"===t)return k(this.Ps,{leftPriceScale:e}),n.Ro({leftPriceScale:e}),this.ju.p(),void this.Bh();if("right"===t)return k(this.Ps,{rightPriceScale:e}),n.Ro({rightPriceScale:e}),this.ju.p(),void this.Bh();const r=this.oc(t,i);null!==r&&(r.Ft.hr(e),this.ju.p())}oc(t,e){const i=this.$u[e];if(void 0===i)return null;const n=i.Do(t);return null!==n?{Us:i,Ft:n}:null}Et(){return this.uh}$s(){return this.$u}_c(){return this.Ct}uc(){return this.Ku}cc(t,e){t.zl(e),this.pu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.$u.forEach(e=>e.Eo(t)),this.pu()}dc(t){1!==this.$u.length&&(w(t>=0&&t<this.$u.length,"Invalid pane index"),this.$u.splice(t,1),this.Bh())}fc(t,e){if(this.$u.length<2)return;w(t>=0&&t<this.$u.length,"Invalid pane index");const i=this.$u[t],n=this.$u.reduce((t,e)=>t+e.Io(),0),r=this.$u.reduce((t,e)=>t+e.$t(),0),s=r-30*(this.$u.length-1);e=Math.min(s,Math.max(30,e));const o=n/r,l=i.$t();i.Bo(e*o);let a=e-l,h=this.$u.length-1;for(const u of this.$u)if(u!==i){const t=Math.min(s,Math.max(30,u.$t()-a/h));a-=u.$t()-t,h-=1;const e=t*o;u.Bo(e)}this.Bh()}vc(t,e){w(t>=0&&t<this.$u.length&&e>=0&&e<this.$u.length,"Invalid pane index");const i=this.$u[t],n=this.$u[e];this.$u[t]=n,this.$u[e]=i,this.Bh()}mc(t,e){if(w(t>=0&&t<this.$u.length&&e>=0&&e<this.$u.length,"Invalid pane index"),t===e)return;const[i]=this.$u.splice(t,1);this.$u.splice(e,0,i),this.Bh()}Uo(t,e,i){t.Uo(e,i)}$o(t,e,i){t.$o(e,i),this.Ah(),this.ec(this.wc(t,2))}qo(t,e){t.qo(e),this.ec(this.wc(t,2))}Yo(t,e,i){e.Rl()||t.Yo(e,i)}jo(t,e,i){e.Rl()||(t.jo(e,i),this.Ah(),this.ec(this.wc(t,2)))}Ko(t,e){e.Rl()||(t.Ko(e),this.ec(this.wc(t,2)))}Zo(t,e){t.Zo(e),this.ec(this.wc(t,2))}gc(t){this.uh.eo(t)}Mc(t,e){const i=this.Et();if(i.Ki()||0===e)return;const n=i.Qi();t=Math.max(1,Math.min(t,n)),i.xu(t,e),this.pu()}bc(t){this.Sc(0),this.xc(t),this.Cc()}Pc(t){this.uh.ro(t),this.pu()}kc(){this.uh.ho(),this.ar()}Sc(t){this.uh.ao(t)}xc(t){this.uh.lo(t),this.pu()}Cc(){this.uh.oo(),this.ar()}js(){return this.qu}yc(t,e,i,n,r){this.Ct.Vs(t,e);let s=NaN,o=this.uh.uu(t,!0);const l=this.uh.Pe();null!==l&&(o=Math.min(Math.max(l.Uh(),o),l.bi()));const a=n.ys(),h=a.zt();if(null!==h&&(s=a.Ts(e,h)),s=this.Ju.Ma(s,o,n),this.Ct.As(o,s,n),this.Zh(),!r){const r=Fe(n,t,e);this.ac(r&&{n_:r.n_,e_:r.e_,h_:r.h_||null}),this.Ku.p(this.Ct.Bt(),{x:t,y:e},i)}}Tc(t,e,i){const n=i.ys(),r=n.zt(),s=n.Nt(t,S(r)),o=this.uh.J_(e,!0),l=this.uh.qt(S(o));this.yc(l,s,null,i,!0)}Rc(t){this._c().Ls(),this.Zh(),t||this.Ku.p(null,null,null)}Ah(){const t=this.Ct.Us();if(null!==t){const e=this.Ct.Bs(),i=this.Ct.Es();this.yc(e,i,null,t)}this.Ct.Ns()}Dc(t,e,i){const n=this.uh.Rs(0);void 0!==e&&void 0!==i&&this.uh.kt(e,i);const r=this.uh.Rs(0),s=this.uh.ou(),o=this.uh.Pe();if(null!==o&&null!==n&&null!==r){const e=o.Te(s),l=this.o_.key(n)>this.o_.key(r),a=null!==t&&t>s&&!l,h=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(!(void 0===i)||h)&&this.uh.N().shiftVisibleRangeOnNewBar;if(a&&!u){const e=t-s;this.uh.fn(this.uh.wu()-e)}}this.uh.Su(t)}Lh(t){null!==t&&t.Jo()}Hn(t){if(function(t){return t instanceof De}(t))return t;const e=this.$u.find(e=>e.Dt().includes(t));return void 0===e?null:e}pu(){this.$u.forEach(t=>t.Jo()),this.Ah()}m(){this.$u.forEach(t=>t.m()),this.$u.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Vc(){return this.Gu}Yn(){return this.Gu.N()}Vo(){return this.ju}Ic(t,e){const i=this.Qu(e);this.Bc(t,i),this.qu.push(t),1===this.qu.length?this.Bh():this.ar()}Ec(t){const e=this.Hn(t),i=this.qu.indexOf(t);w(-1!==i,"Series not found");const n=S(e);this.qu.splice(i,1),n.io(t),t.m&&t.m(),this.uh.j_(),this.Ac(n)}Ih(t,e){const i=S(this.Hn(t));i.io(t,!0),i.Jl(t,e,!0)}Eu(){const t=at.wn();t.rn(),this.ec(t)}zc(t){const e=at.wn();e.ln(t),this.ec(e)}cn(){const t=at.wn();t.cn(),this.ec(t)}dn(t){const e=at.wn();e.dn(t),this.ec(e)}fn(t){const e=at.wn();e.fn(t),this.ec(e)}_n(t){const e=at.wn();e._n(t),this.ec(e)}hn(){const t=at.wn();t.hn(),this.ec(t)}Lc(){return this.Ps.rightPriceScale.visible?"right":"left"}Oc(t,e){if(w(e>=0,"Index should be greater or equal to 0"),e===this.Nc(t))return;const i=S(this.Hn(t));i.io(t);const n=this.Qu(e);this.Bc(t,n),0===i.ba().length&&this.Ac(i),this.Bh()}Fc(){return this.nc}$(){return this.tc}Ut(t){const e=this.nc,i=this.tc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Xu||this.Xu.mr!==i||this.Xu.wr!==e)this.Xu={mr:i,wr:e,Wc:new Map};else{const e=this.Xu.Wc.get(t);if(void 0!==e)return e}const n=this.xl.tt(i,e,t/100);return this.Xu.Wc.set(t,n),n}Hc(t){return this.$u.indexOf(t)}Xi(){return this.xl}Uc(){return this.$c()}$c(t){const e=new De(this.uh,this);this.$u.push(e);const i=t??this.$u.length-1,n=at.gn();return n.Qs(i,{tn:0,sn:!0}),this.ec(n),e}Qu(t){return w(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.$u.length,t))<this.$u.length?this.$u[t]:this.$c(t)}Nc(t){return this.$u.findIndex(e=>e.Oo().includes(t))}wc(t,e){const i=new at(e);if(null!==t){const n=this.$u.indexOf(t);i.Qs(n,{tn:e})}return i}rc(t,e){return void 0===e&&(e=2),this.wc(this.Hn(t),e)}ec(t){this.Zu&&this.Zu(t),this.$u.forEach(t=>t.i_().lr().kt())}Bc(t,e){const i=t.N().priceScaleId,n=void 0!==i?i:this.Lc();e.Jl(t,n),lt(n)||t.hr(t.N())}sc(t){const e=this.Ps.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}Ac(t){!t.Lo()&&0===t.ba().length&&this.$u.length>1&&this.$u.splice(this.Hc(t),1)}}function qe(t){return!C(t)&&!T(t)}function Ke(t){return C(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(We||(We={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}($e||($e={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(Qe||(Qe={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(He||(He={}));const Ge=t=>t.getUTCFullYear();class Ze{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yyyy-MM-dd",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this.qc=t,this.Yc=e}__(t){return function(t,e,i){return e.replace(/yyyy/g,(t=>ut(Ge(t),4))(t)).replace(/yy/g,(t=>ut(Ge(t)%100,2))(t)).replace(/MMMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"long"}))(t,i)).replace(/MMM/g,((t,e)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"}))(t,i)).replace(/MM/g,(t=>ut((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>ut((t=>t.getUTCDate())(t),2))(t))}(t,this.qc,this.Yc)}}class Je{constructor(t){this.jc=t||"%h:%m:%s"}__(t){return this.jc.replace("%h",ut(t.getUTCHours(),2)).replace("%m",ut(t.getUTCMinutes(),2)).replace("%s",ut(t.getUTCSeconds(),2))}}const ti={Kc:"yyyy-MM-dd",Xc:"%h:%m:%s",Zc:" ",Gc:"default"};class ei{constructor(){const t={...ti,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};this.Jc=new Ze(t.Kc,t.Gc),this.Qc=new Je(t.Xc),this.td=t.Zc}__(t){return`${this.Jc.__(t)}${this.td}${this.Qc.__(t)}`}}function ii(t){return 60*t*60*1e3}function ni(t){return 60*t*1e3}const ri=[{sd:1e3,nd:10},{sd:ni(1),nd:20},{sd:ni(5),nd:21},{sd:ni(30),nd:22},{sd:ii(1),nd:30},{sd:ii(3),nd:31},{sd:ii(6),nd:32},{sd:ii(12),nd:33}];function si(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=ri.length-1;i>=0;--i)if(Math.floor(e.getTime()/ri[i].sd)!==Math.floor(t.getTime()/ri[i].sd))return ri[i].nd;return 0}function oi(t){let e=t;if(T(t)&&(e=ai(t)),!qe(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{ed:Math.round(i.getTime()/1e3),rd:e}}function li(t){if(!Ke(t))throw new Error("time must be of type isUTCTimestamp");return{ed:t}}function ai(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function hi(t){T(t.time)&&(t.time=ai(t.time))}class ui{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(hi)}(t):hi(t)}createConverterToInternalObj(t){return S(function(t){return 0===t.length?null:qe(t[0].time)||T(t[0].time)?oi:li}(t))}key(t){return"object"==typeof t&&"ed"in t?t.ed:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return void 0===e.rd?new Date(1e3*e.ed).getTime():new Date(Date.UTC(e.rd.year,e.rd.month-1,e.rd.day)).getTime()}convertHorzItemToInternal(t){return Ke(e=t)?li(e):qe(e)?oi(e):oi(ai(e));var e}updateFormatter(t){if(!this.Ps)return;const e=t.dateFormat;this.Ps.timeScale.timeVisible?this.hd=new ei({Kc:e,Xc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Zc:"   ",Gc:t.locale}):this.hd=new Ze(e,t.locale)}formatHorzItem(t){const e=t;return this.hd.__(new Date(1e3*e.ed))}formatTickmark(t,e){const i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),n=this.Ps.timeScale;if(void 0!==n.tickMarkFormatter){const r=n.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){const n={};switch(e){case 0:n.year="numeric";break;case 1:n.month="short";break;case 2:n.day="numeric";break;case 3:n.hour12=!1,n.hour="2-digit",n.minute="2-digit";break;case 4:n.hour12=!1,n.hour="2-digit",n.minute="2-digit",n.second="2-digit"}const r=void 0===t.rd?new Date(1e3*t.ed):new Date(Date.UTC(t.rd.year,t.rd.month-1,t.rd.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,n)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(Ve,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t.length)return;let i=0===e?null:t[e-1].time.ed,n=null!==i?new Date(1e3*i):null,r=0;for(let s=e;s<t.length;++s){const e=t[s],o=new Date(1e3*e.time.ed);null!==n&&(e.timeWeight=si(o,n)),r+=e.time.ed-(i||e.time.ed),i=e.time.ed,n=o}if(0===e&&t.length>1){const e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.ed-e));t[0].timeWeight=si(new Date(1e3*t[0].time.ed),i)}}(t,e)}static ad(t){return k({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ci="undefined"!=typeof window;function di(){return!!ci&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function fi(){return!!ci&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function pi(t){return t+t%2}class mi{constructor(t,e,i){this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.pd=null,this.vd=!1,this.md=null,this.wd=null,this.gd=!1,this.Md=!1,this.bd=!1,this.Sd=null,this.xd=null,this.Cd=null,this.Pd=null,this.kd=null,this.yd=null,this.Td=null,this.Rd=0,this.Dd=!1,this.Vd=!1,this.Id=!1,this.Bd=0,this.Ed=null,this.Ad=!fi(),this.zd=t=>{this.Ld(t)},this.Od=t=>{if(this.Nd(t)){const e=this.Fd(t);if(++this.ud,this.dd&&this.ud>1){const{Wd:i}=this.Hd(bi(t),this.fd);i<30&&!this.bd&&this.Ud(e,this.qd.$d),this.Yd()}}else{const e=this.Fd(t);if(++this.ld,this.od&&this.ld>1){const{Wd:i}=this.Hd(bi(t),this._d);i<5&&!this.Md&&this.jd(e,this.qd.Kd),this.Xd()}}},this.Zd=t,this.qd=e,this.Ps=i,this.Gd()}m(){null!==this.Sd&&(this.Sd(),this.Sd=null),null!==this.xd&&(this.xd(),this.xd=null),null!==this.Pd&&(this.Pd(),this.Pd=null),null!==this.kd&&(this.kd(),this.kd=null),null!==this.yd&&(this.yd(),this.yd=null),null!==this.Cd&&(this.Cd(),this.Cd=null),this.Jd(),this.Xd()}Qd(t){this.Pd&&this.Pd();const e=this.tf.bind(this);if(this.Pd=()=>{this.Zd.removeEventListener("mousemove",e)},this.Zd.addEventListener("mousemove",e),this.Nd(t))return;const i=this.Fd(t);this.jd(i,this.qd.if),this.Ad=!0}Xd(){null!==this.od&&clearTimeout(this.od),this.ld=0,this.od=null,this._d={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Yd(){null!==this.dd&&clearTimeout(this.dd),this.ud=0,this.dd=null,this.fd={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}tf(t){if(this.Id||null!==this.wd)return;if(this.Nd(t))return;const e=this.Fd(t);this.jd(e,this.qd.sf),this.Ad=!0}nf(t){const e=wi(t.changedTouches,S(this.Ed));if(null===e)return;if(this.Bd=vi(t),null!==this.Td)return;if(this.Vd)return;this.Dd=!0;const i=this.Hd(bi(e),S(this.wd)),{ef:n,rf:r,Wd:s}=i;if(this.gd||!(s<5)){if(!this.gd){const t=.5*n,e=r>=t&&!this.Ps.hf(),i=t>r&&!this.Ps.af();e||i||(this.Vd=!0),this.gd=!0,this.bd=!0,this.Jd(),this.Yd()}if(!this.Vd){const i=this.Fd(t,e);this.Ud(i,this.qd.lf),gi(t)}}}_f(t){if(0!==t.button)return;const e=this.Hd(bi(t),S(this.md)),{Wd:i}=e;if(i>=5&&(this.Md=!0,this.Xd()),this.Md){const e=this.Fd(t);this.jd(e,this.qd.uf)}}Hd(t,e){const i=Math.abs(e._t-t._t),n=Math.abs(e.ut-t.ut);return{ef:i,rf:n,Wd:i+n}}cf(t){let e=wi(t.changedTouches,S(this.Ed));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Ed=null,this.Bd=vi(t),this.Jd(),this.wd=null,this.yd&&(this.yd(),this.yd=null);const i=this.Fd(t,e);if(this.Ud(i,this.qd.df),++this.ud,this.dd&&this.ud>1){const{Wd:t}=this.Hd(bi(e),this.fd);t<30&&!this.bd&&this.Ud(i,this.qd.$d),this.Yd()}else this.bd||(this.Ud(i,this.qd.ff),this.qd.ff&&gi(t));0===this.ud&&gi(t),0===t.touches.length&&this.vd&&(this.vd=!1,gi(t))}Ld(t){if(0!==t.button)return;const e=this.Fd(t);if(this.md=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),di()&&this.Zd.ownerDocument.documentElement.removeEventListener("mouseleave",this.zd),!this.Nd(t))if(this.jd(e,this.qd.pf),++this.ld,this.od&&this.ld>1){const{Wd:i}=this.Hd(bi(t),this._d);i<5&&!this.Md&&this.jd(e,this.qd.Kd),this.Xd()}else this.Md||this.jd(e,this.qd.vf)}Jd(){null!==this.pd&&(clearTimeout(this.pd),this.pd=null)}mf(t){if(null!==this.Ed)return;const e=t.changedTouches[0];this.Ed=e.identifier,this.Bd=vi(t);const i=this.Zd.ownerDocument.documentElement;this.bd=!1,this.gd=!1,this.Vd=!1,this.wd=bi(e),this.yd&&(this.yd(),this.yd=null);{const e=this.nf.bind(this),n=this.cf.bind(this);this.yd=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",n,{passive:!1}),this.Jd(),this.pd=setTimeout(this.wf.bind(this,t),240)}const n=this.Fd(t,e);this.Ud(n,this.qd.gf),this.dd||(this.ud=0,this.dd=setTimeout(this.Yd.bind(this),500),this.fd=bi(e))}Mf(t){if(0!==t.button)return;const e=this.Zd.ownerDocument.documentElement;di()&&e.addEventListener("mouseleave",this.zd),this.Md=!1,this.md=bi(t),this.kd&&(this.kd(),this.kd=null);{const t=this._f.bind(this),i=this.Ld.bind(this);this.kd=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.Id=!0,this.Nd(t))return;const i=this.Fd(t);this.jd(i,this.qd.bf),this.od||(this.ld=0,this.od=setTimeout(this.Xd.bind(this),500),this._d=bi(t))}Gd(){this.Zd.addEventListener("mouseenter",this.Qd.bind(this)),this.Zd.addEventListener("touchcancel",this.Jd.bind(this));{const t=this.Zd.ownerDocument,e=t=>{this.qd.Sf&&(t.composed&&this.Zd.contains(t.composedPath()[0])||t.target&&this.Zd.contains(t.target)||this.qd.Sf())};this.xd=()=>{t.removeEventListener("touchstart",e)},this.Sd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}fi()&&(this.Cd=()=>{this.Zd.removeEventListener("dblclick",this.Od)},this.Zd.addEventListener("dblclick",this.Od)),this.Zd.addEventListener("mouseleave",this.xf.bind(this)),this.Zd.addEventListener("touchstart",this.mf.bind(this),{passive:!0}),function(t){ci&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1})}(this.Zd),this.Zd.addEventListener("mousedown",this.Mf.bind(this)),this.Cf(),this.Zd.addEventListener("touchmove",()=>{},{passive:!1})}Cf(){void 0===this.qd.Pf&&void 0===this.qd.kf&&void 0===this.qd.yf||(this.Zd.addEventListener("touchstart",t=>this.Tf(t.touches),{passive:!0}),this.Zd.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.Td&&void 0!==this.qd.kf){const e=yi(t.touches[0],t.touches[1])/this.Rd;this.qd.kf(this.Td,e),gi(t)}},{passive:!1}),this.Zd.addEventListener("touchend",t=>{this.Tf(t.touches)}))}Tf(t){1===t.length&&(this.Dd=!1),2!==t.length||this.Dd||this.vd?this.Rf():this.Df(t)}Df(t){const e=this.Zd.getBoundingClientRect()||{left:0,top:0};this.Td={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Rd=yi(t[0],t[1]),void 0!==this.qd.Pf&&this.qd.Pf(),this.Jd()}Rf(){null!==this.Td&&(this.Td=null,void 0!==this.qd.yf&&this.qd.yf())}xf(t){if(this.Pd&&this.Pd(),this.Nd(t))return;if(!this.Ad)return;const e=this.Fd(t);this.jd(e,this.qd.Vf),this.Ad=!fi()}wf(t){const e=wi(t.touches,S(this.Ed));if(null===e)return;const i=this.Fd(t,e);this.Ud(i,this.qd.If),this.bd=!0,this.vd=!0}Nd(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:vi(t)<this.Bd+500}Ud(t,e){e&&e.call(this.qd,t)}jd(t,e){e&&e.call(this.qd,t)}Fd(t,e){const i=e||t,n=this.Zd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-n.left,localY:i.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Bf:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Ef:t.type,Af:i.target,a_:t.view,zf:()=>{"touchstart"!==t.type&&gi(t)}}}}function yi(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function gi(t){t.cancelable&&t.preventDefault()}function bi(t){return{_t:t.pageX,ut:t.pageY}}function vi(t){return t.timeStamp||performance.now()}function wi(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class _i{constructor(t,e,i){this.Lf=null,this.Of=null,this.Nf=!0,this.Ff=null,this.Wf=t,this.Hf=t.Uf()[e],this.$f=t.Uf()[i],this.qf=document.createElement("tr"),this.qf.style.height="1px",this.Yf=document.createElement("td"),this.Yf.style.position="relative",this.Yf.style.padding="0",this.Yf.style.margin="0",this.Yf.setAttribute("colspan","3"),this.jf(),this.qf.appendChild(this.Yf),this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(this.Lf=null,this.Of=null)}m(){null!==this.Of&&this.Of.m()}Xf(){return this.qf}Zf(){return l({width:this.Hf.Zf().width,height:1})}Gf(){return l({width:this.Hf.Gf().width,height:1*window.devicePixelRatio})}Jf(t,e,i){const n=this.Gf();t.fillStyle=this.Wf.N().layout.panes.separatorColor,t.fillRect(e,i,n.width,n.height)}kt(){this.jf(),this.Wf.N().layout.panes.enableResize!==this.Nf&&(this.Nf=this.Wf.N().layout.panes.enableResize,this.Nf?this.Kf():(null!==this.Lf&&(this.Yf.removeChild(this.Lf.Qf),this.Yf.removeChild(this.Lf.tp),this.Lf=null),null!==this.Of&&(this.Of.m(),this.Of=null)))}Kf(){const t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.Yf.appendChild(t);const i=document.createElement("div"),n=i.style;n.position="absolute",n.zIndex="50",n.top="-4px",n.height="9px",n.width="100%",n.backgroundColor="",n.cursor="row-resize",this.Yf.appendChild(i);const r={if:this.ip.bind(this),Vf:this.sp.bind(this),bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this)};this.Of=new mi(i,r,{hf:()=>!1,af:()=>!0}),this.Lf={tp:i,Qf:t}}jf(){this.Yf.style.background=this.Wf.N().layout.panes.separatorColor}ip(t){null!==this.Lf&&(this.Lf.tp.style.backgroundColor=this.Wf.N().layout.panes.separatorHoverColor)}sp(t){null!==this.Lf&&null===this.Ff&&(this.Lf.tp.style.backgroundColor="")}np(t){if(null===this.Lf)return;const e=this.Hf.hp().Io()+this.$f.hp().Io(),i=e/(this.Hf.Zf().height+this.$f.Zf().height),n=30*i;e<=2*n||(this.Ff={ap:t.pageY,lp:this.Hf.hp().Io(),op:e-n,_p:e,up:i,cp:n},this.Lf.Qf.style.display="block")}ep(t){const e=this.Ff;if(null===e)return;const i=(t.pageY-e.ap)*e.up,n=le(e.lp+i,e.cp,e.op);this.Hf.hp().Bo(n),this.$f.hp().Bo(e._p-n),this.Wf.Qt().Bh()}rp(t){null!==this.Ff&&null!==this.Lf&&(this.Ff=null,this.Lf.Qf.style.display="none")}}function Si(t,e){return t.dp-e.dp}function xi(t,e,i){const n=(t.dp-e.dp)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class Mi{constructor(t,e,i,n){this.fp=null,this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=0,this.Mp=0,this.bp=t,this.Sp=e,this.xp=i,this.Mn=n}Cp(t,e){if(null!==this.fp){if(this.fp.wt===e)return void(this.fp.dp=t);if(Math.abs(this.fp.dp-t)<this.Mn)return}this.mp=this.vp,this.vp=this.pp,this.pp=this.fp,this.fp={wt:e,dp:t}}le(t,e){if(null===this.fp||null===this.pp)return;if(e-this.fp.wt>50)return;let i=0;const n=xi(this.fp,this.pp,this.Sp),r=Si(this.fp,this.pp),s=[n],o=[r];if(i+=r,null!==this.vp){const t=xi(this.pp,this.vp,this.Sp);if(Math.sign(t)===Math.sign(n)){const e=Si(this.pp,this.vp);if(s.push(t),o.push(e),i+=e,null!==this.mp){const t=xi(this.vp,this.mp,this.Sp);if(Math.sign(t)===Math.sign(n)){const e=Si(this.vp,this.mp);s.push(t),o.push(e),i+=e}}}}let l=0;for(let a=0;a<s.length;++a)l+=o[a]/i*s[a];Math.abs(l)<this.bp||(this.wp={dp:t,wt:e},this.Mp=l,this.gp=function(t,e){const i=Math.log(e);return Math.log(1*i/-t)/i}(Math.abs(l),this.xp))}Ru(t){const e=S(this.wp),i=t-e.wt;return e.dp+this.Mp*(Math.pow(this.xp,i)-1)/Math.log(this.xp)}Tu(t){return null===this.wp||this.Pp(t)===this.gp}Pp(t){const e=t-S(this.wp).wt;return Math.min(e,this.gp)}}class ki{constructor(t,e){this.kp=void 0,this.yp=void 0,this.Tp=void 0,this.ps=!1,this.Rp=t,this.Dp=e,this.Vp()}kt(){this.Vp()}Ip(){this.kp&&this.Rp.removeChild(this.kp),this.yp&&this.Rp.removeChild(this.yp),this.kp=void 0,this.yp=void 0}Bp(){return this.ps!==this.Ep()||this.Tp!==this.Ap()}Ap(){return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor)>160?"dark":"light"}Ep(){return this.Dp.N().layout.attributionLogo}zp(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Vp(){this.Bp()&&(this.Ip(),this.ps=this.Ep(),this.ps&&(this.Tp=this.Ap(),this.yp=document.createElement("style"),this.yp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.zp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark","dark"===this.Tp),this.Rp.appendChild(this.yp),this.Rp.appendChild(this.kp)))}}function Ci(t,e){const i=S(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=function(t,e){if("device-pixel-content-box"===e.type)return new u(t,e.transform,e.options);throw new Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return n.resizeCanvasElement(e),n}function Ii(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function Ti(t,e,i,n){t.ih&&t.ih(e,i,n)}function Pi(t,e,i,n){t.nt(e,i,n)}function Ei(t,e,i,n){const r=t(i,n);for(const s of r){const t=s.Tt(n);null!==t&&e(t)}}function Di(t,e){return i=>function(t){return void 0!==t.Ft}(i)?(i.Ft()?.wa()??"")!==e?[]:i.ta?.(t)??[]:[]}function Ni(t,e,i,n){if(!t.length)return;let r=0;const s=t[0].$t(n,!0);let o=1===e?i/2-(t[0].Fi()-s/2):t[0].Fi()-s/2-i/2;o=Math.max(0,o);for(let l=1;l<t.length;l++){const s=t[l],a=t[l-1],h=a.$t(n,!1),u=s.Fi(),c=a.Fi();if(1===e?u>c-h:u<c+h){const n=c-h*e;s.Wi(n);const l=n-e*h/2;if((1===e?l<0:l>i)&&o>0){const n=1===e?-1-l:l-i,s=Math.min(n,o);for(let i=r;i<t.length;i++)t[i].Wi(t[i].Fi()+e*s);o-=s}}else r=l,o=1===e?c-h-u:u-(c+h)}}class Bi{constructor(t,e,i,n){this.Yi=null,this.Lp=null,this.Op=!1,this.Np=new mt(200),this.Fp=null,this.Wp=0,this.Hp=!1,this.Up=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.qp=()=>{this.Hp||this.Pt.$p().Qt().ar()},this.Pt=t,this.Ps=e,this.bl=e.layout,this.Gu=i,this.Yp="left"===n,this.jp=Di("normal",n),this.Kp=Di("top",n),this.Xp=Di("bottom",n),this.Yf=document.createElement("div"),this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Yf.style.width="25px",this.Yf.style.left="0",this.Yf.style.position="relative",this.Zp=Ci(this.Yf,l({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const r=this.Zp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Gp=Ci(this.Yf,l({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const s=this.Gp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";const o={bf:this.np.bind(this),gf:this.np.bind(this),uf:this.ep.bind(this),lf:this.ep.bind(this),Sf:this.Jp.bind(this),pf:this.rp.bind(this),df:this.rp.bind(this),Kd:this.Qp.bind(this),$d:this.Qp.bind(this),if:this.tv.bind(this),Vf:this.sp.bind(this)};this.Of=new mi(this.Gp.canvasElement,o,{hf:()=>!this.Ps.handleScroll.vertTouchDrag,af:()=>!0})}m(){this.Of.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ii(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ii(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Yi&&this.Yi.no().u(this),this.Yi=null}Xf(){return this.Yf}P(){return this.bl.fontSize}iv(){const t=this.Gu.N();return this.Fp!==t.k&&(this.Np.In(),this.Fp=t.k),t}sv(){if(null===this.Yi)return 0;let t=0;const e=this.iv(),i=S(this.Zp.canvasElement.getContext("2d",{colorSpace:this.Pt.$p().N().layout.colorSpace}));i.save();const n=this.Yi.Va();i.font=this.nv(),n.length>0&&(t=Math.max(this.Np.Vi(i,n[0].Ga),this.Np.Vi(i,n[n.length-1].Ga)));const r=this.ev();for(let a=r.length;a--;){const e=this.Np.Vi(i,r[a].ri());e>t&&(t=e)}const s=this.Yi.zt();if(null!==s&&null!==this.Lp&&2!==(o=this.Ps.crosshair).mode&&o.horzLine.visible&&o.horzLine.labelVisible){const e=this.Yi.Ts(1,s),n=this.Yi.Ts(this.Lp.height-2,s);t=Math.max(t,this.Np.Vi(i,this.Yi.Zi(Math.floor(Math.min(e,n))+.11111111111111,s)),this.Np.Vi(i,this.Yi.Zi(Math.ceil(Math.max(e,n))-.11111111111111,s)))}var o;i.restore();const l=t||34;return pi(Math.ceil(e.S+e.C+e.I+e.B+5+l))}rv(t){null!==this.Lp&&a(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`)}hv(){return S(this.Lp).width}_s(t){this.Yi!==t&&(null!==this.Yi&&this.Yi.no().u(this),this.Yi=t,t.no().i(this.ul.bind(this),this))}Ft(){return this.Yi}In(){const t=this.Pt.hp();this.Pt.$p().Qt().Zo(t,S(this.Ft()))}av(t){if(null===this.Lp)return;const e={colorSpace:this.Pt.$p().N().layout.colorSpace};if(1!==t){this.lv(),this.Zp.applySuggestedBitmapSize();const t=f(this.Zp,e);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.ov(t),this._v(t)}),this.Pt.uv(t,this.Xp),this.cv(t),this.Pt.uv(t,this.jp),this.dv(t))}this.Gp.applySuggestedBitmapSize();const i=f(this.Gp,e);null!==i&&(i.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.fv(i),this.Pt.uv(i,this.Kp))}Gf(){return this.Zp.bitmapSize}Jf(t,e,i){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,i)}kt(){this.Yi?.Va()}np(t){if(null===this.Yi||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),i=this.Pt.hp();this.Op=!0,e.Uo(i,this.Yi,t.localY)}ep(t){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),i=this.Pt.hp(),n=this.Yi;e.$o(i,n,t.localY)}Jp(){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.Pt.$p().Qt(),e=this.Pt.hp(),i=this.Yi;this.Op&&(this.Op=!1,t.qo(e,i))}rp(t){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.Pt.$p().Qt(),i=this.Pt.hp();this.Op=!1,e.qo(i,this.Yi)}Qp(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.In()}tv(t){null!==this.Yi&&(!this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Vl()||this.pv(1))}sp(t){this.pv(0)}ev(){const t=[],e=null===this.Yi?void 0:this.Yi;return(i=>{for(let n=0;n<i.length;++n){const r=i[n].Ws(this.Pt.hp(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.Pt.hp().Dt()),t}ov(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.Pt.hp().Qt(),o=s.$(),l=s.Fc();o===l?X(e,0,0,n,r,o):G(e,0,0,n,r,o,l)}_v(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n}=t;if(null===this.Lp||null===this.Yi||!this.Yi.N().borderVisible)return;e.fillStyle=this.Yi.N().borderColor;const r=Math.max(1,Math.floor(this.iv().S*n));let s;s=this.Yp?i.width-r:0,e.fillRect(s,0,r,i.height)}cv(t){if(null===this.Lp||null===this.Yi)return;const e=this.Yi.Va(),i=this.Yi.N(),n=this.iv(),r=this.Yp?this.Lp.width-n.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=t;s.fillStyle=i.borderColor;const a=Math.max(1,Math.floor(l)),h=Math.floor(.5*l),u=Math.round(n.C*o);s.beginPath();for(const i of e)s.rect(Math.floor(r*o),Math.round(i.ka*l)-h,u,a);s.fill()}),t.useMediaCoordinateSpace(t=>{let{context:s}=t;s.font=this.nv(),s.fillStyle=i.textColor??this.bl.textColor,s.textAlign=this.Yp?"right":"left",s.textBaseline="middle";const o=this.Yp?Math.round(r-n.I):Math.round(r+n.C+n.I),l=e.map(t=>this.Np.Di(s,t.Ga));for(let i=e.length;i--;){const t=e[i];s.fillText(t.Ga,o,t.ka+l[i])}})}lv(){if(null===this.Lp||null===this.Yi)return;let t=this.Lp.height/2;const e=[],i=this.Yi.Dt().slice(),n=this.Pt.hp(),r=this.iv();this.Yi===n.$n()&&this.Pt.hp().Dt().forEach(t=>{n.Un(t)&&i.push(t)});const s=this.Yi.ba()[0],o=this.Yi;i.forEach(i=>{const r=i.Ws(n,o);r.forEach(t=>{t.Wi(null),t.Hi()&&e.push(t)}),s===i&&r.length>0&&(t=r[0].Bi())}),e.forEach(t=>t.Wi(t.Bi())),this.Yi.N().alignLabels&&this.vv(e,r,t)}vv(t,e,i){if(null===this.Lp)return;const n=t.filter(t=>t.Bi()<=i),r=t.filter(t=>t.Bi()>i);n.sort((t,e)=>e.Bi()-t.Bi()),n.length&&r.length&&r.push(n[0]),r.sort((t,e)=>t.Bi()-e.Bi());for(const s of t){const t=Math.floor(s.$t(e)/2),i=s.Bi();i>-t&&i<t&&s.Wi(t),i>this.Lp.height-t&&i<this.Lp.height+t&&s.Wi(this.Lp.height-t)}Ni(n,1,this.Lp.height,e),Ni(r,-1,this.Lp.height,e)}dv(t){if(null===this.Lp)return;const e=this.ev(),i=this.iv(),n=this.Yp?"right":"left";e.forEach(e=>{e.Ui()&&e.Tt(S(this.Yi)).nt(t,i,this.Np,n)})}fv(t){if(null===this.Lp||null===this.Yi)return;const e=this.Pt.$p().Qt(),i=[],n=this.Pt.hp(),r=e._c().Ws(n,this.Yi);r.length&&i.push(r);const s=this.iv(),o=this.Yp?"right":"left";i.forEach(e=>{e.forEach(e=>{e.Tt(S(this.Yi)).nt(t,s,this.Np,o)})})}pv(t){this.Yf.style.cursor=1===t?"ns-resize":"default"}ul(){const t=this.sv();this.Wp<t&&this.Pt.$p().Qt().Bh(),this.Wp=t}nv(){return O(this.bl.fontSize,this.bl.fontFamily)}}function Oi(t,e){return t.Jh?.(e)??[]}function Fi(t,e){return t.Fs?.(e)??[]}function Li(t,e){return t.us?.(e)??[]}function zi(t,e){return t.Xh?.(e)??[]}class Ri{constructor(t,e){this.Lp=l({width:0,height:0}),this.mv=null,this.wv=null,this.gv=null,this.Mv=null,this.bv=!1,this.Sv=new M,this.xv=new M,this.Cv=0,this.Pv=!1,this.kv=null,this.yv=!1,this.Tv=null,this.Rv=null,this.Hp=!1,this.Up=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.qp=()=>{this.Hp||null===this.Dv||this.ts().ar()},this.Dp=t,this.Dv=e,this.Dv.t_().i(this.Vv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Bv=document.createElement("td"),this.Bv.style.padding="0",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Iv.appendChild(i),this.Zp=Ci(i,l({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const n=this.Zp.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Gp=Ci(i,l({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.qf=document.createElement("tr"),this.qf.appendChild(this.Bv),this.qf.appendChild(this.Iv),this.qf.appendChild(this.Ev),this.Av(),this.Of=new mi(this.Gp.canvasElement,this,{hf:()=>null===this.kv&&!this.Dp.N().handleScroll.vertTouchDrag,af:()=>null===this.kv&&!this.Dp.N().handleScroll.horzTouchDrag})}m(){null!==this.mv&&this.mv.m(),null!==this.wv&&this.wv.m(),this.gv=null,this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ii(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ii(this.Zp.canvasElement),this.Zp.dispose(),null!==this.Dv&&(this.Dv.t_().u(this),this.Dv.m()),this.Of.m()}hp(){return S(this.Dv)}zv(t){null!==this.Dv&&this.Dv.t_().u(this),this.Dv=t,null!==this.Dv&&this.Dv.t_().i(Ri.prototype.Vv.bind(this),this,!0),this.Av(),this.Dp.Uf().indexOf(this)===this.Dp.Uf().length-1?(this.gv=this.gv??new ki(this.Iv,this.Dp),this.gv.kt()):(this.gv?.Ip(),this.gv=null)}$p(){return this.Dp}Xf(){return this.qf}Av(){if(null!==this.Dv&&(this.Lv(),0!==this.ts().js().length)){if(null!==this.mv){const t=this.Dv.Wo();this.mv._s(S(t))}if(null!==this.wv){const t=this.Dv.Ho();this.wv._s(S(t))}}}Ov(){null!==this.mv&&this.mv.kt(),null!==this.wv&&this.wv.kt()}Io(){return null!==this.Dv?this.Dv.Io():0}Bo(t){this.Dv&&this.Dv.Bo(t)}if(t){if(!this.Dv)return;this.Nv();const e=t.localX,i=t.localY;this.Fv(e,i,t)}bf(t){this.Nv(),this.Wv(),this.Fv(t.localX,t.localY,t)}sf(t){if(!this.Dv)return;this.Nv();const e=t.localX,i=t.localY;this.Fv(e,i,t)}vf(t){null!==this.Dv&&(this.Nv(),this.Hv(t))}Kd(t){null!==this.Dv&&this.Uv(this.xv,t)}$d(t){this.Kd(t)}uf(t){this.Nv(),this.$v(t),this.Fv(t.localX,t.localY,t)}pf(t){null!==this.Dv&&(this.Nv(),this.Pv=!1,this.qv(t))}ff(t){null!==this.Dv&&this.Hv(t)}If(t){if(this.Pv=!0,null===this.kv){const e={x:t.localX,y:t.localY};this.Yv(e,e,t)}}Vf(t){null!==this.Dv&&(this.Nv(),this.Dv.Qt().ac(null),this.jv())}Kv(){return this.Sv}Xv(){return this.xv}Pf(){this.Cv=1,this.ts().hn()}kf(t,e){if(!this.Dp.N().handleScale.pinch)return;const i=5*(e-this.Cv);this.Cv=e,this.ts().Mc(t._t,i)}gf(t){this.Pv=!1,this.yv=null!==this.kv,this.Wv();const e=this.ts()._c();null!==this.kv&&e.Vt()&&(this.Tv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}lf(t){if(null===this.Dv)return;const e=t.localX,i=t.localY;if(null===this.kv)this.$v(t);else{this.yv=!1;const n=S(this.Tv),r=n.x+(e-this.kv.x),s=n.y+(i-this.kv.y);this.Fv(r,s,t)}}df(t){0===this.$p().N().trackingMode.exitMode&&(this.yv=!0),this.Zv(),this.qv(t)}jn(t,e){const i=this.Dv;return null===i?null:Fe(i,t,e)}Gv(t,e){S("left"===e?this.mv:this.wv).rv(l({width:t,height:this.Lp.height}))}Zf(){return this.Lp}rv(t){a(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Jv(){const t=S(this.Dv);t.Fo(t.Wo()),t.Fo(t.Ho());for(const e of t.ba())if(t.Un(e)){const i=e.Ft();null!==i&&t.Fo(i),e.Ns()}for(const e of t.s_())e.Ns()}Gf(){return this.Zp.bitmapSize}Jf(t,e,i){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,i)}av(t){if(0===t)return;if(null===this.Dv)return;t>1&&this.Jv(),null!==this.mv&&this.mv.av(t),null!==this.wv&&this.wv.av(t);const e={colorSpace:this.Dp.N().layout.colorSpace};if(1!==t){this.Zp.applySuggestedBitmapSize();const t=f(this.Zp,e);null!==t&&(t.useBitmapCoordinateSpace(t=>{this.ov(t)}),this.Dv&&(this.Qv(t,Oi),this.tm(t),this.Qv(t,Fi),this.Qv(t,Li)))}this.Gp.applySuggestedBitmapSize();const i=f(this.Gp,e);null!==i&&(i.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.im(i),this.Qv(i,zi),this.Qv(i,Li))}sm(){return this.mv}nm(){return this.wv}uv(t,e){this.Qv(t,e)}Vv(){null!==this.Dv&&this.Dv.t_().u(this),this.Dv=null}Hv(t){this.Uv(this.Sv,t)}Uv(t,e){const i=e.localX,n=e.localY;t.v()&&t.p(this.ts().Et().uu(i),{x:i,y:n},e)}ov(t){let{context:e,bitmapSize:i}=t;const{width:n,height:r}=i,s=this.ts(),o=s.$(),l=s.Fc();o===l?X(e,0,0,n,r,l):G(e,0,0,n,r,o,l)}tm(t){const e=S(this.Dv),i=e.i_().lr().Tt(e);null!==i&&i.nt(t,!1)}im(t){this.rm(t,Fi,Pi,this.ts()._c())}Qv(t,e){const i=S(this.Dv),n=i.Dt(),r=i.s_();for(const s of r)this.rm(t,e,Ti,s);for(const s of n)this.rm(t,e,Ti,s);for(const s of r)this.rm(t,e,Pi,s);for(const s of n)this.rm(t,e,Pi,s)}rm(t,e,i,n){const r=S(this.Dv),s=r.Qt().hc(),o=null!==s&&s.n_===n,l=null!==s&&o&&void 0!==s.e_?s.e_.Xn:void 0;Ei(e,e=>i(e,t,o,l),n,r)}Lv(){if(null===this.Dv)return;const t=this.Dp,e=this.Dv.Wo().N().visible,i=this.Dv.Ho().N().visible;e||null===this.mv||(this.Bv.removeChild(this.mv.Xf()),this.mv.m(),this.mv=null),i||null===this.wv||(this.Ev.removeChild(this.wv.Xf()),this.wv.m(),this.wv=null);const n=t.Qt().Vc();e&&null===this.mv&&(this.mv=new Bi(this,t.N(),n,"left"),this.Bv.appendChild(this.mv.Xf())),i&&null===this.wv&&(this.wv=new Bi(this,t.N(),n,"right"),this.Ev.appendChild(this.wv.Xf()))}hm(t){return t.Bf&&this.Pv||null!==this.kv}am(t){return Math.max(0,Math.min(t,this.Lp.width-1))}lm(t){return Math.max(0,Math.min(t,this.Lp.height-1))}Fv(t,e,i){this.ts().yc(this.am(t),this.lm(e),i,S(this.Dv))}jv(){this.ts().Rc()}Zv(){this.yv&&(this.kv=null,this.jv())}Yv(t,e,i){this.kv=t,this.yv=!1,this.Fv(e.x,e.y,i);const n=this.ts()._c();this.Tv={x:n.si(),y:n.ni()}}ts(){return this.Dp.Qt()}qv(t){if(!this.bv)return;const e=this.ts(),i=this.hp();if(e.Ko(i,i.ys()),this.Mv=null,this.bv=!1,e.Cc(),null!==this.Rv){const t=performance.now(),i=e.Et();this.Rv.le(i.wu(),t),this.Rv.Tu(t)||e._n(this.Rv)}}Nv(){this.kv=null}Wv(){if(this.Dv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)S(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.Dv.ys().Ki()&&this.ts().Et().Ki()}}$v(t){if(null===this.Dv)return;const e=this.ts(),i=e.Et();if(i.Ki())return;const n=this.Dp.N(),r=n.handleScroll,s=n.kineticScroll;if((!r.pressedMouseMove||t.Bf)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Bf))return;const o=this.Dv.ys(),l=performance.now();if(null!==this.Mv||this.hm(t)||(this.Mv={x:t.clientX,y:t.clientY,ed:l,om:t.localX,_m:t.localY}),null!==this.Mv&&!this.bv&&(this.Mv.x!==t.clientX||this.Mv.y!==t.clientY)){if(t.Bf&&s.touch||!t.Bf&&s.mouse){const t=i.vu();this.Rv=new Mi(.2/t,7/t,.997,15/t),this.Rv.Cp(i.wu(),this.Mv.ed)}else this.Rv=null;o.Ki()||e.Yo(this.Dv,o,t.localY),e.Sc(t.localX),this.bv=!0}this.bv&&(o.Ki()||e.jo(this.Dv,o,t.localY),e.xc(t.localX),null!==this.Rv&&this.Rv.Cp(i.wu(),l))}}class Ai{constructor(t,e,i,n,r){this.xt=!0,this.Lp=l({width:0,height:0}),this.Up=()=>this.av(3),this.Yp="left"===t,this.Gu=i.Vc,this.Ps=e,this.um=n,this.dm=r,this.Yf=document.createElement("div"),this.Yf.style.width="25px",this.Yf.style.height="100%",this.Yf.style.overflow="hidden",this.Zp=Ci(this.Yf,l({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up)}m(){this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ii(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.Yf}Zf(){return this.Lp}rv(t){a(this.Lp,t)||(this.Lp=t,this.Zp.resizeCanvasElement(t),this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`,this.xt=!0)}av(t){if(t<3&&!this.xt)return;if(0===this.Lp.width||0===this.Lp.height)return;this.xt=!1,this.Zp.applySuggestedBitmapSize();const e=f(this.Zp,{colorSpace:this.Ps.layout.colorSpace});null!==e&&e.useBitmapCoordinateSpace(t=>{this.ov(t),this._v(t)})}Gf(){return this.Zp.bitmapSize}Jf(t,e,i){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,i)}_v(t){let{context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;if(!this.um())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.Gu.N().S*n),o=Math.floor(this.Gu.N().S*r),l=this.Yp?i.width-s:0;e.fillRect(l,0,s,o)}ov(t){let{context:e,bitmapSize:i}=t;X(e,0,0,i.width,i.height,this.dm())}}function Ui(t){return e=>e.ia?.(t)??[]}const Vi=Ui("normal"),Yi=Ui("top"),ji=Ui("bottom");class Wi{constructor(t,e){this.fm=null,this.pm=null,this.M=null,this.vm=!1,this.Lp=l({width:0,height:0}),this.wm=new M,this.Np=new mt(5),this.Hp=!1,this.Up=()=>{this.Hp||this.Dp.Qt().ar()},this.qp=()=>{this.Hp||this.Dp.Qt().ar()},this.Dp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.gm=document.createElement("td"),this.gm.style.padding="0",this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.Yf=document.createElement("td"),this.Yf.style.height="25px",this.Yf.style.padding="0",this.bm=document.createElement("div"),this.bm.style.width="100%",this.bm.style.height="100%",this.bm.style.position="relative",this.bm.style.overflow="hidden",this.Yf.appendChild(this.bm),this.Zp=Ci(this.bm,l({width:16,height:16})),this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);const i=this.Zp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Gp=Ci(this.bm,l({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.qp);const n=this.Gp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0",this.kp.appendChild(this.gm),this.kp.appendChild(this.Yf),this.kp.appendChild(this.Mm),this.Sm(),this.Dp.Qt().Vo().i(this.Sm.bind(this),this),this.Of=new mi(this.Gp.canvasElement,this,{hf:()=>!0,af:()=>!this.Dp.N().handleScroll.horzTouchDrag})}m(){this.Of.m(),null!==this.fm&&this.fm.m(),null!==this.pm&&this.pm.m(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.qp),Ii(this.Gp.canvasElement),this.Gp.dispose(),this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up),Ii(this.Zp.canvasElement),this.Zp.dispose()}Xf(){return this.kp}xm(){return this.fm}Cm(){return this.pm}bf(t){if(this.vm)return;this.vm=!0;const e=this.Dp.Qt();!e.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&e.gc(t.localX)}gf(t){this.bf(t)}Sf(){const t=this.Dp.Qt();!t.Et().Ki()&&this.vm&&(this.vm=!1,this.Dp.N().handleScale.axisPressedMouseMove.time&&t.kc())}uf(t){const e=this.Dp.Qt();!e.Et().Ki()&&this.Dp.N().handleScale.axisPressedMouseMove.time&&e.Pc(t.localX)}lf(t){this.uf(t)}pf(){this.vm=!1;const t=this.Dp.Qt();t.Et().Ki()&&!this.Dp.N().handleScale.axisPressedMouseMove.time||t.kc()}df(){this.pf()}Kd(){this.Dp.N().handleScale.axisDoubleClickReset.time&&this.Dp.Qt().cn()}$d(){this.Kd()}if(){this.Dp.Qt().N().handleScale.axisPressedMouseMove.time&&this.pv(1)}Vf(){this.pv(0)}Zf(){return this.Lp}Pm(){return this.wm}km(t,e,i){a(this.Lp,t)||(this.Lp=t,this.Hp=!0,this.Zp.resizeCanvasElement(t),this.Gp.resizeCanvasElement(t),this.Hp=!1,this.Yf.style.width=`${t.width}px`,this.Yf.style.height=`${t.height}px`,this.wm.p(t)),null!==this.fm&&this.fm.rv(l({width:e,height:t.height})),null!==this.pm&&this.pm.rv(l({width:i,height:t.height}))}ym(){const t=this.Tm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Rm)}kt(){this.Dp.Qt().Et().Va()}Gf(){return this.Zp.bitmapSize}Jf(t,e,i){const n=this.Gf();n.width>0&&n.height>0&&t.drawImage(this.Zp.canvasElement,e,i)}av(t){if(0===t)return;const e={colorSpace:this.Ps.colorSpace};if(1!==t){this.Zp.applySuggestedBitmapSize();const i=f(this.Zp,e);null!==i&&(i.useBitmapCoordinateSpace(t=>{this.ov(t),this._v(t),this.Dm(i,ji)}),this.cv(i),this.Dm(i,Vi)),null!==this.fm&&this.fm.av(t),null!==this.pm&&this.pm.av(t)}this.Gp.applySuggestedBitmapSize();const i=f(this.Gp,e);null!==i&&(i.useBitmapCoordinateSpace(t=>{let{context:e,bitmapSize:i}=t;e.clearRect(0,0,i.width,i.height)}),this.Vm([...this.Dp.Qt().js(),this.Dp.Qt()._c()],i),this.Dm(i,Yi))}Dm(t,e){const i=this.Dp.Qt().js();for(const n of i)Ei(e,e=>Ti(e,t,!1,void 0),n,void 0);for(const n of i)Ei(e,e=>Pi(e,t,!1,void 0),n,void 0)}ov(t){let{context:e,bitmapSize:i}=t;X(e,0,0,i.width,i.height,this.Dp.Qt().Fc())}_v(t){let{context:e,bitmapSize:i,verticalPixelRatio:n}=t;if(this.Dp.N().timeScale.borderVisible){e.fillStyle=this.Im();const t=Math.max(1,Math.floor(this.Tm().S*n));e.fillRect(0,0,i.width,t)}}cv(t){const e=this.Dp.Qt().Et(),i=e.Va();if(!i||0===i.length)return;const n=this.o_.maxTickMarkWeight(i),r=this.Tm(),s=e.N();s.borderVisible&&s.ticksVisible&&t.useBitmapCoordinateSpace(t=>{let{context:e,horizontalPixelRatio:n,verticalPixelRatio:s}=t;e.strokeStyle=this.Im(),e.fillStyle=this.Im();const o=Math.max(1,Math.floor(n)),l=Math.floor(.5*n);e.beginPath();const a=Math.round(r.C*s);for(let r=i.length;r--;){const t=Math.round(i[r].coord*n);e.rect(t-l,0,o,a)}e.fill()}),t.useMediaCoordinateSpace(t=>{let{context:e}=t;const s=r.S+r.C+r.A+r.P/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.H(),e.font=this.nv();for(const r of i)if(r.weight<n){const t=r.needAlignCoordinate?this.Bm(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}this.Dp.N().timeScale.allowBoldLabels&&(e.font=this.Em());for(const r of i)if(r.weight>=n){const t=r.needAlignCoordinate?this.Bm(e,r.coord,r.label):r.coord;e.fillText(r.label,t,s)}})}Bm(t,e,i){const n=this.Np.Vi(t,i),r=n/2,s=Math.floor(e-r)+.5;return s<0?e+=Math.abs(0-s):s+n>this.Lp.width&&(e-=Math.abs(this.Lp.width-(s+n))),e}Vm(t,e){const i=this.Tm();for(const n of t)for(const t of n.cs())t.Tt().nt(e,i)}Im(){return this.Dp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}nv(){return O(this.F(),this.Ps.fontFamily)}Em(){return O(this.F(),this.Ps.fontFamily,"bold")}Tm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new mt,Rm:0});const t=this.M,e=this.nv();if(t.k!==e){const i=this.F();t.P=i,t.k=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.Rm=4*i/12,t.Gi.In()}return this.M}pv(t){this.Yf.style.cursor=1===t?"ew-resize":"default"}Sm(){const t=this.Dp.Qt(),e=t.N();e.leftPriceScale.visible||null===this.fm||(this.gm.removeChild(this.fm.Xf()),this.fm.m(),this.fm=null),e.rightPriceScale.visible||null===this.pm||(this.Mm.removeChild(this.pm.Xf()),this.pm.m(),this.pm=null);const i={Vc:this.Dp.Qt().Vc()},n=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,r=()=>t.Fc();e.leftPriceScale.visible&&null===this.fm&&(this.fm=new Ai("left",e,i,n,r),this.gm.appendChild(this.fm.Xf())),e.rightPriceScale.visible&&null===this.pm&&(this.pm=new Ai("right",e,i,n,r),this.Mm.appendChild(this.pm.Xf()))}}const $i=!!ci&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!ci&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class Qi{constructor(t,e,i){var n;this.Am=[],this.zm=[],this.Lm=0,this.sl=0,this.Mo=0,this.Om=0,this.Nm=0,this.Fm=null,this.Wm=!1,this.Sv=new M,this.xv=new M,this.Ku=new M,this.Hm=null,this.Um=null,this.Rp=t,this.Ps=e,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(n=this.kp).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.$m=document.createElement("table"),this.$m.setAttribute("cellspacing","0"),this.kp.appendChild(this.$m),this.qm=this.Ym.bind(this),Hi(this.Ps)&&this.jm(!0),this.ts=new Xe(this.Zu.bind(this),this.Ps,i),this.Qt().uc().i(this.Km.bind(this),this),this.Xm=new Wi(this,this.o_),this.$m.appendChild(this.Xm.Xf());const r=e.autoSize&&this.Zm();let s=this.Ps.width,o=this.Ps.height;if(r||0===s||0===o){const e=t.getBoundingClientRect();s=s||e.width,o=o||e.height}this.Gm(s,o),this.Jm(),t.appendChild(this.kp),this.Qm(),this.ts.Et().Iu().i(this.ts.Bh.bind(this.ts),this),this.ts.Vo().i(this.ts.Bh.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}Uf(){return this.Am}tw(){return this.Xm}m(){this.jm(!1),0!==this.Lm&&window.cancelAnimationFrame(this.Lm),this.ts.uc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m();for(const t of this.Am)this.$m.removeChild(t.Xf()),t.Kv().u(this),t.Xv().u(this),t.m();this.Am=[];for(const t of this.zm)this.iw(t);this.zm=[],S(this.Xm).m(),null!==this.kp.parentElement&&this.kp.parentElement.removeChild(this.kp),this.Ku.m(),this.Sv.m(),this.xv.m(),this.sw()}Gm(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.sl===e&&this.Mo===t)return;const n=function(t){const e=Math.floor(t.width),i=Math.floor(t.height);return l({width:e-e%2,height:i-i%2})}(l({width:t,height:e}));this.sl=n.height,this.Mo=n.width;const r=this.sl+"px",s=this.Mo+"px";S(this.kp).style.height=r,S(this.kp).style.width=s,this.$m.style.height=r,this.$m.style.width=s,i?this.nw(at.gn(),performance.now()):this.ts.Bh()}av(t){void 0===t&&(t=at.gn());for(let e=0;e<this.Am.length;e++)this.Am[e].av(t.en(e).tn);this.Ps.timeScale.visible&&this.Xm.av(t.nn())}hr(t){const e=Hi(this.Ps);this.ts.hr(t);const i=Hi(this.Ps);i!==e&&this.jm(i),t.layout?.panes&&this.ew(),this.Qm(),this.rw(t)}Kv(){return this.Sv}Xv(){return this.xv}uc(){return this.Ku}hw(){null!==this.Fm&&(this.nw(this.Fm,performance.now()),this.Fm=null);const t=this.aw(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=S(e.getContext("2d"));return this.aw(i),e}lw(t){return("left"!==t||this.ow())&&("right"!==t||this._w())?0===this.Am.length?0:S("left"===t?this.Am[0].sm():this.Am[0].nm()).hv():0}uw(){return this.Ps.autoSize&&null!==this.Hm}tp(){return this.kp}cw(t){this.Um=t,this.Um?this.tp().style.setProperty("cursor",t):this.tp().style.removeProperty("cursor")}dw(){return this.Um}fw(t){return _(this.Am[t]).Zf()}ew(){this.zm.forEach(t=>{t.kt()})}rw(t){(void 0!==t.autoSize||!this.Hm||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.Hm&&this.Zm(),!1===t.autoSize&&null!==this.Hm&&this.sw(),t.autoSize||void 0===t.width&&void 0===t.height||this.Gm(t.width||this.Mo,t.height||this.sl))}aw(t){let e=0,i=0;const n=this.Am[0],r=(e,i)=>{let n=0;for(let r=0;r<this.Am.length;r++){const s=this.Am[r],o=S("left"===e?s.sm():s.nm()),l=o.Gf();if(null!==t&&o.Jf(t,i,n),n+=l.height,r<this.Am.length-1){const e=this.zm[r],s=e.Gf();null!==t&&e.Jf(t,i,n),n+=s.height}}};this.ow()&&(r("left",0),e+=S(n.sm()).Gf().width);for(let o=0;o<this.Am.length;o++){const n=this.Am[o],r=n.Gf();if(null!==t&&n.Jf(t,e,i),i+=r.height,o<this.Am.length-1){const n=this.zm[o],r=n.Gf();null!==t&&n.Jf(t,e,i),i+=r.height}}e+=n.Gf().width,this._w()&&(r("right",e),e+=S(n.nm()).Gf().width);const s=(e,i,n)=>{S("left"===e?this.Xm.xm():this.Xm.Cm()).Jf(S(t),i,n)};if(this.Ps.timeScale.visible){const e=this.Xm.Gf();if(null!==t){let r=0;this.ow()&&(s("left",r,i),r=S(n.sm()).Gf().width),this.Xm.Jf(t,r,i),r+=e.width,this._w()&&s("right",r,i)}i+=e.height}return l({width:e,height:i})}pw(){let t=0,e=0,i=0;for(const l of this.Am)this.ow()&&(e=Math.max(e,S(l.sm()).sv(),this.Ps.leftPriceScale.minimumWidth)),this._w()&&(i=Math.max(i,S(l.nm()).sv(),this.Ps.rightPriceScale.minimumWidth)),t+=l.Io();e=pi(e),i=pi(i);const n=this.Mo,r=this.sl,s=Math.max(n-e-i,0),o=1*this.zm.length,a=this.Ps.timeScale.visible;let h=a?Math.max(this.Xm.ym(),this.Ps.timeScale.minimumHeight):0;var u;h=(u=h)+u%2;const c=o+h,d=r<c?0:r-c,f=d/t;let p=0;const m=window.devicePixelRatio||1;for(let y=0;y<this.Am.length;++y){const t=this.Am[y];t.zv(this.ts.$s()[y]);let n=0,r=0;r=y===this.Am.length-1?Math.ceil((d-p)*m)/m:Math.round(t.Io()*f*m)/m,n=Math.max(r,2),p+=n,t.rv(l({width:s,height:n})),this.ow()&&t.Gv(e,"left"),this._w()&&t.Gv(i,"right"),t.hp()&&this.ts.cc(t.hp(),n)}this.Xm.km(l({width:a?s:0,height:h}),a?e:0,a?i:0),this.ts.Eo(s),this.Om!==e&&(this.Om=e),this.Nm!==i&&(this.Nm=i)}jm(t){t?this.kp.addEventListener("wheel",this.qm,{passive:!1}):this.kp.removeEventListener("wheel",this.qm)}mw(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return $i?1/window.devicePixelRatio:1}Ym(t){if(!(0!==t.deltaX&&this.Ps.handleScroll.mouseWheel||0!==t.deltaY&&this.Ps.handleScale.mouseWheel))return;const e=this.mw(t),i=e*t.deltaX/100,n=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==n&&this.Ps.handleScale.mouseWheel){const e=Math.sign(n)*Math.min(1,Math.abs(n)),i=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().Mc(i,e)}0!==i&&this.Ps.handleScroll.mouseWheel&&this.Qt().bc(-80*i)}nw(t,e){const i=t.nn();3===i&&this.ww(),3!==i&&2!==i||(this.gw(t),this.Mw(t,e),this.Xm.kt(),this.Am.forEach(t=>{t.Ov()}),3===this.Fm?.nn()&&(this.Fm.vn(t),this.ww(),this.gw(this.Fm),this.Mw(this.Fm,e),t=this.Fm,this.Fm=null)),this.av(t)}Mw(t,e){for(const i of t.pn())this.mn(i,e)}gw(t){const e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Go()}mn(t,e){const i=this.ts.Et();switch(t.an){case 0:i.Eu();break;case 1:i.Au(t.Wt);break;case 2:i.dn(t.Wt);break;case 3:i.fn(t.Wt);break;case 4:i.bu();break;case 5:t.Wt.Tu(e)||i.fn(t.Wt.Ru(e))}}Zu(t){null!==this.Fm?this.Fm.vn(t):this.Fm=t,this.Wm||(this.Wm=!0,this.Lm=window.requestAnimationFrame(t=>{if(this.Wm=!1,this.Lm=0,null!==this.Fm){const e=this.Fm;this.Fm=null,this.nw(e,t);for(const i of e.pn())if(5===i.an&&!i.Wt.Tu(t)){this.Qt()._n(i.Wt);break}}}))}ww(){this.Jm()}iw(t){this.$m.removeChild(t.Xf()),t.m()}Jm(){const t=this.ts.$s(),e=t.length,i=this.Am.length;for(let n=e;n<i;n++){const t=_(this.Am.pop());this.$m.removeChild(t.Xf()),t.Kv().u(this),t.Xv().u(this),t.m();const e=this.zm.pop();void 0!==e&&this.iw(e)}for(let n=i;n<e;n++){const e=new Ri(this,t[n]);if(e.Kv().i(this.bw.bind(this,e),this),e.Xv().i(this.Sw.bind(this,e),this),this.Am.push(e),n>0){const t=new _i(this,n-1,n);this.zm.push(t),this.$m.insertBefore(t.Xf(),this.Xm.Xf())}this.$m.insertBefore(e.Xf(),this.Xm.Xf())}for(let n=0;n<e;n++){const e=t[n],i=this.Am[n];i.hp()!==e?i.zv(e):i.Av()}this.Qm(),this.pw()}xw(t,e,i,n){const r=new Map;let s;if(null!==t&&this.ts.js().forEach(e=>{const i=e.Xs().Fr(t);null!==i&&r.set(e,i)}),null!==t){const e=this.ts.Et().ss(t)?.originalTime;void 0!==e&&(s=e)}const o=this.Qt().hc(),l=null!==o&&o.n_ instanceof ne?o.n_:void 0,a=null!==o&&void 0!==o.e_?o.e_.Kn:void 0,h=this.Cw(n);return{Pw:s,Re:t??void 0,kw:e??void 0,yw:-1!==h?h:void 0,Tw:l,Rw:r,Dw:a,Vw:i??void 0}}Cw(t){let e=-1;if(t)e=this.Am.indexOf(t);else{const t=this.Qt()._c().Us();null!==t&&(e=this.Qt().$s().indexOf(t))}return e}bw(t,e,i,n){this.Sv.p(()=>this.xw(e,i,n,t))}Sw(t,e,i,n){this.xv.p(()=>this.xw(e,i,n,t))}Km(t,e,i){this.cw(this.Qt().hc()?.h_??null),this.Ku.p(()=>this.xw(t,e,i))}Qm(){const t=this.Ps.timeScale.visible?"":"none";this.Xm.Xf().style.display=t}ow(){return this.Am[0].hp().Wo().N().visible}_w(){return this.Am[0].hp().Ho().N().visible}Zm(){return"ResizeObserver"in window&&(this.Hm=new ResizeObserver(t=>{const e=t[t.length-1];e&&this.Gm(e.contentRect.width,e.contentRect.height)}),this.Hm.observe(this.Rp,{box:"border-box"}),!0)}sw(){null!==this.Hm&&this.Hm.disconnect(),this.Hm=null}}function Hi(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function Xi(t){return void 0===t.open&&void 0===t.value}function qi(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}function Ki(t,e,i,n){const r=i.value,s={Re:e,wt:t,Wt:[r,r,r,r],Pw:n};return void 0!==i.color&&(s.R=i.color),s}function Gi(t,e,i,n){const r=i.value,s={Re:e,wt:t,Wt:[r,r,r,r],Pw:n};return void 0!==i.lineColor&&(s.vt=i.lineColor),void 0!==i.topColor&&(s.mr=i.topColor),void 0!==i.bottomColor&&(s.wr=i.bottomColor),s}function Zi(t,e,i,n){const r=i.value,s={Re:e,wt:t,Wt:[r,r,r,r],Pw:n};return void 0!==i.topLineColor&&(s.gr=i.topLineColor),void 0!==i.bottomLineColor&&(s.Mr=i.bottomLineColor),void 0!==i.topFillColor1&&(s.br=i.topFillColor1),void 0!==i.topFillColor2&&(s.Sr=i.topFillColor2),void 0!==i.bottomFillColor1&&(s.Cr=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(s.Pr=i.bottomFillColor2),s}function Ji(t,e,i,n){const r={Re:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Pw:n};return void 0!==i.color&&(r.R=i.color),r}function tn(t,e,i,n){const r={Re:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Pw:n};return void 0!==i.color&&(r.R=i.color),void 0!==i.borderColor&&(r.Ht=i.borderColor),void 0!==i.wickColor&&(r.vr=i.wickColor),r}function en(t,e,i,n,r){const s=_(r)(i),o=Math.max(...s),l=Math.min(...s),a=s[s.length-1],h=[a,o,l,a],{time:u,color:c,...d}=i;return{Re:e,wt:t,Wt:h,Pw:n,se:d,R:c}}function nn(t){return void 0!==t.Wt}function rn(t,e){return void 0!==e.customValues&&(t.Iw=e.customValues),t}function sn(t){return(e,i,n,r,s,o)=>function(t,e){return e?e(t):Xi(t)}(n,o)?rn({wt:e,Re:i,Pw:r},n):rn(t(e,i,n,r,s),n)}function on(t){return{Candlestick:sn(tn),Bar:sn(Ji),Area:sn(Gi),Baseline:sn(Zi),Histogram:sn(Ki),Line:sn(Ki),Custom:sn(en)}[t]}function ln(t){return{Re:0,Bw:new Map,Hh:t}}function an(t,e){if(void 0!==t&&0!==t.length)return{Ew:e.key(t[0].wt),Aw:e.key(t[t.length-1].wt)}}function hn(t){let e;return t.forEach(t=>{void 0===e&&(e=t.Pw)}),_(e)}class un{constructor(t){this.zw=new Map,this.Lw=new Map,this.Ow=new Map,this.Nw=[],this.o_=t}m(){this.zw.clear(),this.Lw.clear(),this.Ow.clear(),this.Nw=[]}Fw(t,e){let i=0!==this.zw.size,n=!1;const r=this.Lw.get(t);if(void 0!==r)if(1===this.Lw.size)i=!1,n=!0,this.zw.clear();else for(const l of this.Nw)l.pointData.Bw.delete(t)&&(n=!0);let s=[];if(0!==e.length){const i=e.map(t=>t.time),r=this.o_.createConverterToInternalObj(e),o=on(t.Rr()),l=t.da(),a=t.pa();s=e.map((e,s)=>{const h=r(e.time),u=this.o_.key(h);let c=this.zw.get(u);void 0===c&&(c=ln(h),this.zw.set(u,c),n=!0);const d=o(h,c.Re,e,i[s],l,a);return c.Bw.set(t,d),d})}i&&this.Ww(),this.Hw(t,s);let o=-1;if(n){const t=[];this.zw.forEach(e=>{t.push({timeWeight:0,time:e.Hh,pointData:e,originalTime:hn(e.Bw)})}),t.sort((t,e)=>this.o_.key(t.time)-this.o_.key(e.time)),o=this.Uw(t)}return this.$w(t,o,function(t,e,i){const n=an(t,i),r=an(e,i);if(void 0!==n&&void 0!==r)return{qw:!1,zh:n.Aw>=r.Aw&&n.Ew>=r.Ew}}(this.Lw.get(t),r,this.o_))}Ec(t){return this.Fw(t,[])}Yw(t,e,i){const n=e;!function(t){void 0===t.Pw&&(t.Pw=t.time)}(n),this.o_.preprocessData(e);const r=this.o_.createConverterToInternalObj([e])(e.time),s=this.Ow.get(t);if(!i&&void 0!==s&&this.o_.key(r)<this.o_.key(s))throw new Error(`Cannot update oldest data, last time=${s}, new time=${r}`);let o=this.zw.get(this.o_.key(r));if(i&&void 0===o)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=void 0===o;void 0===o&&(o=ln(r),this.zw.set(this.o_.key(r),o));const a=on(t.Rr()),h=t.da(),u=t.pa(),c=a(r,o.Re,e,n.Pw,h,u);o.Bw.set(t,c),i?this.jw(t,c,o.Re):this.Kw(t,c);const d={zh:nn(c),qw:i};if(!l)return this.$w(t,-1,d);const f={timeWeight:0,time:o.Hh,pointData:o,originalTime:hn(o.Bw)},p=Lt(this.Nw,this.o_.key(f.time),(t,e)=>this.o_.key(t.time)<e);this.Nw.splice(p,0,f);for(let m=p;m<this.Nw.length;++m)cn(this.Nw[m].pointData,m);return this.o_.fillWeightsForPoints(this.Nw,p),this.$w(t,p,d)}Kw(t,e){let i=this.Lw.get(t);void 0===i&&(i=[],this.Lw.set(t,i));const n=0!==i.length?i[i.length-1]:null;null===n||this.o_.key(e.wt)>this.o_.key(n.wt)?nn(e)&&i.push(e):nn(e)?i[i.length-1]=e:i.splice(-1,1),this.Ow.set(t,e.wt)}jw(t,e,i){const n=this.Lw.get(t);if(void 0===n)return;const r=Lt(n,i,(t,e)=>t.Re<e);nn(e)?n[r]=e:n.splice(r,1)}Hw(t,e){0!==e.length?(this.Lw.set(t,e.filter(nn)),this.Ow.set(t,e[e.length-1].wt)):(this.Lw.delete(t),this.Ow.delete(t))}Ww(){for(const t of this.Nw)0===t.pointData.Bw.size&&this.zw.delete(this.o_.key(t.time))}Uw(t){let e=-1;for(let i=0;i<this.Nw.length&&i<t.length;++i){const n=this.Nw[i],r=t[i];if(this.o_.key(n.time)!==this.o_.key(r.time)){e=i;break}r.timeWeight=n.timeWeight,cn(r.pointData,i)}if(-1===e&&this.Nw.length!==t.length&&(e=Math.min(this.Nw.length,t.length)),-1===e)return-1;for(let i=e;i<t.length;++i)cn(t[i].pointData,i);return this.o_.fillWeightsForPoints(t,e),this.Nw=t,e}Xw(){if(0===this.Lw.size)return null;let t=0;return this.Lw.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].Re))}),t}$w(t,e,i){const n={Oo:new Map,Et:{ou:this.Xw()}};if(-1!==e)this.Lw.forEach((e,r)=>{n.Oo.set(r,{se:e,Zw:r===t?i:void 0})}),this.Lw.has(t)||n.Oo.set(t,{se:[],Zw:i}),n.Et.Gw=this.Nw,n.Et.Jw=e;else{const e=this.Lw.get(t);n.Oo.set(t,{se:e||[],Zw:i})}return n}}function cn(t,e){t.Re=e,t.Bw.forEach(t=>{t.Re=e})}function dn(t,e){return t.wt<e}function fn(t,e){return e<t.wt}function pn(t,e,i){const n=e.Uh(),r=e.bi(),s=Lt(t,n,dn),o=zt(t,r,fn);if(!i)return{from:s,to:o};let l=s,a=o;return s>0&&s<t.length&&t[s].wt>=n&&(l=s-1),o>0&&o<t.length&&t[o-1].wt<=r&&(a=o+1),{from:l,to:a}}class mn{constructor(t,e,i){this.Qw=!0,this.tg=!0,this.ig=!0,this.sg=[],this.ng=null,this.Jn=t,this.Qn=e,this.eg=i}kt(t){this.Qw=!0,"data"===t&&(this.tg=!0),"options"===t&&(this.ig=!0)}Tt(){return this.Jn.Vt()?(this.rg(),null===this.ng?null:this.hg):null}ag(){this.sg=this.sg.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}lg(){this.ng=null}rg(){this.tg&&(this.og(),this.tg=!1),this.ig&&(this.ag(),this.ig=!1),this.Qw&&(this._g(),this.Qw=!1)}_g(){const t=this.Jn.Ft(),e=this.Qn.Et();if(this.lg(),e.Ki()||t.Ki())return;const i=e.Pe();if(null===i)return;if(0===this.Jn.Xs().zr())return;const n=this.Jn.zt();null!==n&&(this.ng=pn(this.sg,i,this.eg),this.ug(t,e,n.Wt),this.cg())}}class yn{constructor(t,e){this.dg=t,this.Yi=e}nt(t,e,i){this.dg.draw(t,this.Yi,e,i)}}class gn extends mn{constructor(t,e,i){super(t,e,!1),this.sh=i,this.hg=new yn(this.sh.renderer(),e=>{const i=t.zt();return null===i?null:t.Ft().Nt(e,i.Wt)})}fa(t){return this.sh.priceValueBuilder(t)}va(t){return this.sh.isWhitespace(t)}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),fg:e.se}))}ug(t,e){e._u(this.sg,N(this.ng))}cg(){this.sh.update({bars:this.sg.map(bn),barSpacing:this.Qn.Et().vu(),visibleRange:this.ng},this.Jn.N())}}function bn(t){return{x:t._t,time:t.wt,originalData:t.fg,barColor:t.cr}}const vn={color:"#2196f3"},wn=(t,e,i)=>{const n=x(i);return new gn(t,e,n)};function _n(t){const e={value:t.Wt[3],time:t.Pw};return void 0!==t.Iw&&(e.customValues=t.Iw),e}function Sn(t){const e=_n(t);return void 0!==t.R&&(e.color=t.R),e}function xn(t){const e=_n(t);return void 0!==t.vt&&(e.lineColor=t.vt),void 0!==t.mr&&(e.topColor=t.mr),void 0!==t.wr&&(e.bottomColor=t.wr),e}function Mn(t){const e=_n(t);return void 0!==t.gr&&(e.topLineColor=t.gr),void 0!==t.Mr&&(e.bottomLineColor=t.Mr),void 0!==t.br&&(e.topFillColor1=t.br),void 0!==t.Sr&&(e.topFillColor2=t.Sr),void 0!==t.Cr&&(e.bottomFillColor1=t.Cr),void 0!==t.Pr&&(e.bottomFillColor2=t.Pr),e}function kn(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Pw};return void 0!==t.Iw&&(e.customValues=t.Iw),e}function Cn(t){const e=kn(t);return void 0!==t.R&&(e.color=t.R),e}function In(t){const e=kn(t),{R:i,Ht:n,vr:r}=t;return void 0!==i&&(e.color=i),void 0!==n&&(e.borderColor=n),void 0!==r&&(e.wickColor=r),e}function Tn(t){return{Area:xn,Line:Sn,Baseline:Mn,Histogram:Sn,Bar:Cn,Candlestick:In,Custom:Pn}[t]}function Pn(t){const e=t.Pw;return{...t.se,time:e}}const En={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Dn={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Nn={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:B,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Bn={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},On={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function Fn(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:Nn,crosshair:En,grid:Dn,overlayPriceScales:{...Bn},leftPriceScale:{...Bn,visible:!1},rightPriceScale:{...Bn,visible:!0},timeScale:On,localization:{locale:ci?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Ln{constructor(t,e,i){this.Wf=t,this.pg=e,this.vg=i??0}applyOptions(t){this.Wf.Qt().lc(this.pg,t,this.vg)}options(){return this.Yi().N()}width(){return lt(this.pg)?this.Wf.lw(this.pg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Wl(new It(t.from,t.to))}getVisibleRange(){const t=this.Yi().Qe();return null===t?null:{from:t.$e(),to:t.qe()}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return S(this.Wf.Qt().oc(this.pg,this.vg)).Ft}}class zn{constructor(t,e,i,n){this.Wf=t,this.Pt=i,this.mg=e,this.wg=n}getHeight(){return this.Pt.$t()}setHeight(t){const e=this.Wf.Qt(),i=e.Hc(this.Pt);e.fc(i,t)}getStretchFactor(){return this.Pt.Io()}setStretchFactor(t){this.Pt.Bo(t),this.Wf.Qt().Bh()}paneIndex(){return this.Wf.Qt().Hc(this.Pt)}moveTo(t){const e=this.paneIndex();e!==t&&(w(t>=0&&t<this.Wf.Uf().length,"Invalid pane index"),this.Wf.Qt().mc(e,t))}getSeries(){return this.Pt.Oo().map(t=>this.mg(t))??[]}getHTMLElement(){const t=this.Wf.Uf();return t&&0!==t.length&&t[this.paneIndex()]?t[this.paneIndex()].Xf():null}attachPrimitive(t){this.Pt.ua(t),t.attached&&t.attached({chart:this.wg,requestUpdate:()=>this.Pt.Qt().Bh()})}detachPrimitive(t){this.Pt.ca(t)}priceScale(t){if(null===this.Pt.Do(t))throw new Error(`Cannot find price scale with id: ${t}`);return new Ln(this.Wf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.wg.addCustomSeries(t,e,i)}addSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.wg.addSeries(t,e,this.paneIndex())}}const Rn={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class An{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}gg(){return this.ir}}class Un{constructor(t,e,i,n,r,s){this.Mg=new M,this.Jn=t,this.bg=e,this.Sg=i,this.o_=r,this.wg=n,this.xg=s}m(){this.Mg.m()}priceFormatter(){return this.Jn.ra()}priceToCoordinate(t){const e=this.Jn.zt();return null===e?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){const e=this.Jn.zt();return null===e?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(null===t)return null;const e=new Ue(new ze(t.from,t.to)).k_(),i=this.Jn.Xs();if(i.Ki())return null;const n=i.Fr(e.Uh(),1),r=i.Fr(e.bi(),-1),s=S(i.Lr()),o=S(i.Ks());if(null!==n&&null!==r&&n.Re>r.Re)return{barsBefore:t.from-s,barsAfter:o-t.to};const l={barsBefore:null===n||n.Re===s?t.from-s:n.Re-s,barsAfter:null===r||r.Re===o?o-t.to:o-r.Re};return null!==n&&null!==r&&(l.from=n.Pw,l.to=r.Pw),l}setData(t){this.o_,this.Jn.Rr(),this.bg.Cg(this.Jn,t),this.Pg("full")}update(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.Jn.Rr(),this.bg.kg(this.Jn,t,e),this.Pg("update")}dataByIndex(t,e){const i=this.Jn.Xs().Fr(t,e);return null===i?null:Tn(this.seriesType())(i)}data(){const t=Tn(this.seriesType());return this.Jn.Xs().Hr().map(e=>t(e))}subscribeDataChanged(t){this.Mg.i(t)}unsubscribeDataChanged(t){this.Mg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return E(this.Jn.N())}priceScale(){return this.Sg.priceScale(this.Jn.Ft().wa(),this.getPane().paneIndex())}createPriceLine(t){const e=k(E(Rn),t),i=this.Jn.Oh(e);return new An(i)}removePriceLine(t){this.Jn.Nh(t.gg())}priceLines(){return this.Jn.Fh().map(t=>new An(t))}seriesType(){return this.Jn.Rr()}attachPrimitive(t){this.Jn.ua(t),t.attached&&t.attached({chart:this.wg,series:this,requestUpdate:()=>this.Jn.Qt().Bh(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ca(t),t.detached&&t.detached(),this.Jn.Qt().Bh()}getPane(){const t=this.Jn,e=S(this.Jn.Qt().Hn(t));return this.xg(e)}moveToPane(t){this.Jn.Qt().Oc(this.Jn,t)}seriesOrder(){const t=this.Jn.Qt().Hn(this.Jn);return null===t?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){const e=this.Jn.Qt().Hn(this.Jn);null!==e&&e.Qo(this.Jn,t)}Pg(t){this.Mg.v()&&this.Mg.p(t)}}class Vn{constructor(t,e,i){this.yg=new M,this.z_=new M,this.wm=new M,this.ts=t,this.uh=t.Et(),this.Xm=e,this.uh.Du().i(this.Tg.bind(this)),this.uh.Vu().i(this.Rg.bind(this)),this.Xm.Pm().i(this.Dg.bind(this)),this.o_=i}m(){this.uh.Du().u(this),this.uh.Vu().u(this),this.Xm.Pm().u(this),this.yg.m(),this.z_.m(),this.wm.m()}scrollPosition(){return this.uh.wu()}scrollToPosition(t,e){e?this.uh.yu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){const t=this.uh.su();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},i=this.uh.hu(e);this.ts.zc(i)}getVisibleLogicalRange(){const t=this.uh.iu();return null===t?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){w(t.from<=t.to,"The from index cannot be after the to index."),this.ts.zc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Eu()}logicalToCoordinate(t){const e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.uu(t)}timeToIndex(t,e){const i=this.o_.convertHorzItemToInternal(t);return this.uh.J_(i,e)}timeToCoordinate(t){const e=this.timeToIndex(t,!1);return null===e?null:this.uh.qt(e)}coordinateToTime(t){const e=this.ts.Et(),i=e.uu(t),n=e.ss(i);return null===n?null:n.originalTime}width(){return this.Xm.Zf().width}height(){return this.Xm.Zf().height}subscribeVisibleTimeRangeChange(t){this.yg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.yg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.wm.i(t)}unsubscribeSizeChange(t){this.wm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...E(this.uh.N()),barSpacing:this.uh.vu()}}Tg(){this.yg.v()&&this.yg.p(this.getVisibleRange())}Rg(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Dg(t){this.wm.p(t.width,t.height)}}function Yn(t){return function(t){if(P(t.handleScale)){const e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;P(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),P(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}const e=t.handleScroll;P(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class jn{constructor(t,e,i){this.Vg=new Map,this.Ig=new Map,this.Bg=new M,this.Eg=new M,this.Ag=new M,this.$u=new WeakMap,this.zg=new un(e);const n=void 0===i?E(Fn()):k(E(Fn()),Yn(i));this.Lg=e,this.Wf=new Qi(t,n,e),this.Wf.Kv().i(t=>{this.Bg.v()&&this.Bg.p(this.Og(t()))},this),this.Wf.Xv().i(t=>{this.Eg.v()&&this.Eg.p(this.Og(t()))},this),this.Wf.uc().i(t=>{this.Ag.v()&&this.Ag.p(this.Og(t()))},this);const r=this.Wf.Qt();this.Ng=new Vn(r,this.Wf.tw(),this.Lg)}remove(){this.Wf.Kv().u(this),this.Wf.Xv().u(this),this.Wf.uc().u(this),this.Ng.m(),this.Wf.m(),this.Vg.clear(),this.Ig.clear(),this.Bg.m(),this.Eg.m(),this.Ag.m(),this.zg.m()}resize(t,e,i){this.autoSizeActive()||this.Wf.Gm(t,e,i)}addCustomSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=(t=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...vn,...t.defaultOptions()},Fg:wn,Wg:t}))(x(t));return this.Hg(n,e,i)}addSeries(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.Hg(t,e,i)}removeSeries(t){const e=_(this.Vg.get(t)),i=this.zg.Ec(e);this.Wf.Qt().Ec(e),this.Ug(i),this.Vg.delete(t),this.Ig.delete(e)}Cg(t,e){this.Ug(this.zg.Fw(t,e))}kg(t,e,i){this.Ug(this.zg.Yw(t,e,i))}subscribeClick(t){this.Bg.i(t)}unsubscribeClick(t){this.Bg._(t)}subscribeCrosshairMove(t){this.Ag.i(t)}unsubscribeCrosshairMove(t){this.Ag._(t)}subscribeDblClick(t){this.Eg.i(t)}unsubscribeDblClick(t){this.Eg._(t)}priceScale(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Ln(this.Wf,t,e)}timeScale(){return this.Ng}applyOptions(t){this.Wf.hr(Yn(t))}options(){return this.Wf.N()}takeScreenshot(){return this.Wf.hw()}addPane(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.Wf.Qt().Uc();return e.zo(t),this.$g(e)}removePane(t){this.Wf.Qt().dc(t)}swapPanes(t,e){this.Wf.Qt().vc(t,e)}autoSizeActive(){return this.Wf.uw()}chartElement(){return this.Wf.tp()}panes(){return this.Wf.Qt().$s().map(t=>this.$g(t))}paneSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=this.Wf.fw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){const n=this.Vg.get(i);if(void 0===n)return;const r=this.Wf.Qt().Hn(n);null!==r&&this.Wf.Qt().Tc(t,e,r)}clearCrosshairPosition(){this.Wf.Qt().Rc(!0)}horzBehaviour(){return this.Lg}Hg(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;w(void 0!==t.Fg),function(t){if(void 0===t||"custom"===t.type)return;const e=t;void 0!==e.minMove&&void 0===e.precision&&(e.precision=function(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(e.minMove))}(e.priceFormat),"Candlestick"===t.type&&function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(e);const n=k(E(p),E(t.defaultOptions),e),r=t.Fg,s=new ne(this.Wf.Qt(),t.type,n,r,t.Wg);this.Wf.Qt().Ic(s,i);const o=new Un(s,this,this,this,this.Lg,t=>this.$g(t));return this.Vg.set(o,s),this.Ig.set(s,o),o}Ug(t){const e=this.Wf.Qt();e.Dc(t.Et.ou,t.Et.Gw,t.Et.Jw),t.Oo.forEach((t,e)=>e.ht(t.se,t.Zw)),e.Et().j_(),e.pu()}qg(t){return _(this.Ig.get(t))}Og(t){const e=new Map;t.Rw.forEach((t,i)=>{const n=i.Rr(),r=Tn(n)(t);if("Custom"!==n)w(qi(r));else{const t=i.pa();w(!t||!1===t(r))}e.set(this.qg(i),r)});const i=void 0!==t.Tw&&this.Ig.has(t.Tw)?this.qg(t.Tw):void 0;return{time:t.Pw,logical:t.Re,point:t.kw,paneIndex:t.yw,hoveredSeries:i,hoveredObjectId:t.Dw,seriesData:e,sourceEvent:t.Vw}}$g(t){let e=this.$u.get(t);return e||(e=new zn(this.Wf,t=>this.qg(t),t,this),this.$u.set(t,e)),e}}function Wn(t){if(T(t)){const e=document.getElementById(t);return w(null!==e,`Cannot find element in DOM with id=${t}`),e}return t}function $n(t,e,i){const n=Wn(t),r=new jn(n,e,i);return e.setOptions(r.options()),r}class Qn extends mn{constructor(t,e){super(t,e,!0)}ug(t,e,i){e._u(this.sg,N(this.ng)),t.$l(this.sg,i,N(this.ng))}Yg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>{const i=e.Wt[3];return this.jg(e.Re,i,t)})}}function Hn(t,e,i,n,r,s,o){if(0===e.length||n.from>=e.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:h}=t,u=e[n.from];let c=s(t,u),d=u;if(n.to-n.from<2){const e=r/2;l.beginPath();const i={_t:u._t-e,ut:u.ut},n={_t:u._t+e,ut:u.ut};l.moveTo(i._t*a,i.ut*h),l.lineTo(n._t*a,n.ut*h),o(t,c,i,n)}else{const r=(e,i)=>{o(t,c,d,i),l.beginPath(),c=e,d=i};let f=d;l.beginPath(),l.moveTo(u._t*a,u.ut*h);for(let o=n.from+1;o<n.to;++o){f=e[o];const n=s(t,f);switch(i){case 0:l.lineTo(f._t*a,f.ut*h);break;case 1:l.lineTo(f._t*a,e[o-1].ut*h),n!==c&&(r(n,f),l.lineTo(f._t*a,e[o-1].ut*h)),l.lineTo(f._t*a,f.ut*h);break;case 2:{const[t,i]=Gn(e,o-1,o);l.bezierCurveTo(t._t*a,t.ut*h,i._t*a,i.ut*h,f._t*a,f.ut*h);break}}1!==i&&n!==c&&(r(n,f),l.moveTo(f._t*a,f.ut*h))}(d!==f||d===f&&1===i)&&o(t,c,d,f)}}const Xn=6;function qn(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function Kn(t,e){return{_t:t._t/e,ut:t.ut/e}}function Gn(t,e,i){const n=Math.max(0,e-1),r=Math.min(t.length-1,i+1);var s,o;return[(s=t[e],o=Kn(qn(t[i],t[n]),Xn),{_t:s._t+o._t,ut:s.ut+o.ut}),qn(t[i],Kn(qn(t[r],t[e]),Xn))]}function Zn(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class Jn extends U{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:i,Kg:n,Xg:r,ct:s,Xt:o,Zg:l}=this.rt;if(null===i)return;const a=t.context;a.lineCap="butt",a.lineWidth=s*t.verticalPixelRatio,b(a,o),a.lineJoin="round";const h=this.Gg.bind(this);void 0!==r&&Hn(t,e,r,i,n,h,Zn),l&&function(t,e,i,n,r){if(n.to-n.from<=0)return;const{horizontalPixelRatio:s,verticalPixelRatio:o,context:l}=t;let a=null;const h=Math.max(1,Math.floor(s))%2/2,u=i*o+h;for(let c=n.to-1;c>=n.from;--c){const i=e[c];if(i){const e=r(t,i);e!==a&&(l.beginPath(),null!==a&&l.fill(),l.fillStyle=e,a=e);const n=Math.round(i._t*s)+h,c=i.ut*o;l.moveTo(n,c),l.arc(n,c,u,0,2*Math.PI)}}l.fill()}(t,e,l,i,h)}}class tr extends Jn{Gg(t,e){return e.vt}}class er extends Qn{constructor(){super(...arguments),this.hg=new tr}jg(t,e,i){return{...this.Yg(t,e),...i.Dr(t)}}cg(){const t=this.Jn.N(),e={ot:this.sg,Xt:t.lineStyle,Xg:t.lineVisible?t.lineType:void 0,ct:t.lineWidth,Zg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,lt:this.ng,Kg:this.Qn.Et().vu()};this.hg.ht(e)}}const ir={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(t,e)=>new er(t,e)};function nr(t,e,i,n,r){const{context:s,horizontalPixelRatio:o,verticalPixelRatio:l}=e;s.lineTo(r._t*o,t*l),s.lineTo(n._t*o,t*l),s.closePath(),s.fillStyle=i,s.fill()}class rr extends U{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;const{ot:e,lt:i,Kg:n,ct:r,Xt:s,Xg:o}=this.rt,l=this.rt.eM??(this.rt.rM?0:t.mediaSize.height);if(null===i)return;const a=t.context;a.lineCap="butt",a.lineJoin="round",a.lineWidth=r,b(a,s),a.lineWidth=1,Hn(t,e,o,i,n,this.hM.bind(this),nr.bind(null,l))}}class sr{aM(t,e){const i=this.lM,{oM:n,_M:r,uM:s,cM:o,eM:l,dM:a,fM:h}=e;if(void 0===this.pM||void 0===i||i.oM!==n||i._M!==r||i.uM!==s||i.cM!==o||i.eM!==l||i.dM!==a||i.fM!==h){const{verticalPixelRatio:i}=t,u=l||a>0?i:1,c=a*u,d=h===t.bitmapSize.height?h:h*u,f=(l??0)*u,p=t.context.createLinearGradient(0,c,0,d);if(p.addColorStop(0,n),null!=l){const t=le((f-c)/(d-c),0,1);p.addColorStop(t,r),p.addColorStop(t,s)}p.addColorStop(1,o),this.pM=p,this.lM=e}return this.pM}}class or extends rr{constructor(){super(...arguments),this.vM=new sr}hM(t,e){const i=this.rt;return this.vM.aM(t,{oM:e.br,_M:e.Sr,uM:e.Cr,cM:e.Pr,eM:i.eM,dM:i.dM??0,fM:i.fM??t.bitmapSize.height})}}class lr extends Jn{constructor(){super(...arguments),this.mM=new sr}Gg(t,e){const i=this.rt;return this.mM.aM(t,{oM:e.gr,_M:e.gr,uM:e.Mr,cM:e.Mr,eM:i.eM,dM:i.dM??0,fM:i.fM??t.bitmapSize.height})}}class ar extends Qn{constructor(t,e){super(t,e),this.hg=new A,this.wM=new or,this.gM=new lr,this.hg.st([this.wM,this.gM])}jg(t,e,i){return{...this.Yg(t,e),...i.Dr(t)}}cg(){const t=this.Jn.zt();if(null===t)return;const e=this.Jn.N(),i=this.Jn.Ft().Nt(e.baseValue.price,t.Wt),n=this.Qn.Et().vu();if(null===this.ng||0===this.sg.length)return;let r,s;if(e.relativeGradient){r=this.sg[this.ng.from].ut,s=this.sg[this.ng.from].ut;for(let t=this.ng.from;t<this.ng.to;t++){const e=this.sg[t];e.ut<r&&(r=e.ut),e.ut>s&&(s=e.ut)}}this.wM.ht({ot:this.sg,ct:e.lineWidth,Xt:e.lineStyle,Xg:e.lineType,eM:i,dM:r,fM:s,rM:!1,lt:this.ng,Kg:n}),this.gM.ht({ot:this.sg,ct:e.lineWidth,Xt:e.lineStyle,Xg:e.lineVisible?e.lineType:void 0,Zg:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,eM:i,dM:r,fM:s,lt:this.ng,Kg:n})}}const hr={type:"Baseline",isBuiltIn:!0,defaultOptions:{baseValue:{type:"price",price:0},relativeGradient:!1,topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(t,e)=>new ar(t,e)};class ur extends rr{constructor(){super(...arguments),this.vM=new sr}hM(t,e){return this.vM.aM(t,{oM:e.mr,_M:"",uM:"",cM:e.wr,dM:this.rt?.dM??0,fM:t.bitmapSize.height})}}class cr extends Qn{constructor(t,e){super(t,e),this.hg=new A,this.MM=new ur,this.bM=new tr,this.hg.st([this.MM,this.bM])}jg(t,e,i){return{...this.Yg(t,e),...i.Dr(t)}}cg(){const t=this.Jn.N();if(null===this.ng||0===this.sg.length)return;let e;if(t.relativeGradient){e=this.sg[this.ng.from].ut;for(let t=this.ng.from;t<this.ng.to;t++){const i=this.sg[t];i.ut<e&&(e=i.ut)}}this.MM.ht({Xg:t.lineType,ot:this.sg,Xt:t.lineStyle,ct:t.lineWidth,eM:null,dM:e,rM:t.invertFilledArea,lt:this.ng,Kg:this.Qn.Et().vu()}),this.bM.ht({Xg:t.lineVisible?t.lineType:void 0,ot:this.sg,Xt:t.lineStyle,ct:t.lineWidth,lt:this.ng,Kg:this.Qn.Et().vu(),Zg:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}const dr={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},Fg:(t,e)=>new cr(t,e)};class fr extends U{constructor(){super(...arguments),this.Yt=null,this.SM=0,this.xM=0}ht(t){this.Yt=t}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.Yt||0===this.Yt.Xs.length||null===this.Yt.lt)return;this.SM=this.CM(i),this.SM>=2&&Math.max(1,Math.floor(i))%2!=this.SM%2&&this.SM--,this.xM=this.Yt.PM?Math.min(this.SM,Math.floor(i)):this.SM;let r=null;const s=this.xM<=this.SM&&this.Yt.vu>=Math.floor(1.5*i);for(let o=this.Yt.lt.from;o<this.Yt.lt.to;++o){const t=this.Yt.Xs[o];r!==t.cr&&(e.fillStyle=t.cr,r=t.cr);const l=Math.floor(.5*this.xM),a=Math.round(t._t*i),h=a-l,u=this.xM,c=h+u-1,d=Math.min(t.Kl,t.Xl),f=Math.max(t.Kl,t.Xl),p=Math.round(d*n)-l,m=Math.round(f*n)+l,y=Math.max(m-p,this.xM);e.fillRect(h,p,u,y);const g=Math.ceil(1.5*this.SM);if(s){if(this.Yt.kM){const i=a-g;let r=Math.max(p,Math.round(t.jl*n)-l),s=r+u-1;s>p+y-1&&(s=p+y-1,r=s-u+1),e.fillRect(i,r,h-i,s-r+1)}const i=a+g;let r=Math.max(p,Math.round(t.Zl*n)-l),s=r+u-1;s>p+y-1&&(s=p+y-1,r=s-u+1),e.fillRect(c+1,r,i-c,s-r+1)}}}CM(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(t,e){return Math.floor(.3*t*e)}(S(this.Yt).vu,t)))}}class pr extends mn{constructor(t,e){super(t,e,!1)}ug(t,e,i){e._u(this.sg,N(this.ng)),t.Yl(this.sg,i,N(this.ng))}yM(t,e,i){return{wt:t,qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3],_t:NaN,jl:NaN,Kl:NaN,Xl:NaN,Zl:NaN}}og(){const t=this.Jn.Rh();this.sg=this.Jn.Xs().Hr().map(e=>this.jg(e.Re,e,t))}}class mr extends pr{constructor(){super(...arguments),this.hg=new fr}jg(t,e,i){return{...this.yM(t,e,i),...i.Dr(t)}}cg(){const t=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),kM:t.openVisible,PM:t.thinBars,lt:this.ng})}}const yr={type:"Bar",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Fg:(t,e)=>new mr(t,e)};class gr extends U{constructor(){super(...arguments),this.Yt=null,this.SM=0}ht(t){this.Yt=t}et(t){if(null===this.Yt||0===this.Yt.Xs.length||null===this.Yt.lt)return;const{horizontalPixelRatio:e}=t;this.SM=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);const i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),n=Math.floor(t*i*e),r=Math.floor(t*e),s=Math.min(n,r);return Math.max(Math.floor(e),s)}(this.Yt.vu,e),this.SM>=2&&Math.floor(e)%2!=this.SM%2&&this.SM--;const i=this.Yt.Xs;this.Yt.TM&&this.RM(t,i,this.Yt.lt),this.Yt.Mi&&this._v(t,i,this.Yt.lt);const n=this.DM(e);(!this.Yt.Mi||this.SM>2*n)&&this.VM(t,i,this.Yt.lt)}RM(t,e,i){if(null===this.Yt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="",l=Math.min(Math.floor(r),Math.floor(this.Yt.vu*r));l=Math.max(Math.floor(r),Math.min(l,this.SM));const a=Math.floor(.5*l);let h=null;for(let u=i.from;u<i.to;u++){const t=e[u];t.pr!==o&&(n.fillStyle=t.pr,o=t.pr);const i=Math.round(Math.min(t.jl,t.Zl)*s),c=Math.round(Math.max(t.jl,t.Zl)*s),d=Math.round(t.Kl*s),f=Math.round(t.Xl*s);let p=Math.round(r*t._t)-a;const m=p+l-1;null!==h&&(p=Math.max(h+1,p),p=Math.min(p,m));const y=m-p+1;n.fillRect(p,d,y,i-d),n.fillRect(p,c+1,y,f-c),h=m}}DM(t){let e=Math.floor(1*t);this.SM<=2*e&&(e=Math.floor(.5*(this.SM-1)));const i=Math.max(Math.floor(t),e);return this.SM<=2*i?Math.max(Math.floor(t),Math.floor(1*t)):i}_v(t,e,i){if(null===this.Yt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this.DM(r);let a=null;for(let h=i.from;h<i.to;h++){const t=e[h];t.dr!==o&&(n.fillStyle=t.dr,o=t.dr);let i=Math.round(t._t*r)-Math.floor(.5*this.SM);const u=i+this.SM-1,c=Math.round(Math.min(t.jl,t.Zl)*s),d=Math.round(Math.max(t.jl,t.Zl)*s);if(null!==a&&(i=Math.max(a+1,i),i=Math.min(i,u)),this.Yt.vu*r>2*l)H(n,i,c,u-i+1,d-c+1,l);else{const t=u-i+1;n.fillRect(i,c,t,d-c+1)}a=u}}VM(t,e,i){if(null===this.Yt)return;const{context:n,horizontalPixelRatio:r,verticalPixelRatio:s}=t;let o="";const l=this.DM(r);for(let a=i.from;a<i.to;a++){const t=e[a];let i=Math.round(Math.min(t.jl,t.Zl)*s),h=Math.round(Math.max(t.jl,t.Zl)*s),u=Math.round(t._t*r)-Math.floor(.5*this.SM),c=u+this.SM-1;if(t.cr!==o){const e=t.cr;n.fillStyle=e,o=e}this.Yt.Mi&&(u+=l,i+=l,c-=l,h-=l),i>h||n.fillRect(u,i,c-u+1,h-i+1)}}}class br extends pr{constructor(){super(...arguments),this.hg=new gr}jg(t,e,i){return{...this.yM(t,e,i),...i.Dr(t)}}cg(){const t=this.Jn.N();this.hg.ht({Xs:this.sg,vu:this.Qn.Et().vu(),TM:t.wickVisible,Mi:t.borderVisible,lt:this.ng})}}const vr={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Fg:(t,e)=>new br(t,e)};class wr extends U{constructor(){super(...arguments),this.Yt=null,this.IM=[]}ht(t){this.Yt=t,this.IM=[]}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return;this.IM.length||this.BM(i);const r=Math.max(1,Math.floor(n)),s=Math.round(this.Yt.EM*n)-Math.floor(r/2),o=s+r;for(let l=this.Yt.lt.from;l<this.Yt.lt.to;l++){const t=this.Yt.ot[l],i=this.IM[l-this.Yt.lt.from],a=Math.round(t.ut*n);let h,u;e.fillStyle=t.cr,a<=s?(h=a,u=o):(h=s,u=a-Math.floor(r/2)+r),e.fillRect(i.Uh,h,i.bi-i.Uh+1,u-h)}}BM(t){if(null===this.Yt||0===this.Yt.ot.length||null===this.Yt.lt)return void(this.IM=[]);const e=Math.ceil(this.Yt.vu*t)<=1?0:Math.max(1,Math.floor(t)),i=Math.round(this.Yt.vu*t)-e;this.IM=new Array(this.Yt.lt.to-this.Yt.lt.from);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const e=this.Yt.ot[r],n=Math.round(e._t*t);let s,o;if(i%2){const t=(i-1)/2;s=n-t,o=n+t}else{const t=i/2;s=n-t,o=n+t-1}this.IM[r-this.Yt.lt.from]={Uh:s,bi:o,AM:n,ne:e._t*t,wt:e.wt}}for(let r=this.Yt.lt.from+1;r<this.Yt.lt.to;r++){const t=this.IM[r-this.Yt.lt.from],i=this.IM[r-this.Yt.lt.from-1];t.wt===i.wt+1&&t.Uh-i.bi!==e+1&&(i.AM>i.ne?i.bi=t.Uh-e-1:t.Uh=i.bi+e+1)}let n=Math.ceil(this.Yt.vu*t);for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const t=this.IM[r-this.Yt.lt.from];t.bi<t.Uh&&(t.bi=t.Uh);const e=t.bi-t.Uh+1;n=Math.min(e,n)}if(e>0&&n<4)for(let r=this.Yt.lt.from;r<this.Yt.lt.to;r++){const t=this.IM[r-this.Yt.lt.from];t.bi-t.Uh+1>n&&(t.AM>t.ne?t.bi-=1:t.Uh+=1)}}}class _r extends Qn{constructor(){super(...arguments),this.hg=new wr}jg(t,e,i){return{...this.Yg(t,e),...i.Dr(t)}}cg(){const t={ot:this.sg,vu:this.Qn.Et().vu(),lt:this.ng,EM:this.Jn.Ft().Nt(this.Jn.N().base,S(this.Jn.zt()).Wt)};this.hg.ht(t)}}const Sr={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},Fg:(t,e)=>new _r(t,e)};class xr{constructor(t,e){this.Jn=t,this.ah=e,this.LM()}detach(){this.Jn.detachPrimitive(this.ah)}getSeries(){return this.Jn}applyOptions(t){this.ah&&this.ah.hr&&this.ah.hr(t)}LM(){this.Jn.attachPrimitive(this.ah)}}const Mr={zOrder:"normal"};function kr(t,e){return he(Math.min(Math.max(t,12),30)*e)}function Cr(t,e){switch(t){case"arrowDown":case"arrowUp":return kr(e,1);case"circle":return kr(e,.8);case"square":return kr(e,.7)}}function Ir(t){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(kr(t,1))}function Tr(t){return Math.max(kr(t,.1),3)}function Pr(t,e,i){return e?t:i?Math.ceil(t/2):0}function Er(t,e,i,n){const r=(Cr("arrowUp",n)-1)/2*i.hb,s=(he(n/2)-1)/2*i.hb;e.beginPath(),t?(e.moveTo(i._t-r,i.ut),e.lineTo(i._t,i.ut-r),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+s,i.ut+r),e.lineTo(i._t-s,i.ut+r),e.lineTo(i._t-s,i.ut)):(e.moveTo(i._t-r,i.ut),e.lineTo(i._t,i.ut+r),e.lineTo(i._t+r,i.ut),e.lineTo(i._t+s,i.ut),e.lineTo(i._t+s,i.ut-r),e.lineTo(i._t-s,i.ut-r),e.lineTo(i._t-s,i.ut)),e.fill()}function Dr(t,e,i,n,r,s){const o=(Cr("arrowUp",n)-1)/2,l=(he(n/2)-1)/2;return r>=e-l-2&&r<=e+l+2&&s>=(t?i:i-o)-2&&s<=(t?i+o:i)+2||(()=>{if(r<e-o-3||r>e+o+3||s<(t?i-o-3:i)||s>(t?i:i+o+3))return!1;const n=Math.abs(r-e);return Math.abs(s-i)+3>=n/2})()}class Nr{constructor(){this.Yt=null,this.On=new mt,this.F=-1,this.W="",this.Fp="",this.ab="normal"}ht(t){this.Yt=t}Nn(t,e,i){this.F===t&&this.W===e||(this.F=t,this.W=e,this.Fp=O(t,e),this.On.In()),this.ab=i}jn(t,e){if(null===this.Yt||null===this.Yt.lt)return null;for(let i=this.Yt.lt.from;i<this.Yt.lt.to;i++){const n=this.Yt.ot[i];if(n&&Or(n,t,e))return{zOrder:"normal",externalId:n.Kn??""}}return null}draw(t){"aboveSeries"!==this.ab&&t.useBitmapCoordinateSpace(t=>{this.et(t)})}drawBackground(t){"aboveSeries"===this.ab&&t.useBitmapCoordinateSpace(t=>{this.et(t)})}et(t){let{context:e,horizontalPixelRatio:i,verticalPixelRatio:n}=t;if(null!==this.Yt&&null!==this.Yt.lt){e.textBaseline="middle",e.font=this.Fp;for(let t=this.Yt.lt.from;t<this.Yt.lt.to;t++){const r=this.Yt.ot[t];void 0!==r.ri&&(r.ri.Qi=this.On.Vi(e,r.ri.lb),r.ri.$t=this.F,r.ri._t=r._t-r.ri.Qi/2),Br(r,e,i,n)}}}}function Br(t,e,i,n){e.fillStyle=t.R,void 0!==t.ri&&function(t,e,i,n,r,s){t.save(),t.scale(r,s),t.fillText(e,i,n),t.restore()}(e,t.ri.lb,t.ri._t,t.ri.ut,i,n),function(t,e,i){if(0!==t.zr){switch(t.ob){case"arrowDown":return void Er(!1,e,i,t.zr);case"arrowUp":return void Er(!0,e,i,t.zr);case"circle":return void function(t,e,i){const n=(Cr("circle",i)-1)/2;t.beginPath(),t.arc(e._t,e.ut,n*e.hb,0,2*Math.PI,!1),t.fill()}(e,i,t.zr);case"square":return void function(t,e,i){const n=Cr("square",i),r=(n-1)*e.hb/2,s=e._t-r,o=e.ut-r;t.fillRect(s,o,n*e.hb,n*e.hb)}(e,i,t.zr)}t.ob}}(t,e,function(t,e,i){const n=Math.max(1,Math.floor(e))%2/2;return{_t:Math.round(t._t*e)+n,ut:t.ut*i,hb:e}}(t,i,n))}function Or(t,e,i){return!(void 0===t.ri||!function(t,e,i,n,r,s){const o=n/2;return r>=t&&r<=t+i&&s>=e-o&&s<=e+o}(t.ri._t,t.ri.ut,t.ri.Qi,t.ri.$t,e,i))||function(t,e,i){if(0===t.zr)return!1;switch(t.ob){case"arrowDown":return Dr(!0,t._t,t.ut,t.zr,e,i);case"arrowUp":return Dr(!1,t._t,t.ut,t.zr,e,i);case"circle":return function(t,e,i,n,r){const s=2+Cr("circle",i)/2,o=t-n,l=e-r;return Math.sqrt(o*o+l*l)<=s}(t._t,t.ut,t.zr,e,i);case"square":return function(t,e,i,n,r){const s=Cr("square",i),o=(s-1)/2,l=t-o,a=e-o;return n>=l&&n<=l+s&&r>=a&&r<=a+s}(t._t,t.ut,t.zr,e,i)}}(t,e,i)}function Fr(t){return"atPriceTop"===t||"atPriceBottom"===t||"atPriceMiddle"===t}function Lr(t,e,i,n,r,s,o,l){const a=function(t,e){if(Fr(e.position)&&void 0!==e.price)return e.price;if("value"in(i=t)&&"number"==typeof i.value)return t.value;var i;if(function(t){return"open"in t&&"high"in t&&"low"in t&&"close"in t}(t)){if("inBar"===e.position)return t.close;if("aboveBar"===e.position)return t.high;if("belowBar"===e.position)return t.low}}(i,e);if(void 0===a)return;const h=Fr(e.position),u=l.timeScale(),c=C(e.size)?Math.max(e.size,0):1,d=Ir(u.options().barSpacing)*c,f=d/2;switch(t.zr=d,e.position){case"inBar":case"atPriceMiddle":return t.ut=S(o.priceToCoordinate(a)),void(void 0!==t.ri&&(t.ri.ut=t.ut+f+s+.6*r));case"aboveBar":case"atPriceTop":{const e=h?0:n._b;return t.ut=S(o.priceToCoordinate(a))-f-e,void 0!==t.ri&&(t.ri.ut=t.ut-f-.6*r,n._b+=1.2*r),void(h||(n._b+=d+s))}case"belowBar":case"atPriceBottom":{const e=h?0:n.ub;return t.ut=S(o.priceToCoordinate(a))+f+e,void 0!==t.ri&&(t.ri.ut=t.ut+f+s+.6*r,n.ub+=1.2*r),void(h||(n.ub+=d+s))}}}class zr{constructor(t,e,i){this.cb=[],this.xt=!0,this.fb=!0,this.Gt=new Nr,this.ge=t,this.Dp=e,this.Yt={ot:[],lt:null},this.Ps=i}renderer(){if(!this.ge.options().visible)return null;this.xt&&this.pb();const t=this.Dp.options().layout;return this.Gt.Nn(t.fontSize,t.fontFamily,this.Ps.zOrder),this.Gt.ht(this.Yt),this.Gt}mb(t){this.cb=t,this.kt("data")}kt(t){this.xt=!0,"data"===t&&(this.fb=!0)}wb(t){this.xt=!0,this.Ps=t}zOrder(){return"aboveSeries"===this.Ps.zOrder?"top":this.Ps.zOrder}pb(){const t=this.Dp.timeScale(),e=this.cb;this.fb&&(this.Yt.ot=e.map(t=>({wt:t.time,_t:0,ut:0,zr:0,ob:t.shape,R:t.color,Kn:t.id,gb:t.gb,ri:void 0})),this.fb=!1);const i=this.Dp.options().layout;this.Yt.lt=null;const n=t.getVisibleLogicalRange();if(null===n)return;const r=new ze(Math.floor(n.from),Math.ceil(n.to));if(null===this.ge.data()[0])return;if(0===this.Yt.ot.length)return;let s=NaN;const o=Tr(t.options().barSpacing),l={_b:o,ub:o};this.Yt.lt=pn(this.Yt.ot,r,!0);for(let a=this.Yt.lt.from;a<this.Yt.lt.to;a++){const n=e[a];n.time!==s&&(l._b=o,l.ub=o,s=n.time);const r=this.Yt.ot[a];r._t=S(t.logicalToCoordinate(n.time)),void 0!==n.text&&n.text.length>0&&(r.ri={lb:n.text,_t:0,ut:0,Qi:0,$t:0});const h=this.ge.dataByIndex(n.time,0);null!==h&&Lr(r,n,h,l,i.fontSize,o,this.ge,this.Dp)}this.xt=!1}}function Rr(t){return{...Mr,...t}}class Ar{constructor(t){this.sh=null,this.cb=[],this.Mb=[],this.bb=null,this.ge=null,this.Dp=null,this.Sb=!0,this.xb=null,this.Cb=null,this.Pb=null,this.kb=!0,this.Ps=Rr(t)}attached(t){this.yb(),this.Dp=t.chart,this.ge=t.series,this.sh=new zr(this.ge,S(this.Dp),this.Ps),this.eb=t.requestUpdate,this.ge.subscribeDataChanged(t=>this.Pg(t)),this.kb=!0,this.UM()}UM(){this.eb&&this.eb()}detached(){this.ge&&this.bb&&this.ge.unsubscribeDataChanged(this.bb),this.Dp=null,this.ge=null,this.sh=null,this.bb=null}mb(t){this.kb=!0,this.cb=t,this.yb(),this.Sb=!0,this.Cb=null,this.UM()}Tb(){return this.cb}paneViews(){return this.sh?[this.sh]:[]}updateAllViews(){this.Rb()}hitTest(t,e){return this.sh?this.sh.renderer()?.jn(t,e)??null:null}autoscaleInfo(t,e){if(this.sh){const t=this.Db();if(t)return{priceRange:null,margins:t}}return null}hr(t){this.Ps=Rr({...this.Ps,...t}),this.UM&&this.UM()}Db(){const t=S(this.Dp).timeScale().options().barSpacing;if(this.Sb||t!==this.Pb){if(this.Pb=t,this.cb.length>0){const e=Tr(t),i=1.5*Ir(t)+2*e,n=this.Vb();this.xb={above:Pr(i,n.aboveBar,n.inBar),below:Pr(i,n.belowBar,n.inBar)}}else this.xb=null;this.Sb=!1}return this.xb}Vb(){return null===this.Cb&&(this.Cb=this.cb.reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.Cb}yb(){if(!this.kb||!this.Dp||!this.ge)return;const t=this.Dp.timeScale(),e=this.ge?.data();if(null==t.getVisibleLogicalRange()||!this.ge||0===e.length)return void(this.Mb=[]);const i=t.timeToIndex(S(e[0].time),!0);this.Mb=this.cb.map((e,n)=>{const r=t.timeToIndex(e.time,!0),s=r<i?1:-1,o=S(this.ge).dataByIndex(r,s),l={time:t.timeToIndex(S(o).time,!1),position:e.position,shape:e.shape,color:e.color,id:e.id,gb:n,text:e.text,size:e.size,price:e.price,Pw:e.time};if("atPriceTop"===e.position||"atPriceBottom"===e.position||"atPriceMiddle"===e.position){if(void 0===e.price)throw new Error(`Price is required for position ${e.position}`);return{...l,position:e.position,price:e.price}}return{...l,position:e.position,price:e.price}}),this.kb=!1}Rb(t){this.sh&&(this.yb(),this.sh.mb(this.Mb),this.sh.wb(this.Ps),this.sh.kt(t))}Pg(t){this.kb=!0,this.UM()}}class Ur extends xr{constructor(t,e,i){super(t,e),i&&this.setMarkers(i)}setMarkers(t){this.ah.mb(t)}markers(){return this.ah.Tb()}}function Vr(t,e,i){const n=new Ur(t,new Ar(i??{}));return e&&n.setMarkers(e),n}function Yr(t,e){const i=[],n="long"===t.tradeType?e.entryMarkerColorLong||"#2196F3":e.entryMarkerColorShort||"#FF9800",r={time:Xr(t.entryTime),position:"long"===t.tradeType?"belowBar":"aboveBar",color:n,shape:"long"===t.tradeType?"arrowUp":"arrowDown",text:e.showPnlInMarkers&&t.text?t.text:`Entry: $${t.entryPrice.toFixed(2)}`};i.push(r);const s=t.isProfitable?e.exitMarkerColorProfit||"#4CAF50":e.exitMarkerColorLoss||"#F44336",o={time:Xr(t.exitTime),position:"long"===t.tradeType?"aboveBar":"belowBar",color:s,shape:"long"===t.tradeType?"arrowDown":"arrowUp",text:e.showPnlInMarkers&&t.text?t.text:`Exit: $${t.exitPrice.toFixed(2)}`};return i.push(o),i}function jr(t,e){const i=t.isProfitable?e.rectangleColorProfit||"#4CAF50":e.rectangleColorLoss||"#F44336",n=e.rectangleFillOpacity||.2,r=`${i}${Math.floor(255*n).toString(16).padStart(2,"0")}`;return{type:"rectangle",time1:Xr(t.entryTime),price1:t.entryPrice,time2:Xr(t.exitTime),price2:t.exitPrice,fillColor:r,borderColor:i,borderWidth:e.rectangleBorderWidth||1,borderStyle:"solid"}}function Wr(t,e){const i=t.isProfitable?e.lineColorProfit||"#4CAF50":e.lineColorLoss||"#F44336";return{type:"trendLine",time1:Xr(t.entryTime),price1:t.entryPrice,time2:Xr(t.exitTime),price2:t.exitPrice,lineColor:i,lineWidth:e.lineWidth||2,lineStyle:qr(e.lineStyle||"dashed")}}function $r(t,e){const i=t.isProfitable?e.arrowColorProfit||"#4CAF50":e.arrowColorLoss||"#F44336";return{type:"arrow",time1:Xr(t.entryTime),price1:t.entryPrice,time2:Xr(t.exitTime),price2:t.exitPrice,lineColor:i,lineWidth:e.lineWidth||2,arrowSize:e.arrowSize||10,text:t.pnlPercentage?`${t.pnlPercentage.toFixed(1)}%`:""}}function Qr(t,e,i){const n="long"===t.tradeType?e.zoneColorLong||"#2196F3":e.zoneColorShort||"#FF9800",r=e.zoneOpacity||.1,s=`${n}${Math.floor(255*r).toString(16).padStart(2,"0")}`;let o=Xr(t.entryTime),l=Xr(t.exitTime);if(i&&e.zoneExtendBars&&e.zoneExtendBars>0){const n=i.findIndex(e=>e.time>=t.entryTime),r=i.findIndex(e=>e.time>=t.exitTime);n>=e.zoneExtendBars&&(o=i[n-e.zoneExtendBars].time),r+e.zoneExtendBars<i.length&&(l=i[r+e.zoneExtendBars].time)}const a=1.01*Math.max(t.entryPrice,t.exitPrice);return{type:"rectangle",time1:o,price1:.99*Math.min(t.entryPrice,t.exitPrice),time2:l,price2:a,fillColor:s,borderColor:"transparent",borderWidth:0}}function Hr(t,e){const i=[];e.showTradeId&&t.id&&i.push(`#${t.id}`),e.showTradeType&&i.push(t.tradeType.toUpperCase()),e.showQuantity&&i.push(`Qty: ${t.quantity}`),void 0!==t.pnlPercentage&&i.push(`P&L: ${t.pnlPercentage.toFixed(1)}%`);return{type:"text",time:(Xr(t.entryTime)+Xr(t.exitTime))/2,price:(t.entryPrice+t.exitPrice)/2,text:i.join(" | "),fontSize:e.annotationFontSize||12,backgroundColor:e.annotationBackground||"rgba(255, 255, 255, 0.8)",color:"#000000",padding:4}}function Xr(t){const e=new Date(t);return Math.floor(e.getTime()/1e3)}function qr(t){return{solid:0,dotted:1,dashed:2,large_dashed:3,sparse_dotted:4}[t]||2}function Kr(t,e){const i={markers:[],shapes:[],texts:[]},n=void 0!==e?e*(t.opacity||1):t.opacity||1;switch(t.type){case"text":i.texts.push(function(t,e){const i=Gr(t.time);return{type:"text",time:i,price:t.price,text:t.text,fontSize:t.fontSize||12,fontWeight:t.fontWeight||"normal",color:t.textColor||"#000000",backgroundColor:t.backgroundColor||"rgba(255, 255, 255, 0.9)",borderColor:t.borderColor||"#CCCCCC",borderWidth:t.borderWidth||1,opacity:e,padding:4,tooltip:t.tooltip}}(t,n));break;case"arrow":i.shapes.push(function(t,e){const i=Gr(t.time);return{type:"arrow",time:i,price:t.price,color:t.color||"#2196F3",size:t.fontSize||12,opacity:e,text:t.text,tooltip:t.tooltip}}(t,n));break;case"shape":i.shapes.push(function(t,e){const i=Gr(t.time);return{type:"shape",time:i,price:t.price,color:t.color||"#2196F3",backgroundColor:t.backgroundColor||"rgba(33, 150, 243, 0.2)",borderColor:t.borderColor||"#2196F3",borderWidth:t.borderWidth||1,opacity:e,text:t.text,tooltip:t.tooltip}}(t,n));break;case"line":i.shapes.push(function(t,e){const i=Gr(t.time);return{type:"trendLine",time1:i,price1:t.price,time2:i+86400,price2:t.price,lineColor:t.color||"#2196F3",lineWidth:t.borderWidth||2,lineStyle:Zr(t.lineStyle||"solid"),opacity:e,text:t.text,tooltip:t.tooltip}}(t,n));break;case"rectangle":i.shapes.push(function(t,e){const i=Gr(t.time);return{type:"rectangle",time1:i,price1:.99*t.price,time2:i+86400,price2:1.01*t.price,fillColor:t.backgroundColor||"rgba(33, 150, 243, 0.2)",borderColor:t.borderColor||"#2196F3",borderWidth:t.borderWidth||1,opacity:e,text:t.text,tooltip:t.tooltip}}(t,n));break;case"circle":i.shapes.push(function(t,e){const i=Gr(t.time);return{type:"circle",time:i,price:t.price,color:t.color||"#2196F3",backgroundColor:t.backgroundColor||"rgba(33, 150, 243, 0.2)",borderColor:t.borderColor||"#2196F3",borderWidth:t.borderWidth||1,radius:t.fontSize||6,opacity:e,text:t.text,tooltip:t.tooltip}}(t,n))}return i}function Gr(t){const e=new Date(t);return Math.floor(e.getTime()/1e3)}function Zr(t){return{solid:0,dotted:1,dashed:2,large_dashed:3,sparse_dotted:4}[t]||0}var Jr=i(579);const ts=t=>{let{config:e,height:i=400,width:r=800}=t;const s=(0,n.useRef)({}),o=(0,n.useRef)({}),[l,a]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!e.charts||0===e.charts.length)return;const t=(t,e,n)=>{try{var l;const p=function(t,e){return $n(t,new ui,ui.ad(e))}(t,{width:r,height:i,layout:{background:{type:Qe.Solid,color:"white"},textColor:"black"},grid:{vertLines:{color:"#f0f0f0"},horzLines:{color:"#f0f0f0"}},crosshair:{mode:1},rightPriceScale:{borderColor:"#cccccc"},leftPriceScale:(null===(l=e.chart)||void 0===l?void 0:l.leftPriceScale)||{visible:!1,borderColor:"#cccccc"},timeScale:{borderColor:"#cccccc",timeVisible:!0,secondsVisible:!1},...e.chart});s.current[n]=p;const m=[];if(e.series.forEach((t,e)=>{const i=h(p,t);i&&(m.push(i),t.trades&&t.tradeVisualizationOptions&&u(i,t.trades,t.tradeVisualizationOptions,t.data),t.annotations&&c(p,t.annotations))}),o.current[n]=m,e.trades&&e.series.length>0){const t=o.current[n][0];if(t){var a;const i={style:"markers",entryMarkerColorLong:"#2196F3",entryMarkerColorShort:"#FF9800",exitMarkerColorProfit:"#4CAF50",exitMarkerColorLoss:"#F44336"};u(t,e.trades,i,null===(a=e.series[0])||void 0===a?void 0:a.data)}}e.annotations&&c(p,e.annotations),e.annotationLayers&&d(p,e.annotationLayers),e.priceLines&&m.length>0&&e.priceLines.forEach(t=>{m[0].createPriceLine(t)}),e.rangeSwitcher&&e.rangeSwitcher.visible&&f(p,e.rangeSwitcher)}catch(p){}};return e.charts.forEach((e,i)=>{const n=e.chartId||`chart-${i}`,r=`chart-container-${n}`,s=document.getElementById(r);s?t(s,e,n):setTimeout(()=>{const i=document.getElementById(r);i&&t(i,e,n)},100)}),a(!0),e.syncConfig.enabled&&p(),()=>{Object.values(s.current).forEach(t=>{t.remove()}),s.current={},o.current={}}},[e,i,r]);const h=(t,e)=>{const{type:i,data:n,options:r={},name:s,priceScale:o}=e;let l;switch(null===i||void 0===i?void 0:i.toLowerCase()){case"area":l=t.addSeries(dr,{lineColor:"#2196F3",topColor:"rgba(33, 150, 243, 0.4)",bottomColor:"rgba(33, 150, 243, 0.0)",lineWidth:2,...r});break;case"baseline":l=t.addSeries(hr,{baseValue:{price:0},topLineColor:"rgba(76, 175, 80, 0.4)",topFillColor1:"rgba(76, 175, 80, 0.0)",topFillColor2:"rgba(76, 175, 80, 0.4)",bottomLineColor:"rgba(255, 82, 82, 0.4)",bottomFillColor1:"rgba(255, 82, 82, 0.4)",bottomFillColor2:"rgba(255, 82, 82, 0.0)",lineWidth:2,...r});break;case"histogram":l=t.addSeries(Sr,{color:"#2196F3",priceFormat:{type:"volume"},priceScaleId:r.priceScaleId||"",scaleMargins:{top:.8,bottom:0},...r});break;case"line":l=t.addSeries(ir,{color:"#2196F3",lineWidth:2,...r});break;case"bar":l=t.addSeries(yr,{upColor:"#4CAF50",downColor:"#F44336",borderVisible:!1,wickUpColor:"#4CAF50",wickDownColor:"#F44336",...r});break;case"candlestick":l=t.addSeries(vr,{upColor:"#4CAF50",downColor:"#F44336",borderVisible:!1,wickUpColor:"#4CAF50",wickDownColor:"#F44336",...r});break;default:return console.warn(`Unknown series type: ${i}`),null}return o&&l.priceScale().applyOptions(o),n&&n.length>0&&l.setData(n),l},u=(t,e,i,n)=>{const r=function(t,e,i){const n={markers:[],shapes:[],annotations:[]};for(const r of t){if("markers"===e.style||"both"===e.style){const t=Yr(r,e);n.markers.push(...t)}if("rectangles"===e.style||"both"===e.style){const t=jr(r,e);n.shapes.push(t)}if("lines"===e.style){const t=Wr(r,e);n.shapes.push(t)}if("arrows"===e.style){const t=$r(r,e);n.shapes.push(t)}if("zones"===e.style){const t=Qr(r,e,i);n.shapes.push(t)}if(e.showTradeId||e.showQuantity||e.showTradeType){const t=Hr(r,e);n.annotations.push(t)}}return n}(e,i,n);if(r.markers.length>0){Vr(t,r.markers)}},c=(t,e)=>{const i=function(t,e){const i={markers:[],shapes:[],texts:[]};for(const n of t){const t=Kr(n);i.markers.push(...t.markers),i.shapes.push(...t.shapes),i.texts.push(...t.texts)}if(e)for(const n of e)if(n.visible)for(const t of n.annotations){const e=Kr(t,n.opacity);i.markers.push(...e.markers),i.shapes.push(...e.shapes),i.texts.push(...e.texts)}return i}(e);if(i.markers.length>0){const t=Object.values(o.current).flat();if(t.length>0){Vr(t[0],i.markers)}}},d=(t,e)=>{const i=e.filter(t=>t.visible).flatMap(t=>t.annotations);i.length>0&&c(t,i)},f=(t,e)=>{const i=t.chartElement(),n=document.createElement("div");n.style.cssText="\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      z-index: 1000;\n      background: white;\n      border: 1px solid #ccc;\n      border-radius: 4px;\n      padding: 5px;\n    ",e.ranges.forEach(e=>{const i=document.createElement("button");i.textContent=e.label,i.style.cssText="\n        margin: 0 2px;\n        padding: 4px 8px;\n        border: 1px solid #ddd;\n        border-radius: 3px;\n        background: white;\n        cursor: pointer;\n      ",i.onclick=()=>{e.seconds&&t.timeScale().setVisibleRange({from:Date.now()/1e3-e.seconds,to:Date.now()/1e3})},n.appendChild(i)}),i.appendChild(n)},p=()=>{const t=Object.values(s.current);t.length<2||t.forEach((i,n)=>{e.syncConfig.crosshair&&i.subscribeCrosshairMove(e=>{const i=(Object.values(o.current)[n]||[])[0];let r;if(i&&e.seriesData){const t=e.seriesData.get(i);var s;if(t)r=null!==(s=t.value)&&void 0!==s?s:t.close}t.forEach((t,s)=>{s!==n&&void 0!==r&&void 0!==e.time&&i&&t.setCrosshairPosition(r,e.time,i)})}),e.syncConfig.timeRange&&i.timeScale().subscribeVisibleTimeRangeChange(e=>{null!==e&&t.forEach((t,i)=>{i!==n&&t.timeScale().setVisibleRange(e)})})})};return e.charts&&0!==e.charts.length?(0,Jr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:e.charts.map((t,e)=>{const n=t.chartId||`chart-${e}`,s=`chart-container-${n}`;return(0,Jr.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"10px"},children:(0,Jr.jsx)("div",{id:s,style:{width:r,height:i}})},n)})}):(0,Jr.jsx)("div",{children:"No charts configured"})},es=()=>{const t=(0,o.useRenderData)(),e=t.args.config,i=t.args.height||400,n=t.args.width||800;return e?(0,Jr.jsx)(ts,{config:e,height:i,width:n}):(0,Jr.jsx)("div",{children:"No configuration provided"})};r.render((0,Jr.jsx)(n.StrictMode,{children:(0,Jr.jsx)(o.StreamlitProvider,{children:(0,Jr.jsx)(es,{})})}),document.getElementById("root")),s.Streamlit.setComponentReady()})();
//# sourceMappingURL=main.e9545240.js.map